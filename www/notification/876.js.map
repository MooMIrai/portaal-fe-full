{"version":3,"file":"876.js","mappings":"sQAkEA,QA3DY,WAEV,IAAOA,GAAaC,EAAAA,EAAAA,KAAbD,UA4BP,OA1BAE,EAAAA,EAAAA,YAAU,WAER,GAAIF,EAgBF,MAd6B,YAA1BG,aAAaC,YACdD,aAAaE,oBAAoBC,MAAK,SAACC,GACvB,WAATA,GACDC,IAAAA,UACE,CAAEC,MAAM,EAAMC,MAAO,WACrB,qJAIR,IAGFC,EAAAA,EAAwBC,mBAEjB,WACL,CAKN,GAAE,CAACZ,IAGDa,IAAAA,cAACC,IAAM,CAACC,KAAM,CACZ,CACEC,KAAK,uBACLC,QAAQJ,IAAAA,cAACK,EAAAA,EAAS,MAClBC,YAAY,CAAC,4BAEf,CACEH,KAAK,2BACLC,QAAQJ,IAAAA,cAACK,EAAAA,EAAS,MAClBC,YAAY,CAAC,4BAEf,CACEH,KAAK,yBACLC,QAAQJ,IAAAA,cAACO,EAAAA,EAAQ,MACjBD,YAAY,CAAC,gCASrB,C","sources":["webpack://portaal-mfe-notifications/./src/App.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { InboxPage } from \"./pages/Inbox/component\";\nimport { useSocketConnected } from \"./hooks/useSocket\";\nimport { SentPage } from \"./pages/Sent/component\";\nimport NotificationProviderActions from \"common/providers/NotificationProvider\";\nimport { notificationServiceHttp } from \"./services/notificationService\";\nimport Routes from 'common/Routes';\nconst App = () => {\n\n  const {connected} = useSocketConnected();\n\n  useEffect(()=>{//on init\n    \n    if (connected) {\n\n      if(Notification.permission!=='granted'){\n        Notification.requestPermission().then((result) => {\n            if(result==='denied'){\n              NotificationProviderActions.openModal(\n                { icon: true, style: \"warning\" },\n                \"Attenzione hai disabilitato le notifiche del browser, se vuoi essere al corrente dei messaggi in arrivo riattivale dalle impostazioni del browser.\"\n            );\n              \n            }\n        });\n      }\n  \n      notificationServiceHttp.getMyUnreadCount();\n      \n      return ()=>{\n        //ondestroy\n      }\n\n    }\n\n  },[connected]);\n\n  return (\n    <Routes data={[\n      {\n        path:\"/notifications/inbox\",\n        element:<InboxPage />,\n        permissions:[\"READ_NOTIFICATION_INBOX\"]\n      },\n      {\n        path:\"/notifications/inbox/:id\",\n        element:<InboxPage />,\n        permissions:[\"READ_NOTIFICATION_INBOX\"]\n      },\n      {\n        path:\"/notifications/inviate\",\n        element:<SentPage />,\n        permissions:[\"READ_NOTIFICATION_MANAGER\"]\n      }\n    ]}></Routes>\n    /*<Routes >\n          <Route path={\"/notifications/inbox\"} element={<InboxPage />} />\n          <Route path={\"/notifications/inbox/:id\"} element={<InboxPage />} />\n          <Route path={\"/notifications/manager\"} element={<SentPage />} />\n        </Routes>*/\n  );\n};\n\n\n\n\nexport default App;\n"],"names":["connected","useSocketConnected","useEffect","Notification","permission","requestPermission","then","result","NotificationProviderActions","icon","style","notificationServiceHttp","getMyUnreadCount","React","Routes","data","path","element","InboxPage","permissions","SentPage"],"sourceRoot":""}