"use strict";(self.webpackChunkportaal_mfe_stock=self.webpackChunkportaal_mfe_stock||[]).push([[943],{1755:(e,t,n)=>{n.d(t,{A:()=>ze});var a=n(7255),i=n(4914),o=n.n(i),r=n(4540),l=n.n(r),c=n(8557),s=n(9029),A=n.n(s),u=n(2816),d=n(9542),m=n(6752),f=n(8697),g=n(3509),p=n(2644),C=n(7136),v=n(2207),b=n.n(v),y=n(1178),B=n.n(y),h=n(9322),E=n.n(h),w=n(5993),k=n.n(w),x=n(5942),F=n.n(x),z=(n(203),n(3069)),S=n.n(z);function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var P=new(function(e){function t(){var e,n,a,i;(0,d.A)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=this,a=t,i=[].concat(r),a=(0,g.A)(a),e=(0,f.A)(n,D()?Reflect.construct(a,i||[],(0,g.A)(n).constructor):a.apply(n,i)),(0,C.A)(e,"searchAssignedByUser",function(){var e=(0,u.A)(b().mark((function e(t,n,a,i,o,r,l){var c,s,A;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={pageNum:n,pageSize:a,include:l},"string"==typeof r&&""!==r.trim()&&(c.term=r),s={},i&&(s.filtering=i),o&&(s.sorting=o),l&&(s.include=!0),e.next=9,B().post("/api/v1/stock/getCurrentAllocations/".concat(t),s,{params:c});case 9:return A=e.sent,e.abrupt("return",A.data);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error fetching resources:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,i,o,r,l){return e.apply(this,arguments)}}()),(0,C.A)(e,"searchUserWithAllocation",function(){var e=(0,u.A)(b().mark((function e(t,n,a,i,o,r){var l,c,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={pageNum:t,pageSize:n,include:r},"string"==typeof o&&""!==o.trim()&&(l.term=o),c={},a&&(c.filtering=a),i&&(c.sorting=i),r&&(c.include=!0),e.next=9,B().post("/api/v1/stock/getEmployeesWithAllocations",c,{params:l});case 9:return s=e.sent,e.abrupt("return",s.data);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error fetching resources:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,i,o,r){return e.apply(this,arguments)}}()),(0,C.A)(e,"searchUnassigned",function(){var e=(0,u.A)(b().mark((function e(t,n,a,i,o,r){var l,c,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={pageNum:t,pageSize:n,include:r},"string"==typeof o&&""!==o.trim()&&(l.term=o),c={},a&&(c.filtering=a),i&&(c.sorting=i),r&&(c.include=!0),e.next=9,B().post("/api/v1/stock/getUnallocated",c,{params:l});case 9:return s=e.sent,e.abrupt("return",s.data);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error fetching resources:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,i,o,r){return e.apply(this,arguments)}}()),(0,C.A)(e,"searchHistory",function(){var e=(0,u.A)(b().mark((function e(t,n,a,i,o,r,l){var c,s,A;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={pageNum:n,pageSize:a,include:l},"string"==typeof r&&""!==r.trim()&&(c.term=r),s={},i&&(s.filtering=i),o&&(s.sorting=o),l&&(s.include=!0),e.next=9,B().post("/api/v1/stock/getAllocationsByStock/".concat(t),s,{params:c});case 9:return A=e.sent,e.abrupt("return",A.data);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error fetching resources:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,i,o,r,l){return e.apply(this,arguments)}}()),(0,C.A)(e,"searchAccount",(function(e){return B().get("api/v1/accounts/findByName?search=".concat(e)).then((function(e){return e.data}))})),e}return(0,p.A)(t,e),(0,m.A)(t,[{key:"getTableName",value:function(){return"stock"}},{key:"searchMock",value:function(){return Promise.resolve({meta:{total:15},data:[{model:"Modello X1",serial_number:"SN123456789",DeviceType:{name:"Smartphone"}},{model:"Modello Y1",serial_number:"SN987654321",DeviceType:{name:"Laptop"}},{model:"Modello Z1",serial_number:"SN192837465",DeviceType:{name:"Tablet"}},{model:"Modello X2",serial_number:"SN564738291",DeviceType:{name:"Smartwatch"}},{model:"Modello Y2",serial_number:"SN102938475",DeviceType:{name:"Desktop"}},{model:"Modello Z2",serial_number:"SN384756192",DeviceType:{name:"Smartphone"}},{model:"Modello X3",serial_number:"SN475849302",DeviceType:{name:"Laptop"}},{model:"Modello Y3",serial_number:"SN847362910",DeviceType:{name:"Tablet"}},{model:"Modello Z3",serial_number:"SN293847561",DeviceType:{name:"Desktop"}},{model:"Modello X4",serial_number:"SN657483920",DeviceType:{name:"Smartwatch"}},{model:"Modello Y4",serial_number:"SN192030405",DeviceType:{name:"Smartphone"}},{model:"Modello Z4",serial_number:"SN384920573",DeviceType:{name:"Laptop"}},{model:"Modello X5",serial_number:"SN575839201",DeviceType:{name:"Tablet"}},{model:"Modello Y5",serial_number:"SN203948576",DeviceType:{name:"Desktop"}},{model:"Modello Z5",serial_number:"SN485930271",DeviceType:{name:"Smartphone"}}]})}},{key:"assignDevices",value:function(e,t,n){var a=k().combineDataToBE([n],void 0,"waiver");return B().post("/api/v1/stock/allocate",{allocations:t.map((function(t){return{person_id:e,stock_id:t,allocation_date:(new Date).toISOString()}})),Attachment:a})}},{key:"unassignDevices",value:function(e,t){var n=k().combineDataToBE([t],void 0,"receipt");return B().post("/api/v1/stock/updateAllocation",{allocation_ids:e,restituition_date:(new Date).toISOString(),Attachment:n})}},{key:"getDeviceTypes",value:function(e){return B().get("/api/v1/crud/deviceType?term="+e)}},{key:"getPerson",value:function(e){return e?B().get("/api/v1/crud/person/"+e+"?include=true").then((function(e){return e.data})):Promise.resolve(null)}},{key:"produceAssignPdf",value:function(e,t,n,a){return this.getPerson(e).then((function(e){var i=new(F());i.addImage("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","PNG",68,8,76,45),i.setFontSize(16),i.text("Oggetto: Consegna materiale",70,55),i.setFontSize(12),e?i.text("Il sottoscritto ".concat(e.firstName," ").concat(e.lastName,". Nato a ").concat(e.CityBirth?e.CityBirth.name:"______________"," il ").concat(new Date(e.dateBirth).toLocaleDateString()," in data ").concat(t.toLocaleDateString()," riceve da Taal il sottostante materiale:"),30,65,{align:"justify",maxWidth:150}):i.text("Il sottoscritto ___________________________. Nato a _______________ il ____________ in data ".concat(t.toLocaleDateString()," riceve da Taal il sottostante materiale:"),30,65,{align:"justify",maxWidth:150}),i.autoTable({startY:75,margin:{left:30,right:30},head:[["Descrizione del materiale","Modello","Numero seriale"]],body:n,styles:{lineColor:[0,0,0],lineWidth:.2,fillColor:!1,textColor:[0,0,0]},headStyles:{fillColor:!1,textColor:[0,0,0]},bodyStyles:{fillColor:!1,textColor:[0,0,0]},theme:"plain"}),i.text("In caso di danno, furto, o altri motivi che rendano necessario un intervento di manutenzione o di sostituzione totale i danni sono imputabili:",30,i.lastAutoTable.finalY+10,{align:"justify",maxWidth:150}),i.text("• al DIPENDENTE, i costi saranno anticipati dall' azienda ma addebitati al DIPENDENTE.",40,i.lastAutoTable.finalY+25,{align:"justify",maxWidth:110}),i.text("La riconsegna dovrà necessariamente avvenire in forma scritta attraverso la firma nell’apposito spazio, pena l’estensione della responsabilità del\r\nDIPENDENTE fino a tale data.",30,i.lastAutoTable.finalY+40,{align:"justify",maxWidth:150}),i.text("Per ricevuta e accettazione IL COLLABORATORE",60,i.lastAutoTable.finalY+70,{align:"center",maxWidth:70}),i.text("Per",150,i.lastAutoTable.finalY+70,{align:"center",maxWidth:70}),i.line(30,i.lastAutoTable.finalY+90,90,i.lastAutoTable.finalY+90),i.line(120,i.lastAutoTable.finalY+90,180,i.lastAutoTable.finalY+90),a&&i.addImage(a,"PNG",30,i.lastAutoTable.finalY+80,60,15);var o=i.output("blob");return k().convertBlobToBE(o,"Assegnazione_"+Date.now()+".pdf")}))}},{key:"produceRestitutionPdf",value:function(e,t,n,i){return Promise.all([this.getPerson(e),this.getPerson(S().getData().person_id)]).then((function(e){var o=(0,a.A)(e,2),r=o[0],l=o[1],c=new(F());c.addImage("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","PNG",68,8,76,45),c.setFontSize(16),c.text("Oggetto: Restituzione materiale",70,55),c.setFontSize(12),r?c.text("Il sottoscritto ".concat(r.firstName," ").concat(r.lastName,". Nato a ").concat(r.CityBirth?r.CityBirth.name:"______________"," il ").concat(new Date(r.dateBirth).toLocaleDateString()," in data ").concat(t.toLocaleDateString()," riceve da Taal il sottostante materiale:"),30,65,{align:"justify",maxWidth:150}):c.text("Il sottoscritto ___________________________. Nato a _______________ il ____________ in data ".concat(t.toLocaleDateString()," riceve da Taal il sottostante materiale:"),30,65,{align:"justify",maxWidth:150}),c.autoTable({startY:75,margin:{left:30,right:30},head:[["Descrizione del materiale","Modello","Numero seriale"]],body:n,styles:{lineColor:[0,0,0],lineWidth:.2,fillColor:!1,textColor:[0,0,0]},headStyles:{fillColor:!1,textColor:[0,0,0]},bodyStyles:{fillColor:!1,textColor:[0,0,0]},theme:"plain"}),c.setFont("helvetica","bold"),c.text("Dichiarazione del dipendente:",30,c.lastAutoTable.finalY+10,{}),c.setFont("helvetica","normal"),c.text("Il sottoscritto, ".concat(r.firstName," ").concat(r.lastName,', dichiara di aver restituito tutto il materiale aziendale di cui sopra, in buono stato di conservazione, salvo quanto specificato nella colonna "Condizioni".'),30,c.lastAutoTable.finalY+15,{align:"justify",maxWidth:150}),c.setFont("helvetica","bold"),c.text("Dichiarazione del responsabile:",30,c.lastAutoTable.finalY+35,{}),c.setFont("helvetica","normal"),c.text("Il sottoscritto, ".concat(l.firstName," ").concat(l.lastName,", in qualità di Responsabile, dichiara di aver ricevuto il materiale sopra elencato dal dipendente ").concat(r.firstName," ").concat(r.lastName," e di averne verificato lo stato di conservazione"),30,c.lastAutoTable.finalY+40,{align:"justify",maxWidth:150}),c.text("Per ricevuta e accettazione IL COLLABORATORE",60,c.lastAutoTable.finalY+80,{align:"center",maxWidth:70}),c.text("Per",150,c.lastAutoTable.finalY+80,{align:"center",maxWidth:70}),c.line(30,c.lastAutoTable.finalY+100,90,c.lastAutoTable.finalY+100),c.line(120,c.lastAutoTable.finalY+100,180,c.lastAutoTable.finalY+100),i&&c.addImage(i,"PNG",30,c.lastAutoTable.finalY+90,60,15);var s=c.output("blob");return k().convertBlobToBE(s,"Resituzione_"+Date.now()+".pdf")}))}}])}(E())),L=n(8733),T=n.n(L),K=function(e,t){return{model:{name:"model",label:"Modello",type:"text",value:e.model||"",required:!0,disabled:"view"===t,validator:function(e){return e?"":"Il campo modello è obbligatorio"}},DeviceType:{name:"DeviceType",label:"Tipo dispositivo",type:"devicetype-selector",value:e.DeviceType,required:!0,disabled:"view"===t,validator:function(e){return e?"":"Selezionare un tipo dispositivo"}},serial_number:{name:"serial_number",label:"Numero Seriale",type:"text",value:e.name||"",disabled:"view"===t},billing_number:{name:"billing_number",label:"Numero Fattura",type:"text",value:e.billing_number||""},files:{name:"files",label:"Carica Fattura",type:"uploadSingleFile",withCredentials:!1,disabled:"view"===t,value:e.files||"",existingFile:e.files&&e.files.length?e.files.map((function(e){return{name:e.file_name,id:e.uniqueIdentifier}})):void 0,accept:".pdf",multiple:!1}}},j=n(8539),Q=n.n(j),Z=n(7026),M=n.n(Z),R=n(8734),X=n.n(R),I={"devicetype-selector":M()(X()((function(e){return P.getDeviceTypes(e).then((function(e){return e?e.data.data:[]}))})))},J=n(2659),Y=n(7708),V=n.n(Y);function H(e){var t=[{key:"Person.firstName",label:"Nome",type:"string",sortable:!1},{key:"Person.lastName",label:"Cognome",type:"string",sortable:!1},{key:"allocation_date",label:"Data assegnazione",type:"custom",sortable:!0,render:function(e){return o().createElement("td",null,new Date(e.allocation_date).toLocaleDateString(),e.waiver?o().createElement(Q(),{themeColor:"error",fillMode:"clear",size:"small",onClick:function(){return k().openFromBE(e.waiver)}},o().createElement(V(),{size:"large",icon:J.filePdfIcon})):null)}},{key:"restituition_date",label:"Data restituzione",type:"custom",sortable:!1,render:function(e){return e.restituition_date?o().createElement("td",null,new Date(e.restituition_date).toLocaleDateString(),e.receipt?o().createElement(Q(),{themeColor:"error",fillMode:"clear",size:"small",onClick:function(){return k().openFromBE(e.receipt)}},o().createElement(V(),{size:"large",icon:J.filePdfIcon})):null):o().createElement("td",null,"Ancora assegnato")}}];return o().createElement(A(),{filterable:!0,sortable:!0,getData:function(t,n,a){return P.searchHistory(e.id,t.currentPage,t.pageSize,n,a,void 0,!0)},columns:t})}var N=n(5072),O=n.n(N),U=n(7825),W=n.n(U),q=n(7659),G=n.n(q),_=n(5056),$=n.n(_),ee=n(540),te=n.n(ee),ne=n(1113),ae=n.n(ne),ie=n(2576),oe={};oe.styleTagTransform=ae(),oe.setAttributes=$(),oe.insert=G().bind(null,"head"),oe.domAPI=W(),oe.insertStyleElement=te(),O()(ie.A,oe);const re=ie.A&&ie.A.locals?ie.A.locals:void 0;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,C.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t=(0,i.useRef)(),n=(0,i.useState)(e.row),r=(0,a.A)(n,2),c=r[0],s=r[1],A=(0,i.useState)(0),u=(0,a.A)(A,2),d=u[0],m=u[1],f=function(){var n=!1;if(("create"===e.type||"edit"===e.type)&&(t.current&&(t.current.onSubmit(),n=!t.current.isValid()),!n)){var a=ce(ce({},t.current.values),{},{deviceType_id:t.current.values.DeviceType.id,Attachment:t.current.values.files});e.onSubmit(e.type,a,e.refreshTable,e.row.id,e.closeModalCallback)}"delete"===e.type&&e.onSubmit(e.type,{},e.refreshTable,e.row.id,e.closeModalCallback)};if("delete"===e.type)return o().createElement("div",{className:re.formDelete},o().createElement("span",null,"Sei sicuro di voler eliminare il record?"),o().createElement("div",null,o().createElement(Q(),{onClick:function(){return e.closeModalCallback()}},"Cancel"),o().createElement(Q(),{themeColor:"error",onClick:f},"Elimina")));var g=[{title:"Dati Dispositivo",children:o().createElement("div",{className:re.parentForm},o().createElement(T(),{ref:t,fields:Object.values(K(c,e.type)),formData:c,onSubmit:function(e){return s(e)},addedFields:I}))}];return"edit"!==e.type&&"view"!==e.type||!e.row||g.push({title:"Storico Assegnazioni",children:o().createElement(H,{id:e.row.id})}),o().createElement(l(),{tabs:g,onSelect:function(e){m(e.selected)},selected:d,button:{label:"view"===e.type?"Esci":"Salva",onClick:f}})}var Ae=n(8500),ue=n.n(Ae),de=n(8386),me=n.n(de),fe=n(2871),ge=n.n(fe),pe=n(3564),Ce=M()(X()((function(e){return P.searchAccount(e).then((function(e){return e?e.map((function(e){return{id:e.person_id,name:e.firstName+" "+e.lastName}})):[]}))})));function ve(e){var t=(0,i.useState)(),n=(0,a.A)(t,2),r=n[0],l=n[1],c=(0,i.useState)(),s=(0,a.A)(c,2),A=s[0],u=s[1],d=(0,i.useState)(""),m=(0,a.A)(d,2),f=m[0],g=m[1],p=(0,i.useState)(),C=(0,a.A)(p,2),v=C[0],b=C[1];return(0,i.useEffect)((function(){v?g(k().urlFromUint8(v.data,v.content_type)):A?g(k().urlFromUint8(A.data,A.content_type)):P.produceAssignPdf(null==r?void 0:r.id,new Date,e.devices.map((function(e){return[e.DeviceType.name,e.model,e.serial_number]}))).then((function(e){g(k().urlFromUint8(e.data,e.content_type))}))}),[v,A,r]),(0,i.useEffect)((function(){return function(){return URL.revokeObjectURL(f)}}),[f]),o().createElement("div",{style:{display:"flex",justifyContent:"space-between",height:"100%",gap:15}},o().createElement("div",{style:{display:"flex",flexDirection:"column",gap:15}},o().createElement("table",{style:{border:"1px solid #000"}},o().createElement("tbody",null,e.devices.map((function(e){return o().createElement("tr",{key:e.serial_number},o().createElement("td",null,e.DeviceType.name),o().createElement("td",null,e.model),o().createElement("td",null,e.serial_number))})))),o().createElement(Ce,{label:"Seleziona dipendente",value:r,onChange:function(e){l(e.value),b(void 0),u(void 0)}}),r&&o().createElement(o().Fragment,null,o().createElement("span",null,"Scegli scaricare il modulo non firmato (dalla preview alla tua destra) e ricaricalo ",o().createElement("br",null)," firmato da qui"),o().createElement(pe.UploadSingleFileInput,{onChange:function(e){var t;null!==(t=e.value)&&void 0!==t&&t.create&&(u(e.value.create[0]),b(void 0))},value:A,name:"waiver"}),o().createElement("span",null,"Oppure fai firmare con il tablet il documento"),o().createElement(ge(),{name:r.name,surname:"",description:"Firma il documento di approvazione",onSign:function(t){P.produceAssignPdf(r.id,new Date,e.devices.map((function(e){return[e.DeviceType.name,e.model,e.serial_number]})),t).then((function(e){b(e),u(void 0)}))},onError:function(){ue().openModal({icon:!0,style:"error"},"Errore di collegamento con il tablet.\nControlla di aver installato il driver.")}})),r&&(A||v)?o().createElement(Q(),{type:"button",themeColor:"success",onClick:function(){P.assignDevices(r.id,e.devices.map((function(e){return e.id})),v||A).then((function(){ue().openModal({icon:!0,style:"success"},"Dispositivi associati"),e.onSubmit()}))}},"Conferma Assegnazione"):null),o().createElement("div",{style:{flex:1}},f&&f.length?o().createElement("iframe",{width:"100%",height:"100%",src:f}):null))}function be(){var e=(0,i.useState)([]),t=(0,a.A)(e,2),n=t[0],r=t[1],l=(0,i.useState)(!1),s=(0,a.A)(l,2),u=s[0],d=s[1],m=(0,i.useState)(0),f=(0,a.A)(m,2),g=f[0],p=f[1],C=[{key:"model",label:" ",type:"custom",sortable:!1,width:"35px",format:"noExcel",render:function(e){return o().createElement("td",null,!e.isCurrentlyAssigned&&o().createElement("input",{title:"Seleziona riga",type:"checkbox",style:{width:15,height:15},checked:null==n?void 0:n.some((function(t){return t.serial_number===e.serial_number})),onChange:function(){null!=n&&n.some((function(t){return t.serial_number===e.serial_number}))?r(n.filter((function(t){return t.serial_number!=e.serial_number}))):r([].concat((0,c.A)(n),[e]))}}))}},{key:"model",label:"Modello",type:"string",sortable:!0,filter:"text"},{key:"serial_number",label:"Seriale",type:"string",sortable:!0,filter:"text"},{key:"DeviceType.name",label:"Tipo dispositivo",type:"string",sortable:!1,filter:"text"}],v=function(e,t,n,a,i){var o=void 0;"create"===e?o=P.createResource(t):"edit"===e?o=P.updateResource(a,t):"delete"===e&&(o=P.deleteResource(a)),o&&o.then((function(){ue().openModal({icon:!0,style:"success"},"Operazione avvenuta con successo"),n(),i()}))};return o().createElement(o().Fragment,null,o().createElement(A(),{customToolBarComponent:function(){return S().hasPermission("WRITE_STOCK")?o().createElement(Q(),{themeColor:"success",disabled:!n.length,onClick:function(){d(!0)}},"Associa dispositivi selezionati"):o().createElement(o().Fragment,null)},writePermissions:["WRITE_STOCK"],forceRefresh:g,filterable:!0,sortable:!0,getData:function(e,t,n){return P.searchUnassigned(e.currentPage,e.pageSize,t,n,void 0,!0)},columns:C,resizableWindow:!0,initialHeightWindow:800,draggableWindow:!0,initialWidthWindow:900,resizable:!0,actions:function(){return["create","edit","delete","show"]},formCrud:function(e,t,n,a){return o().createElement(se,{row:e,type:t,closeModalCallback:n,refreshTable:a,onSubmit:v})}}),o().createElement(me(),{title:"Associa dispositivi",isOpen:u,onClose:function(){return d(!1)},width:"100%",height:"100%"},o().createElement(ve,{devices:n,onSubmit:function(){d(!1),p(g+1)}})))}var ye=(0,i.createContext)({checkboxes:{},toggleCheckbox:function(){},clearCheckboxs:function(){}}),Be=function(e){var t=e.children,n=(0,i.useState)({}),r=(0,a.A)(n,2),l=r[0],c=r[1];return o().createElement(ye.Provider,{value:{checkboxes:l,toggleCheckbox:function(e,t){c((0,C.A)({},e,t))},clearCheckboxs:function(){c({})}}},t)},he=function(){return(0,i.useContext)(ye)};function Ee(e){var t=he(),n=t.checkboxes,r=t.toggleCheckbox,l=t.clearCheckboxs,s=(0,i.useState)(!1),A=(0,a.A)(s,2),u=A[0],d=A[1];return(0,i.useEffect)((function(){d(n[e.idGroup]&&n[e.idGroup].some((function(t){return t.Stock.serial_number===e.row.Stock.serial_number})))}),[n]),o().createElement("td",null,o().createElement("input",{title:"Seleziona riga",type:"checkbox",style:{width:15,height:15},checked:u,onChange:function(){if(u){var t=n[e.idGroup].filter((function(t){return t.Stock.serial_number!==e.row.Stock.serial_number}));t.length?r(e.idGroup,t):l()}else r(e.idGroup,[].concat((0,c.A)(n[e.idGroup]||[]),[e.row]))}}))}function we(e){var t=(0,i.useState)(),n=(0,a.A)(t,2),r=n[0],l=n[1],c=[{key:"model",label:" ",type:"custom",sortable:!1,width:"35px",render:function(t){return o().createElement(Ee,{idGroup:e.user,row:t})}},{key:"Stock.model",label:"Modello",type:"string",sortable:!0,filter:"text"},{key:"Stock.serial_number",label:"Seriale",type:"string",sortable:!0,filter:"text"},{key:"Stock.DeviceType.name",label:"Tipo dispositivo",type:"string",sortable:!1},{key:"Stock.id",label:"Storico",type:"custom",render:function(e){return o().createElement("td",null,o().createElement(Q(),{themeColor:"secondary",fillMode:"clear",size:"small",onClick:function(){l(e.Stock.id)}},o().createElement(V(),{size:"large",icon:J.clockArrowRotateIcon})," Visualizza Storico"))}}];return o().createElement(o().Fragment,null,o().createElement(A(),{filterable:!0,sortable:!0,getData:function(t,n,a){return P.searchAssignedByUser(e.user,t.currentPage,t.pageSize,n,a,void 0,!0)},columns:c,resizableWindow:!0,initialHeightWindow:800,draggableWindow:!0,initialWidthWindow:900,resizable:!0}),o().createElement(me(),{title:"Visualizza Storico",isOpen:!!r,onClose:function(){return l(void 0)},width:"100%",height:"100%"},r&&o().createElement(H,{id:r})))}function ke(e){var t=he().checkboxes,n=(0,i.useState)(""),r=(0,a.A)(n,2),l=r[0],c=r[1],s=(0,i.useState)(),A=(0,a.A)(s,2),u=A[0],d=A[1],m=(0,i.useState)(),f=(0,a.A)(m,2),g=f[0],p=f[1];return(0,i.useEffect)((function(){if(g)c(k().urlFromUint8(g.data,g.content_type));else if(u)c(k().urlFromUint8(u.data,u.content_type));else if(t&&Object.keys(t).length){var e=Object.keys(t)[0];P.produceRestitutionPdf(parseInt(e),new Date,t[e].map((function(e){return[e.Stock.DeviceType?e.Stock.DeviceType.name:"",e.Stock.model,e.Stock.serial_number]}))).then((function(e){c(k().urlFromUint8(e.data,e.content_type))}))}}),[g,u,t]),(0,i.useEffect)((function(){return function(){return URL.revokeObjectURL(l)}}),[l]),o().createElement("div",{style:{display:"flex",justifyContent:"space-between",height:"100%",gap:15}},o().createElement("div",{style:{display:"flex",flexDirection:"column",gap:15}},o().createElement("table",{style:{border:"1px solid #000"}},o().createElement("tbody",null,t[Object.keys(t)[0]].map((function(e){var t;return o().createElement("tr",{key:e.Stock.serial_number},o().createElement("td",null,null===(t=e.Stock.DeviceType)||void 0===t?void 0:t.name),o().createElement("td",null,e.Stock.model),o().createElement("td",null,e.Stock.serial_number))})))),o().createElement("span",null,"Scegli scaricare il modulo non firmato (dalla preview alla tua destra) e ricaricalo ",o().createElement("br",null)," firmato da qui"),o().createElement(pe.UploadSingleFileInput,{name:"receipt",onChange:function(e){var t;null!==(t=e.value)&&void 0!==t&&t.create&&(d(e.value.create[0]),p(void 0))},value:u}),o().createElement("span",null,"Oppure fai firmare con il tablet il documento"),o().createElement(ge(),{name:"",surname:"",description:"Firma il documento di restituzione",onSign:function(e){var n=Object.keys(t)[0];P.produceAssignPdf(parseInt(n),new Date,t[n].map((function(e){return[e.Stock.DeviceType?e.Stock.DeviceType.name:"",e.Stock.model,e.Stock.serial_number]})),e).then((function(e){p(e),d(void 0)}))},onError:function(){ue().openModal({icon:!0,style:"error"},"Errore di collegamento con il tablet.\nControlla di aver installato il driver.")}}),u||g?o().createElement(Q(),{type:"button",themeColor:"success",onClick:function(){var n=Object.keys(t)[0];P.unassignDevices(t[n].map((function(e){return e.id})),g||u).then((function(){ue().openModal({icon:!0,style:"success"},"Dispositivi associati"),e.onSubmit()}))}},"Restituisci dispositivo"):null),o().createElement("div",{style:{flex:1}},l&&l.length?o().createElement("iframe",{width:"100%",height:"100%",src:l}):null))}function xe(e){var t=he().checkboxes,n=(0,i.useState)(!1),r=(0,a.A)(n,2),l=r[0],c=r[1],s=!t||!Object.keys(t).length;return o().createElement(o().Fragment,null,o().createElement(Q(),{themeColor:"success",type:"button",disabled:s,onClick:function(){c(!0)}},"Restituisci Dispositivi selezionati"),o().createElement(me(),{title:"Restituzione dispositivi",isOpen:l,onClose:function(){return c(!1)},width:"100%",height:"100%"},l&&o().createElement(ke,{onSubmit:function(){c(!1),e.handleRefresh()}})))}function Fe(){var e=[{key:"firstName",label:"Nome",type:"string",sortable:!0,filter:"text"},{key:"lastName",label:"Cognome",type:"string",sortable:!0,filter:"text"},{key:"id",label:"Email",type:"custom",sortable:!1,render:function(e){return o().createElement("td",null,e.Accounts[0].email)}}];return o().createElement(Be,null,o().createElement(A(),{extraExcelColumns:[{label:"Assegnazioni",getFunction:function(e){return e.StockAllocation.map((function(e){return e.Stock.model}))}}],customToolBarComponent:function(e){return S().hasPermission("WRITE_STOCK")?o().createElement(xe,{handleRefresh:e}):o().createElement(o().Fragment,null)},expand:{enabled:!0,render:function(e){return o().createElement(we,{user:e.dataItem.id})}},filterable:!0,sortable:!0,getData:function(e,t,n){return P.searchUserWithAllocation(e.currentPage,e.pageSize,t,n,void 0,!0)},columns:e,resizableWindow:!0,initialHeightWindow:800,draggableWindow:!0,initialWidthWindow:900,resizable:!0}))}function ze(){var e=(0,i.useState)(0),t=(0,a.A)(e,2),n=t[0],r=t[1];return o().createElement(l(),{renderAllContent:!1,selected:n,onSelect:function(e){r(e.selected)},tabs:[{title:"Non Assegnati",children:o().createElement(be,null)},{title:"Assegnati",children:o().createElement(Fe,null)}]})}},2576:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(1354),i=n.n(a),o=n(6314),r=n.n(o)()(i());r.push([e.id,".KkrcwSW4ReOG1lxFmG8e{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap:20px;\n    align-items: center;\n    font-size: 20px;\n    \n     & > div {\n        display: flex;\n        gap:20px;\n     }\n }","",{version:3,sources:["webpack://./src/components/DeviceCrud/style.module.scss"],names:[],mappings:"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,QAAQ;IACR,mBAAmB;IACnB,eAAe;;KAEd;QACG,aAAa;QACb,QAAQ;KACX;CACJ",sourcesContent:[".formDelete{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap:20px;\n    align-items: center;\n    font-size: 20px;\n    \n     & > div {\n        display: flex;\n        gap:20px;\n     }\n }"],sourceRoot:""}]),r.locals={formDelete:"KkrcwSW4ReOG1lxFmG8e"};const l=r}}]);
//# sourceMappingURL=943.js.map