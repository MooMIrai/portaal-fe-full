{"version":3,"file":"583.js","mappings":"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","sources":["webpack://portaal-mfe-sales/./src/adapters/offertaAdapters.ts","webpack://portaal-mfe-sales/./src/adapters/clienteAdapters.ts","webpack://portaal-mfe-sales/./src/component/ClienteCrud/style.module.scss?3ef3","webpack://portaal-mfe-sales/./src/component/ClienteCrud/component.tsx","webpack://portaal-mfe-sales/./src/component/ClienteCrud/form.ts","webpack://portaal-mfe-sales/./src/pages/Clienti/component.tsx","webpack://portaal-mfe-sales/./src/component/OffertaCrud/form.tsx","webpack://portaal-mfe-sales/./src/component/OffertaCrud/customfields.tsx","webpack://portaal-mfe-sales/./src/component/OffertaCrud/style.module.scss?50a1","webpack://portaal-mfe-sales/./src/component/OffertaCrud/component.tsx","webpack://portaal-mfe-sales/./src/pages/Offerte/component.tsx","webpack://portaal-mfe-sales/./src/services/progettoServices.ts","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/config.tsx","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/customFields.tsx","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/styles.module.scss?86e7","webpack://portaal-mfe-sales/./src/component/Modals/DatiOrdineModal/style.module.scss?a43c","webpack://portaal-mfe-sales/./src/component/Modals/DatiOrdineModal/component.tsx","webpack://portaal-mfe-sales/./src/services/attivitaService.ts","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/customFields.ts","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/styles.module.scss?7b69","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/component.tsx","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/customFields.ts","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/styles.module.scss?da72","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/AssignCrud/component.tsx","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/forms/assign.ts","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/component.tsx","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/forms/activity.ts","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/component.tsx","webpack://portaal-mfe-sales/./src/component/Modals/CostiCommessaModal/styles.module.scss?73e2","webpack://portaal-mfe-sales/./src/component/Modals/CostiCommessaModal/CostiCommessaCrud/component.tsx","webpack://portaal-mfe-sales/./src/component/Modals/CostiCommessaModal/customfields.tsx","webpack://portaal-mfe-sales/./src/component/Modals/CostiCommessaModal/component.tsx","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/forms/progetto.ts","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/component.tsx","webpack://portaal-mfe-sales/./src/pages/Progetti/config.tsx","webpack://portaal-mfe-sales/./src/pages/Progetti/component.tsx","webpack://portaal-mfe-sales/./src/services/salService.ts","webpack://portaal-mfe-sales/./src/component/SalCrud/form.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/MoneyInput.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/component.tsx","webpack://portaal-mfe-sales/./src/pages/Sal/provider.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/Draft/SalDraftItem.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/Draft/ProjectDraft.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/Draft/component.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/ReadyToBill/SalRTBItem.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/ReadyToBill/ReadyToBillProject.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/ReadyToBill/component.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/History/SalHistoryItem.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/History/HistoryProject.tsx","webpack://portaal-mfe-sales/./src/component/SalCrud/History/component.tsx","webpack://portaal-mfe-sales/./src/pages/Sal/component.tsx","webpack://portaal-mfe-sales/./src/services/clienteService.ts","webpack://portaal-mfe-sales/./src/services/offertaService.ts","webpack://portaal-mfe-sales/./src/services/personaleServices.ts","webpack://portaal-mfe-sales/./src/component/ClienteCrud/style.module.scss","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/styles.module.scss","webpack://portaal-mfe-sales/./src/component/Modals/AttivitaModal/styles.module.scss","webpack://portaal-mfe-sales/./src/component/Modals/CostiCommessaModal/styles.module.scss","webpack://portaal-mfe-sales/./src/component/Modals/DatiOrdineModal/style.module.scss","webpack://portaal-mfe-sales/./src/component/OffertaCrud/style.module.scss","webpack://portaal-mfe-sales/./src/component/ProgettoCrud/styles.module.scss"],"sourcesContent":["import { base } from \"@progress/kendo-react-common\";\nimport { OfferBEModel, OfferModel } from \"../component/OffertaCrud/model\";\n\nexport type locationOption = {\n  label: string;\n  value: number;\n};\ntype LocationApiResponse = {\n  data: Array<{\n    id: number;\n    code: string;\n    description: string;\n  }>;\n  meta: {\n    total: number;\n  };\n};\nexport const sedeAdapter = (\n  apiResponse: LocationApiResponse\n): locationOption[] => {\n  return apiResponse.data.map((country) => ({\n    label: country.description,\n    value: country.id,\n  }));\n};\n\nexport function fromOfferBEModelToOfferModel(\n  offerBE: OfferBEModel\n): OfferModel {\n  return {\n    id: offerBE.id,\n    protocol: offerBE.project_code, // mapping offer_name to protocol\n    title: offerBE.name, // mapping name to title\n    /* start_date: new Date(offerBE.start_date), */\n    end_date: offerBE.deadline_date\n      ? new Date(offerBE.deadline_date)\n      : undefined,\n    description: offerBE.other_details,\n    rate: offerBE.rate,\n    amount: offerBE.amount,\n    NoCollective: offerBE.noCollective || false,\n    customer_id: offerBE.customer_id || 0,\n    customer_name: offerBE.Customer?.name,\n    customer: {\n      id: offerBE.customer_id || 0,\n      name: offerBE.Customer ? offerBE.Customer.name : \"\",\n    },\n    creation_date: offerBE.date_created\n      ? new Date(offerBE.date_created)\n      : undefined,\n    approval_date: offerBE.approval_date\n      ? new Date(offerBE.approval_date)\n      : undefined,\n    accountManager_id: offerBE.accountManager_id || 0,\n    accountManager: {\n      id: offerBE.accountManager_id || 0,\n      name:\n        offerBE.AccountManager?.Person.firstName +\n        \" \" +\n        offerBE.AccountManager?.Person.lastName,\n    },\n    project_type_id: offerBE.project_type_id || 0,\n    project_type: offerBE.ProjectType\n      ? { id: offerBE.ProjectType.id, name: offerBE.ProjectType.description }\n      : undefined,\n    location_id: offerBE.location_id,\n    billing_type: offerBE.billing_type ? {\n      id: offerBE.billing_type,\n      name: mapBillingTypeName(offerBE.billing_type),\n    } : undefined, // hypothetical method for billing type conversion\n    outcome_type: offerBE.OutcomeType\n      ? {\n          id: offerBE.OutcomeType,\n          name: mapOutcomeTypeName(offerBE.OutcomeType),\n        }\n      : undefined,\n    existingFile: offerBE.files,\n    year: offerBE.year ? new Date(offerBE.year, 1, 1) : undefined,\n    thereIsFile: Array.isArray(offerBE.files) && offerBE.files.length > 0,\n    days: offerBE.days,\n    thereisProject: offerBE.Project ? true : false,\n    files:offerBE.files\n  };\n  \n}\n\nexport function fromOfferModelToOfferBEModel(\n  offerModel: OfferModel\n): OfferBEModel {\n\n  let files = offerModel.attachment;\n  if(offerModel.attachment){\n    if(offerModel.attachment.create)\n      files.create = files.create.map(f=>({...f,property:'files'}))\n    if(offerModel.attachment.delete && offerModel.attachment.delete.deletedFiles)\n      offerModel.attachment.delete.deletedFiles = offerModel.attachment.delete.deletedFiles.map(f=>({...f,property:'files'}))\n  }\n\n  return {\n    id: offerModel.id,\n    project_code: offerModel.protocol, // mapping protocol to offer_name\n    name: offerModel.title, // mapping title to name\n    Attachment: files,\n    /* start_date: offerModel.start_date.toISOString(), */\n    deadline_date: offerModel.end_date?.toISOString() || undefined, // fallback to undefined if empty\n    other_details: offerModel.description || \"\", // mapping description to other_details\n    rate: offerModel.rate && parseFloat(offerModel.rate.toString()),\n    amount: offerModel.amount && parseFloat(offerModel.amount.toString()),\n    customer_id: offerModel.customer?.id,\n    location_id: offerModel.location?.id || 1,\n    accountManager_id: offerModel.accountManager?.id,\n    project_type_id: offerModel.project_type?.id,\n    billing_type: offerModel.billing_type ? offerModel.billing_type.id : undefined,\n    OutcomeType: offerModel.outcome_type?.id,\n    year: offerModel.year ? offerModel.year.getFullYear() : undefined,\n    days: offerModel.days && Number(offerModel.days),\n    noCollective: offerModel.NoCollective,\n    approval_date: offerModel.approval_date?.toISOString() || undefined,\n    ProjectData: offerModel.start_date\n      ? {\n          start_date: offerModel.start_date?.toISOString() || \"\",\n          end_date: offerModel.end_dateP?.toISOString() || undefined,\n          orderNum: offerModel.orderNum || undefined,\n          waitingForOrder: offerModel.waitingForOrder || false,\n        }\n      : undefined,\n  };\n}\n\n// Funzione per convertire un oggetto modificato `OfferModel` in un oggetto `OfferBEModel`\nexport const reverseOfferAdapterUpdate = (\n  modifiedData: Record<string, any>,\n  baseData: OfferModel\n): Partial<OfferBEModel> => {\n  const result: Partial<OfferBEModel> = {}; //rende tutte le propriet opzionali\n  console.log();\n  // Mappatura dei campi base\n  if (\"protocol\" in modifiedData) {\n    result.project_code = modifiedData.protocol;\n  }\n\n  if (\"title\" in modifiedData) {\n    result.name = modifiedData.title;\n  }\n\n  if (\"description\" in modifiedData) {\n    result.other_details = modifiedData.description;\n  }\n\n  if (\"amount\" in modifiedData) {\n    result.amount = parseFloat(modifiedData.amount.toString()) || 0;\n  }\n\n  if (\"customer\" in modifiedData) {\n    result.customer_id = modifiedData.customer?.id;\n  }\n\n  if (\"location\" in modifiedData) {\n    result.location_id = modifiedData.location?.id;\n  }\n\n  if (\"accountManager\" in modifiedData) {\n    result.accountManager_id = modifiedData.accountManager.id;\n  }\n\n  if (\"project_type\" in modifiedData) {\n    result.project_type_id = modifiedData.project_type.id;\n  }\n\n  if (\"billing_type\" in modifiedData) {\n    result.billing_type = modifiedData.billing_type.id;\n  }\n\n  if (\"outcome_type\" in modifiedData) {\n    result.OutcomeType = modifiedData.outcome_type.id;\n  }\n\n  if (\"end_date\" in modifiedData) {\n    result.deadline_date = modifiedData.end_date?.toISOString();\n  }\n\n  if (\"attachment\" in modifiedData) {\n    result.Attachment = modifiedData.attachment;\n  }\n\n  if (\"noCollective\" in modifiedData) {\n    result.noCollective = modifiedData.noCollective;\n  }\n\n  if (\"year\" in modifiedData) {\n    result.year = new Date(modifiedData.year).getFullYear();\n  }\n\n  if (\"days\" in modifiedData || \"rate\" in modifiedData) {\n    if (\"days\" in modifiedData) {\n      result.days = Number(modifiedData.days) || 0;\n    } else {\n      result.days = Number(baseData.days);\n    }\n    if (\"rate\" in modifiedData) {\n      result.rate = parseFloat(modifiedData.rate.toString()) || 0;\n    } else {\n      result.rate = parseFloat(baseData.rate?.toString());\n    }\n  }\n\n  if (\"start_date\" in modifiedData) {\n    result.ProjectData = {\n      start_date: modifiedData.start_date?.toISOString(),\n      end_date: modifiedData.end_date?.toISOString(),\n      orderNum: modifiedData.orderNum,\n      waitingForOrder: modifiedData.waitingForOrder || false,\n    };\n  }\n  return result;\n};\n\nexport const mapBillingTypeName = (name: string) => {\n  switch (name) {\n    case \"Daily\":\n      return \"Fatturazione a giornata\";\n    case \"LumpSum\":\n      return \"Fatturazione a corpo\";\n  }\n  return \"Nessuna Fatturazione\";\n};\n\nexport const mapOutcomeTypeName = (name: string) => {\n  switch (name) {\n    case \"P\":\n      return \"Positivo\";\n    case \"N\":\n      return \"Negativo\";\n    case \"A\":\n      return \"Annullato\";\n    case \"R\":\n      return \"Rimandato\";\n    case \"W\":\n      return \"In Attesa\";\n    case \"C\":\n      return \"Chiuso\";\n  }\n  return \"Nessun esito\";\n};\n","import { CustomerBEModel, CustomerModel } from \"../component/ClienteCrud/model\";\n\n\nexport function adaptToCustomerModel(customer: CustomerBEModel): CustomerModel {\n    return {\n      id:customer.id,\n      customer_code: customer.customer_code, // Mappiamo 'customer_code' a 'code'\n       name: customer.name,\n      vatNumber: customer.vatNumber || customer.taxCode, // Mappiamo 'taxCode' a 'vatNumber' se 'vatNumber'  assente\n      web_site: customer.web_site,\n      email: customer.email,\n      phone: customer.phoneNumber,\n      fax: customer.fax,\n      address: customer.address,\n      zipCode: customer.zipCode,\n      city: customer.city || 0, // Se 'city'  assente, utilizziamo un valore di default (esempio: 0)\n      discountPerc: 0  // Non c' un campo corrispondente per 'discountPerc' in 'Customer'\n    };\n  }\n  \n export function convertToCustomerBE(customerModel: CustomerModel): CustomerBEModel {\n    return {\n      id:customerModel.id,\n      customer_code: customerModel.customer_code, // Mappiamo 'code' a 'customer_code'\n      name: customerModel.name,\n      phoneNumber: customerModel.phone,\n      web_site: customerModel.web_site,\n      fax: customerModel.fax,\n      email: customerModel.email,\n      address: customerModel.address,\n      zipCode: customerModel.zipCode,\n      city: typeof customerModel.city === 'number' ? customerModel.city.toString() : customerModel.city, // Convertiamo 'city' a stringa se  un numero\n      vatNumber: customerModel.vatNumber,\n      taxCode: customerModel.vatNumber, // Mappiamo 'vatNumber' a 'taxCode'\n      data: {} // Lasciamo 'data' vuoto, puoi adattarlo se necessario\n    };\n  }","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { PropsWithRef, useRef, useState } from \"react\";\nimport Form from \"common/Form\";\nimport { CustomerModel } from \"./model\";\nimport Tab from \"common/Tab\";\nimport { getFormCustomerFields } from \"./form\";\nimport { convertToCustomerBE } from \"../../adapters/clienteAdapters\";\nimport Button from \"common/Button\";\n\nimport styles from \"./style.module.scss\";\n\ntype ClienteCrudProps = {\n    row: CustomerModel;\n    type: string;\n    closeModalCallback: () => void;\n    refreshTable: () => void;\n    onSubmit: (type: string, formData: any, refreshTable: () => void, id: any,closeModal:()=>void) => void;\n  };\n\nexport function ClienteCrud(props:PropsWithRef<ClienteCrudProps>){\n\n    const formCustomer = useRef<any>();\n    const [selected, setSelected] = useState(0);\n\n    const [formCustomerData,setformCustomerData] = useState<CustomerModel>(props.row);\n\n    const handleSelect = (e: any) => {\n        setSelected(e.selected);\n    };\n\n    const handleSubmit = () => {\n        let hasError = false;\n   \n        if (props.type === \"create\" || props.type === \"edit\" ) {\n          if (formCustomer.current) {\n            formCustomer.current.onSubmit();\n            if (formCustomer.current.isValid()) {\n              setformCustomerData(formCustomer.current.values);\n            } else {\n              hasError = true;\n            }\n          }\n  \n    \n        if (!hasError) {\n          const formattedData = convertToCustomerBE(formCustomer.current.values);\n          //console.log(\"formattedData\", formattedData);\n          props.onSubmit(props.type, formattedData, props.refreshTable,  props.row.id,props.closeModalCallback);\n          //props.refreshTable();\n          //props.closeModalCallback();\n        }\n      }\n      if(props.type==='delete'){\n          props.onSubmit(props.type, {}, props.refreshTable,  props.row.id,props.closeModalCallback);\n          //props.refreshTable();\n          //props.closeModalCallback();\n      }\n      if(props.type === 'view'){\n        props.closeModalCallback();\n      }\n    }\n    \n    if(props.type==='delete'){\n      return (\n        \n          <div className={styles.formDelete}>\n            <span>{\"Sei sicuro di voler eliminare il record?\"}</span>\n          \n          <div >\n            <Button onClick={()=>props.closeModalCallback()}>Cancel</Button>\n            <Button themeColor={\"error\"} onClick={handleSubmit}>\n              Elimina\n            </Button>\n          </div>\n          </div>\n        \n      )\n    }\n\n    return <Tab \n            tabs={\n                [\n                    {\n                        title: \"Dati Cliente\",\n                        children: (\n                          <div className={styles.parentForm} >\n                            <Form\n                                ref={formCustomer}\n                                fields={Object.values(getFormCustomerFields(formCustomerData,props.type))}\n                                formData={formCustomerData}\n                                onSubmit={(data: CustomerModel) => setformCustomerData(data)}\n                               \n                            />\n                          </div>\n                        ),\n                      },\n                ]\n            }\n            onSelect={handleSelect}\n            selected={selected}\n            button={{ label: props.type === 'view' ? \"Esci\" : \"Salva\", onClick: handleSubmit }}\n    />\n}","import { CustomerModel } from \"./model\";\n\nexport const getFormCustomerFields = (formData: CustomerModel, type:string) => {\n    \n    const onlyLettersValidator = (value: any) => /^[A-Za-z---\\s]+$/.test(value) ? \"\" : \"Il campo deve contenere solo lettere\";\n    \n    const partitaIVAValidator = (value: any) => /^\\d{11}$/.test(value) ? \"\" : \"Il campo deve contenere una partita IVA valida (11 cifre)\";\n\n    const optionalTelefonoCasaValidator = (value: any) => {\n        if (!value) return true;\n        return /^(0\\d{1,4}\\d{5,9}|\\+39\\s?0\\d{1,4}\\d{5,9})$/.test(value);\n    };\n    const percentageValidator = (value: any) => /^(\\d{1,2}(\\.\\d+)?|100(\\.0+)?)(%)?$/.test(value) ? \"\" : \"Il campo deve contenere una percentuale valida (0-100)\"\n    \n    const optional = (value:any,otherValidator) =>{\n        if(!value || !value.length) return \"\";\n        return otherValidator(value);\n    }\n    const emailValidator = (value: any) => {\n        if (!value) return \"\";\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value) ? \"\" : \"L'email non  valida\";\n    };\n    const fields = {\n        customer_code: {\n            name: \"customer_code\",\n            label: \"Codice cliente\",\n            type: \"text\",\n            value: formData.customer_code || \"\",\n            required: true,\n            disabled:type === \"view\",\n            validator: (value: any) => value ? \"\" : \"Il campo Codice Cliente  obbligatorio\",\n        },\n        name: {\n            name: \"name\",\n            label: \"Ragione sociale\",\n            type: \"text\",\n            value: formData.name || \"\",\n            required: true,\n            disabled:type === \"view\",\n            validator: (value: any) => value ? \"\" : \"Il campo Ragione Sociale  obbligatorio\",\n        },\n        vatNumber: {\n            name: \"vatNumber\",\n            label: \"Partita Iva\",\n            type: \"number\",\n            value: formData.vatNumber || \"\",\n            validator: (value: any) => optional(value,partitaIVAValidator),\n        },\n        web_site: {\n            name: \"web_site\",\n            label: \"Sito web\",\n            type: \"text\",\n            value: formData.web_site || \"\",\n            disabled:type === \"view\",\n        },\n        email: {\n            name: \"email\",\n            label: \"Email\",\n            type: \"email\",\n            disabled:type === \"view\",\n            value: formData.email || \"\",\n            validator: (value: any) => optional(value, emailValidator),\n        },\n        phone: {\n            name: \"phone\",\n            label: \"Telefono\",\n            type: \"text\",\n            disabled:type === 'view',\n            value: formData.phone || \"\",\n            validator: (value: any) => optional(value,optionalTelefonoCasaValidator),\n        },\n        fax:{\n            name:\"fax\",\n            label:\"Fax\",\n            type:\"text\",\n            disabled:type === \"view\",\n            value: formData.fax || \"\",\n            validator: (value: any) => optional(value,optionalTelefonoCasaValidator),\n        },\n        address: {\n            name: \"address\",\n            label: \"Indirizzo\",\n            type: \"text\",\n            disabled:type === \"view\",\n            value: formData.address || \"\"\n        },\n        city: {\n            name: \"city\",\n            label: \"Comune\",\n            type: \"text\",\n            disabled:type === \"view\",\n            value: formData.city || \"\",\n            validator: (value: any) => optional(value,onlyLettersValidator),\n        },\n        discountPerc: {\n            name: \"discountPerc\",\n            label: \"Percentuale sconto\",\n            type: \"number\",\n            disabled:type === \"view\",\n            value: formData.discountPerc || \"\",\n            validator: (value: any) => optional(value,percentageValidator),\n        }\n    }\n    return fields\n\n};","import React, { useState, useEffect } from \"react\";\nimport GridTable from \"common/Table\";\nimport { customerService } from \"../../services/clienteService\";\nimport { ClienteCrud } from \"../../component/ClienteCrud/component\";\nimport { adaptToCustomerModel } from \"../../adapters/clienteAdapters\";\nimport NotificationProviderActions from \"common/providers/NotificationProvider\";\n\nconst columns = [\n  { key: \"customer_code\", label: \"Codice\", type: \"string\", sortable: true, filter: \"text\" },\n  { key: \"name\", label: \"Ragione sociale\", type: \"string\", sortable: true, filter: \"text\" },\n  { key: \"email\", label: \"Email\", type: \"string\", sortable: true, filter: \"text\" },\n  { key: \"web_site\", label: \"Sito web\", type: \"string\", sortable: true, filter: \"text\" },\n  { key: \"vatNumber\", label: \"P.IVA\", type: \"string\", sortable: true, filter: \"numeric\" },\n\n];\n\n\nfunction Clienti() {\n\n\n\n  const loadData = async (\n    pagination: any,\n    filter: any,\n    sorting: any[],\n  ) => {\n    const include = true;\n\n    const tableResponse = await customerService.search(\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n\n\n    return {\n      data: tableResponse.data.map(adaptToCustomerModel),\n      meta:tableResponse.meta\n\n    }\n\n  };\n\n\n\n\n  const handleFormSubmit = (type: string, formData: any, refreshTable: any, id: any, closeModal: () => void) => {\n    let promise: Promise<any> | undefined = undefined;\n    if (type === \"create\") {\n      promise = customerService.createResource(formData);\n    } else if (type === \"edit\") {\n      promise = customerService.updateResource(id, formData);\n    } else if (type === \"delete\") {\n      promise = customerService.deleteResource(id);\n    }\n\n    if (promise) {\n      promise.then(() => {\n        NotificationProviderActions.openModal({ icon: true, style: 'success' }, \"Operazione avvenuta con successo\");\n        refreshTable();\n        closeModal();\n      }).catch((error) => {\n      console.error(\"Error during form submission:\", error);\n    });\n  }\n}\n\n  return <GridTable\n    /*  inputSearchConfig={{\n       inputSearch: termValue,\n       handleInputSearch: handleInputSearch,\n       debouncedSearchTerm: termValue,\n     }} */\n    writePermissions={[\"WRITE_SALES_CUSTOMER\"]}\n    filterable={true}\n    pageable={true}\n    sortable={true}\n    getData={loadData}\n    columns={columns}\n    resizableWindow={true}\n    initialHeightWindow={800}\n    draggableWindow={true}\n    initialWidthWindow={900}\n    resizable={true}\n    actions={() => [\n      \"show\",\n      \"edit\",\n      \"delete\",\n      \"create\"\n\n    ]}\n    formCrud={(row: any, type: string, closeModalCallback: any, refreshTable: any) => (\n      <>\n        <ClienteCrud\n          row={row}\n          type={type}\n          closeModalCallback={closeModalCallback}\n          refreshTable={refreshTable}\n          onSubmit={handleFormSubmit}\n        />\n      </>\n    )}\n  />\n\n\n}\n\nexport default Clienti","\n\nimport { OfferModel, Projects } from \"./model\";\n\nexport const getFormOfferFields = (\n    formData: OfferModel,\n    type: string,\n    handleDownload: (fileId: string, name: string) => void,\n    combinedValueOnChangeAttchment: (name: string, value: any) => void,\n    download: boolean,\n    name_attachment: string | null,\n    rowLocation: { id: number, name: string } | undefined,\n    valueOnChange: (name: string, value: any) => void,\n    isDaily: boolean,\n    isLupsum: boolean,\n    combinedValueOnChangeBillyngType: (name: string, value: any) => void,\n    customerForProtocol,\n    endDateValidator,\n    approvalDateValidator\n) => {\n\n    // Validators\n    const onlyLettersValidator = (value: any) => /^[A-Za-z---\\s]+$/.test(value) ? \"\" : \"Il campo deve contenere solo lettere\";\n    const partitaIVAValidator = (value: any) => /^\\d{11}$/.test(value) ? \"\" : \"Il campo deve contenere una partita IVA valida (11 cifre)\";\n    const optionalTelefonoCasaValidator = (value: any) => !value || /^(0\\d{1,4}\\d{5,9}|\\+39\\s?0\\d{1,4}\\d{5,9})$/.test(value);\n    const percentageValidator = (value: any) => /^(\\d{1,2}(\\.\\d+)?|100(\\.0+)?)(%)?$/.test(value) ? \"\" : \"Il campo deve contenere una percentuale valida (0-100)\";\n    const optional = (value: any, otherValidator: (value: any) => string) => (!value || !value.length) ? \"\" : otherValidator(value);\n\n    const requiredIfDailyValidator = (value: any, fieldName: string) => isDaily && !value ? `Il campo ${fieldName}  obbligatorio quando la fatturazione  giornaliera` : \"\";\n\n    if (type === \"edit\" || type === \"view\") {\n        formData.location = rowLocation || formData.location;\n    }\n\n\n\n    // Fields definition\n    const fields: Record<string, any> = {\n        billing_type: {\n            name: \"billing_type\",\n            label: \"Tipo Fatturazione\",\n            type: \"billingtype-selector\",\n            value: formData.billing_type,\n            valueOnChange: combinedValueOnChangeBillyngType,\n            required: true,\n            disabled: type === \"view\",\n            validator: (value: any) => (value ? \"\" : \"Selezionare un Tipo di fatturazione valida\")\n        },\n        creation_date: {\n            name: \"creation_date\",\n            label: \"Data creazione\",\n            type: \"date\",\n            value: formData.creation_date,\n            disabled: true,\n            conditions: (formData: OfferModel) => type === \"edit\" || type === \"view\"\n        },\n        accountManager: {\n            name: \"accountManager\",\n            label: \"Commerciale di riferimento\",\n            type: \"commerciale-selector\",\n            //valueOnChange: valueOnChange,\n            value: formData.accountManager,\n            required: true,\n            disabled: type === \"view\",\n            validator: (value: any) => (value ? \"\" : \"Selezionare un Commerciale valido\")\n        },\n        year: {\n            name: \"year\",\n            label: \"Anno di riferimento\",\n            type: \"year\",\n            value: formData.year,\n            //valueOnChange: valueOnChange,\n            disabled: type === \"view\",\n        },\n        project_type: {\n            name: \"project_type\",\n            label: \"Tipo di offerta\",\n            type: \"projecttype-selector\",\n            value: formData.project_type,\n            valueOnChange: valueOnChange,\n            required: true,\n            disabled: type === \"view\",\n            validator: (value: any) => (value ? \"\" : \"Selezionare un tipo offerta\")\n        },\n        customer: {\n            name: \"customer\",\n            label: \"Cliente\",\n            type: \"customer-selector\",\n            value: formData.customer,\n            required: true,\n            valueOnChange: valueOnChange,\n            disabled: type === \"view\",\n            validator: (value: any) => (value ? \"\" : \"Selezionare un Cliente valido\")\n        },\n\n      \n\n    };\n\n    fields.rate = {\n        name: \"rate\",\n        label: \"Tariffa\",\n        type: \"number\",\n        value: formData.rate,\n        valueOnChange: valueOnChange,\n        required: isDaily,\n        disabled: type === \"view\",\n        validator: (value: any) => requiredIfDailyValidator(value, \"Tariffa\"),\n        conditions: (formData: OfferModel) => formData.billing_type?.id === \"Daily\"\n    };\n    fields.days = {\n        name: \"days\",\n        label: \"Giorni offerti\",\n        type: \"number\",\n        value: formData.days,\n        valueOnChange: valueOnChange,\n        required: isDaily,\n        disabled: type === \"view\",\n        validator: (value: any) => requiredIfDailyValidator(value, \"Giorni offerti\"),\n        conditions: (formData: OfferModel) => formData.billing_type?.id === \"Daily\"\n    };\n\n\n    fields.amount = {\n        name: \"amount\",\n        label: \"Importo\",\n        type: \"number\",\n        value: formData.amount,\n        //valueOnChange: valueOnChange,\n        required: isLupsum,\n        disabled: type === \"view\",\n        conditions: (formData: OfferModel) => formData.billing_type?.id !== \"Daily\",\n        validator: (value: any) => {\n            if (!value && isLupsum) {\n                return \"Il campo Importo  obbligatorio\";\n            }\n            return \"\";\n        }\n    };\n    fields.title = {\n        name: \"title\",\n        label: \"Titolo\",\n        type: \"text\",\n        value: formData.title,\n        //valueOnChange: valueOnChange,\n        required: true,\n        disabled: type === \"view\",\n        validator: (value: any) => (value ? \"\" : \"Il campo Titolo  obbligatorio\")\n    };\n    fields.protocol = {\n        name: \"protocol\",\n        label: \"Protocollo\",\n        type: \"protocol-input\",\n        value: formData.protocol,\n        options : ()=> customerForProtocol,\n        required: true,\n        disabled: type === \"view\",\n        validator: (value: any) => value ? \"\" : \"Il campo Protocollo  obbligatorio\"\n    },\n        fields.location = {\n            name: \"location\",\n            label: \"Sede\",\n            type: \"sede-selector\",\n            value: formData.location,\n            //valueOnChange: valueOnChange,\n            required: true,\n            disabled: type === \"view\"\n        };\n    fields.approval_date = {\n        name: \"approval_date\",\n        //valueOnChange: valueOnChange,\n        label: \"Data approvazione\",\n        type: \"date\",\n        value: formData.approval_date,\n        disabled: type === \"view\",\n        validator:approvalDateValidator,\n    };\n    \n\n    fields.end_date = {\n        name: \"end_date\",\n        label: \"Data scadenza\",\n        type: \"date\",\n        //valueOnChange: valueOnChange,\n        value: formData.end_date,\n        disabled: type === \"view\",\n        validator:endDateValidator\n    };\n    fields.outcome_type = {\n        name: \"outcome_type\",\n        label: \"Tipo Esito\",\n        type: \"outcometype-selector\",\n        //valueOnChange: valueOnChange,\n        value: formData.outcome_type,\n        required: true,\n        disabled: type === \"view\",\n        validator: (value: any) => (value ? \"\" : \"Selezionare un esito valido\")\n    };\n\n    fields.NoCollective = {\n        name: 'NoCollective',\n        label: 'Fuori accordo quadro',\n        //valueOnChange: valueOnChange,\n        type: 'checkbox',\n        showLabel: false,\n        value: formData.NoCollective || false,\n        disabled: type === \"view\"\n    };\n    fields.description = {\n        name: 'description',\n        label: 'Descrizione',\n        //valueOnChange: valueOnChange,\n        type: 'textarea',\n        value: formData.description,\n        disabled: type === \"view\"\n    }\n    /*   fields.googleDriveLink= {\n          name: \"googleDriveLink\",\n          label: \"Google Drive Link\",\n          type: \"urlInput\",\n          value: formData.googleDriveLink,\n          valueOnChange: valueOnChange,\n          disabled: type === \"view\",\n          existingLink:\"https://mail.google.com/chat/u/0/#chat/dm/uR59YcAAAAE\"\n      }, */\n    fields.attachment = {\n        name: \"attachment\",\n        label: \"Carica Offerta\",\n        type: \"uploadMultipleFiles\",\n        //valueOnChange: valueOnChange,\n        disabled: type === \"view\",\n        existingFile: formData.existingFile,\n    };\n\n  \n\n    return fields;\n};\n\n\n\nexport const getFormCommesseFields = (\n    formData: Projects | undefined,\n    valueOnChange: (name: string, value: any) => void,\n    startValidator:any,\n    endValidator:any\n\n) => {\n \n    const fields: Record<string, any> = {\n        start_date: {\n            name: \"start_date\",\n            label: \"Data di inizio\",\n            type: \"date\",\n            required: true,\n            value: formData?.start_date,\n            valueOnChange: (value: any) => valueOnChange(\"start_date\", value),\n            validator: startValidator, \n        },\n        end_dateP: {\n            name: \"end_dateP\",\n            label: \"Data di fine\",\n            type: \"date\",\n            valueOnChange: (value: any) => valueOnChange(\"end_dateP\", value),\n            value: formData?.end_dateP,\n            validator: endValidator,\n        },\n        orderNum: {\n            name: \"orderNum\",\n            label: \"Numero ordine cliente\",\n            type: \"text\",\n            value: formData?.orderNum,\n        },\n        waitingForOrder: {\n            name: \"waitingForOrder\",\n            label: \"In Attesa di ordine\",\n            type: \"checkbox\",\n            showLabel: false,\n            value: formData?.waitingForOrder || false,\n        },\n    };\n\n    return fields;\n};\n","\nimport withField from \"common/hoc/Field\"\nimport withAutoComplete from \"common/hoc/AutoComplete\"\nimport { offertaService } from \"../../services/offertaService\";\nimport { customerService } from \"../../services/clienteService\";\nimport { CrudGenericService } from \"../../services/personaleServices\";\nimport React from \"react\";\nimport InputText from \"common/InputText\";\nimport Button from \"common/Button\";\n\nconst getDataOutcome= (filterP:string)=>{\n    return offertaService.getOutcomeType(filterP);\n}\n\nconst getDataBilling= (filterP:string)=>{\n    return offertaService.getBillingType(filterP);\n}\n\nconst getProtocol = async (customer_code: string) => {\n    const data = await offertaService.getProtocol(customer_code);\n    const protocol = data.protocol;\n    return protocol;\n}\n\nconst getDataCustomer= (filterP:string)=>{\n    return customerService.search(1,20,\n        {\"logic\":\"or\",\"filters\":[{\"field\":\"name\",\"operator\":\"contains\",\"value\":filterP}]\n    }).then((res)=>{\n        if(res ){\n            return res.data\n        }\n    });\n}\nconst getDataLocation = () => {\n    return offertaService.fetchResources(\"location\").then((res) => {\n        if (res && res.data && Array.isArray(res.data)) {\n            // Mappa sui dati correttamente\n            return res.data.map(r => ({ id: r.id, name: r.description }));\n        } else {\n            console.warn(\"Formato della risposta non previsto:\", res);\n            return []; // Ritorna un array vuoto se il formato non  quello atteso\n        }\n    }).catch(error => {\n        console.error(\"Errore nel recupero dei dati:\", error);\n        return [];\n    });\n};\nconst getDataCommerciale= (filterP:string)=>{\n    return CrudGenericService.searchCommerciale(filterP).then((res) => {\n        if(res) return res.map(r => ({id: r.id, name: `${r.Person.firstName} ${r.Person.lastName} (${r.email})`}));\n        else return [];\n    });\n}\n\nconst getDataProjectType= (filterP:string)=>{\n    return offertaService.getProjectType(filterP).then((res)=>{\n        if(res){\n            return res.data.data.map(p=>({id:p.id,name:p.description}));\n        }\n        return [];\n    });\n}\n\nconst ProtocolInput =  (\n    props:any\n  ) => {\n\n    return <div style={{\n        display: 'grid',\n        gridTemplateColumns: \"80% 20%\"\n    }}>\n        <InputText {...props} style={{ borderEndEndRadius:0 ,borderStartEndRadius:0, width:'100%'}} label={undefined} />\n        <Button style={{\n            borderStartStartRadius:0,\n            borderEndStartRadius:0\n        }} themeColor=\"primary\" type=\"button\" onClick={async () => {\n            const customer_code =  props.options()?.customer_code || \"XXX\";\n            const protocol = await getProtocol(customer_code);\n            props.onChange({ value: protocol });\n        }}>\n            Genera\n        </Button>\n        </div>\n  };\n\nexport const offertaCustomFields = {\n    \"projecttype-selector\":withField(withAutoComplete(getDataProjectType)),\n    \"commerciale-selector\": withField(withAutoComplete(getDataCommerciale)),\n    \"customer-selector\":withField(withAutoComplete(getDataCustomer)),\n    \"sede-selector\": withField(withAutoComplete(getDataLocation)),\n    \"outcometype-selector\":withField(withAutoComplete(getDataOutcome)),\n    \"billingtype-selector\":withField(withAutoComplete(getDataBilling)),\n    \"protocol-input\":withField(ProtocolInput)\n}\n\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { PropsWithRef, useEffect, useMemo, useRef, useState } from \"react\";\nimport { OfferModel, Projects } from \"./model\";\nimport Button from 'common/Button';\nimport Form from \"common/Form\";\nimport Tab from \"common/Tab\";\nimport NotificationActions from 'common/providers/NotificationProvider'\n\n\nimport { getFormCommesseFields, getFormOfferFields } from \"./form\";\nimport { offertaCustomFields } from \"./customfields\";\nimport { fromOfferModelToOfferBEModel, locationOption, reverseOfferAdapterUpdate, sedeAdapter } from \"../../adapters/offertaAdapters\";\nimport { offertaService } from \"../../services/offertaService\";\nimport LoaderComponent from \"common/Loader\"\nimport Window from \"common/Window\";\n\n\nimport styles from \"./style.module.scss\";\n\ntype OffertaCrudProps = {\n  row: OfferModel;\n  type: string;\n  closeModalCallback: () => void;\n  refreshTable: () => void;\n  onSubmit: (type: string, formData: any, refreshTable: () => void, id: any, closeModal: () => void) => void;\n};\n\nexport function OffertaCrud(props: PropsWithRef<OffertaCrudProps>) {\n\n  const formCustomer = useRef<any>();\n  const formCommessa = useRef<any>();\n  const [selected, setSelected] = useState(0);\n  const [formCustomerData, setformCustomerData] = useState<OfferModel>(props.row);\n  const [formProjectData, setformProjectData] = useState<Projects>();\n  const [download, setDownload] = useState<boolean>(false)\n  const [modifiedFields, setModifiedFields] = useState<Record<string, any>>({})\n  const [attachmentNameState, setAttachmentNameState] = useState<string | null>(null)\n  const [sede, setSede] = useState<locationOption[]>([]);\n  const [isLocationDataReady, setIsLocationDataReady] = useState(false);\n  const [isrowLocationDataReady, setIsrowLocationDataReady] = useState(false);\n  const [isDaily, setIsDaily] = useState<boolean>(false)\n  const [isLumpSum, setIsLumpSum] = useState(false)\n  const [showNewTaskModal, setShowNewTaskModal] = useState(false);\n  const [rowLocation, setRowLocation] = useState<{ id: number, name: string }>({ id: 0, name: '' });\n\n  const [customerForProtocol,setCustomerForProtocol] = useState<string>();\n\n  useEffect(() => {\n    const fetchCountryData = async () => {\n\n      try {\n        const sedeResponse = await offertaService.fetchResources(\"location\");\n        const adaptedLocation = sedeAdapter(sedeResponse);\n        setSede(adaptedLocation);\n\n        /*   if (props.row?.existingFile && Array.isArray(props.row.existingFile) && props.row.existingFile.length > 0) {\n  \n            const uniqueIdentifiers = props.row.existingFile\n              .map((attachment: { id?: string }) => attachment.id)\n              .join(',');\n  \n            if (uniqueIdentifiers) {\n  \n              const response = await offertaService.getFilesByIds(uniqueIdentifiers);\n  \n              const fetchedAttachments = response.map((file: { uniqueIdentifier: string, file_name: string }) => ({\n                id: file.uniqueIdentifier,\n                name: file.file_name\n              }));\n              const updatedAttachments = props.row.existingFile?.map((attachment) => {\n                const fetchedAttachment = fetchedAttachments.find(\n                  (f) => f.id === attachment.id\n                );\n                return {\n                  ...attachment,\n                  name: fetchedAttachment ? fetchedAttachment.name : \"Name not found\",\n                };\n              });\n  \n              props.row.existingFile = updatedAttachments\n              console.log(\"Updated Attachments Array:\", updatedAttachments);\n            }\n            if (props.type === \"edit\" || props.type === \"view\") {\n              if (Array.isArray(props.row.existingFile) && props.row.existingFile.length > 0) {\n                // Extract all attachment names\n                const attachmentNames = props.row.existingFile\n                  .map((attachment) => attachment.name || null)\n                  .filter(Boolean);\n  \n                if (attachmentNames.length > 0) {\n                  setAttachmentNameState(attachmentNames[0]);\n                  setDownload(true);\n                } else {\n                  setAttachmentNameState(null);\n                  setDownload(false);\n                }\n              } else {\n                setAttachmentNameState(null);\n                setDownload(false);\n              }\n            }\n          } */\n        setIsLocationDataReady(true);\n      } catch (error) {\n        console.error(\"Error fetching country data:\", error);\n      }\n    };\n\n    fetchCountryData();\n  }, [props.row, props.type]);\n\n\n  useEffect(() => {\n    if (isLocationDataReady && (props.type === \"edit\" || props.type === \"view\")) {\n      const locationLabel = getLocationLabel(sede, props.row.location_id);\n      if (locationLabel) {\n        setRowLocation({ id: props.row.location_id, name: locationLabel });\n      }\n      setIsrowLocationDataReady(true);\n    }\n  }, [sede, props.row.location_id, isLocationDataReady, props.type]);\n\n useEffect(() => {\n    if (props.type === \"edit\" && isrowLocationDataReady) {\n      if (\n        formCustomerData.project_type?.name === \"Consulenza\" &&\n        formCustomerData.billing_type?.name === \"Fatturazione a giornata\"\n      ) {\n        setIsDaily(true);\n      } else {\n        setIsDaily(false);\n      }\n    }\n  }, [props.type, isrowLocationDataReady]);\n\n  useEffect(()=>{\n    if(formCustomerData && formCustomerData.customer){\n      handleChangeCustomerProtocol(formCustomerData.customer)\n    }\n  },[formCustomerData]);\n\n  const handleChangeCustomerProtocol = (customer:any)=>setCustomerForProtocol(customer);\n  \n\n  const openNewTaskModal = () => {\n    setShowNewTaskModal(true);\n  };\n\n  const handleSelect = (e: any) => {\n    setSelected(e.selected);\n  };\n\n  const handleDownload = async (fileId: string, fileName: string) => {\n    return {\n      fileId: fileId,\n      fileName: fileName\n    }\n\n  };\n\n \n  const valueOnChange = (name: string, value: any) => {\n\n    if (name === \"project_type\") {\n\n      if (value?.name === \"Consulenza\") {\n\n        const updatedBillingType = { id: \"Daily\", name: \"Fatturazione a giornata\" };\n        formCustomer.current.values.billing_type = updatedBillingType;\n        setIsDaily(true);\n\n        if (props.type === \"edit\") {\n          setModifiedFields((prevState) => ({\n            ...prevState,\n            billing_type: updatedBillingType,\n          }));\n        }\n\n      }\n      \n    }\n    \n    if (name === \"billing_type\") {\n      if (value?.name === \"Fatturazione a corpo\") setIsLumpSum(true);\n      else setIsLumpSum(false);\n    }\n\n    const currentValue = modifiedFields[name];\n\n    if (currentValue !== value) {\n\n      setModifiedFields((prevState) => ({\n        ...prevState,\n        [name]: value,\n      }));\n\n      if (props.type === \"edit\") {\n        if (name === \"location\") {\n          setRowLocation(value);\n        }\n      }\n\n    }\n\n    if(name==='customer') handleChangeCustomerProtocol(value);\n\n  };\n\n\n  const getLocationLabel = (sedi: locationOption[], location_id: number) => {\n    return Array.isArray(sedi) ? (sedi.find((sede) => sede.value === location_id)?.label || \" \") : \" \";\n  };\n\n  const valueOnChangeByllingType = (name: string, value: any) => {\n    if (value?.name === \"Fatturazione a giornata\") {\n\n      setIsDaily(true)\n    } else {\n      setIsDaily(false)\n    }\n  };\n\n  const combinedValueOnChangeBillyngType = (name: string, value: any) => {\n    valueOnChangeByllingType(name, value)\n\n    valueOnChange(name, value)\n\n  };\n\n\n  const handleDownloadChange = (name, files) => {\n    if (files === undefined || files.length === 0) {\n      setDownload(false);\n    } else {\n      const attachmentName = files[0].name;\n      setAttachmentNameState(attachmentName);\n      setDownload(false)\n    }\n  };\n\n  const combinedValueOnChange = (name: string, value: any) => {\n\n    handleDownloadChange(name, value);\n    valueOnChange(name, value)\n  };\n\n  const handleCommessaSubmit = () => {\n    let hasError = false;\n\n    if (props.type === \"create\" || props.type === \"edit\") {\n\n      if (formCommessa.current) {\n\n        formCommessa.current.onSubmit();\n\n        if (!formCommessa.current.isValid()) {\n          hasError = true;\n        }\n      }\n\n\n      if (!hasError) {\n        let combinedData;\n        combinedData = {\n          ...modifiedFields,\n          ...formCustomerData,\n          ...formCommessa.current.values,\n        };\n\n\n        setformCustomerData(combinedData);\n\n\n        saveOfferData(combinedData);\n\n\n        setShowNewTaskModal(false);\n      }\n    }\n  };\n\n\n  const handleSubmit = () => {\n    let hasError = false;\n\n    if (props.type === \"create\" || props.type === \"edit\") {\n      if (formCustomer.current) {\n        formCustomer.current.onSubmit();\n        if (formCustomer.current.isValid()) {\n          setformCustomerData(formCustomer.current.values);\n\n        } else {\n          hasError = true;\n        }\n      }\n\n      if (!hasError) {\n        const outcomeType = formCustomer.current.values.outcome_type.name;\n        if (outcomeType === \"Positivo\" && !formCustomerData.thereisProject) {\n          NotificationActions.openConfirm(\n            \"Salvando i dati con esito positivo,  necessario creare una nuova commessa. Vuoi procedere?\",\n            () => {\n              handlePositiveOutcome();\n            },\n            \"Conferma Salvataggio\"\n          );\n        } else {\n          saveOfferData(formCustomer.current.values);\n        }\n      }\n    }\n\n    if (props.type === 'delete') {\n      props.onSubmit(props.type, {}, props.refreshTable, props.row.id, props.closeModalCallback);\n    }\n    if(props.type === 'view'){\n      props.closeModalCallback();\n    }\n  };\n  const startValidator = useMemo(() => {\n    return (value: any, valueGetter: (name: string) => any) => {\n        if (!value) {\n            return \"Seleziona una data\";\n        }\n\n        const selectedDate = new Date(value);\n        const endDate = valueGetter(\"end_dateP\");\n        const parsedEndDate = endDate ? new Date(endDate) : null;\n\n        if (parsedEndDate && selectedDate >= parsedEndDate) {\n            return \"La data di inizio deve essere anteriore alla data di fine\";\n        }\n        return \"\";\n    };\n}, []);\n\nconst endValidator = useMemo(() => {\n    return (value: any, valueGetter: (name: string) => any) => {\n        if (!value) {\n            return \"\";\n        }\n\n        const selectedDate = new Date(value);\n        const startDate = valueGetter(\"start_date\");\n        const parsedStartDate = startDate ? new Date(startDate) : null;\n\n        if (parsedStartDate && selectedDate <= parsedStartDate) {\n            return \"La data di fine deve essere posteriore alla data di inizio\";\n        }\n        return \"\";\n    };\n}, []);\nconst endDateValidator = useMemo(() => {\n  return (value: any, valueGetter: (name: string) => any) => {\n      if (!value) return \"\";\n\n      const selectedEndDate = new Date(value);\n      const approvalDateValue = valueGetter(\"approval_date\");\n      const approvalDate = approvalDateValue ? new Date(approvalDateValue) : null;\n\n  \n      if (approvalDate && selectedEndDate <= approvalDate) {\n        return \"La data di scadenza non pu essere uguale o precedente alla data di approvazione\";\n    }\n\n    return \"\";\n  };\n}, []); \nconst approvalDateValidator = useMemo(() => {\n  return (value: any, valueGetter: (name: string) => any) => {\n\n    if(formCustomer.current && formCustomer.current.values.outcome_type && formCustomer.current.values.outcome_type.id==='P'){\n     \n\n      if (!value) return \"La data di approvazione  obbligatoria\";\n\n      const selectedApprovalDate = new Date(value);\n      const endDateValue = valueGetter(\"end_date\");\n      const endDate = endDateValue ? new Date(endDateValue) : null;\n\n      if (endDate && selectedApprovalDate >= endDate) {\n          return \"La data di approvazione non pu essere uguale o successiva alla data di scadenza\";\n      }\n    }\n\n      return \"\";\n  };\n}, [formCustomer.current]); \n\n\n  /*   const saveOfferData = (dataToSave) => {\n      const baseData = dataToSave ? dataToSave : formCustomerData;\n  \n      if (props.type === \"edit\") {\n        const modifiedData = Object.keys(modifiedFields).reduce((result, key) => {\n          if (modifiedFields[key] !== undefined) {\n            result[key] = modifiedFields[key];\n          }\n          return result;\n        }, {});\n        \n        const formattedData = reverseOfferAdapterUpdate(modifiedData, baseData);\n        \n        props.onSubmit(props.type, formattedData, props.refreshTable, props.row.id, props.closeModalCallback);\n  \n      } else {\n        const formattedData = fromOfferModelToOfferBEModel({ ...baseData });\n        props.onSubmit(props.type, formattedData, props.refreshTable, props.row.id, props.closeModalCallback);\n      }\n    };\n   */\n\n  const saveOfferData = (dataToSave) => {\n    const baseData = dataToSave ? dataToSave : formCustomerData;\n    const formattedData = fromOfferModelToOfferBEModel({ ...baseData });\n    props.onSubmit(props.type, formattedData, props.refreshTable, props.row.id, props.closeModalCallback);\n\n  };\n\n\n  const handlePositiveOutcome = () => {\n    openNewTaskModal();\n  };\n\n  if (!isLocationDataReady || ((props.type !== 'create' && props.type !== \"delete\") && !isrowLocationDataReady)) {\n    return <div className={styles.loader}><LoaderComponent type=\"pulsing\"></LoaderComponent></div>;\n  }\n\n\n\n  if (props.type === 'delete') {\n    return (\n\n      <div className={styles.formDelete}>\n        <span>{\"Sei sicuro di voler eliminare il record?\"}</span>\n\n        <div >\n          <Button onClick={() => props.closeModalCallback()}>Cancel</Button>\n          <Button themeColor={\"error\"} onClick={handleSubmit}>\n            Elimina\n          </Button>\n        </div>\n      </div>\n\n    )\n  }\n\n  return <>\n    <Tab\n      tabs={[\n        {\n          title: \"Dati Offerta\",\n          children: (\n            <div className={styles.parentForm}>\n\n              <Form\n                ref={formCustomer}\n                fields={Object.values(getFormOfferFields(\n                  formCustomerData,\n                  props.type,\n                  handleDownload,\n                  combinedValueOnChange,\n                  download,\n                  attachmentNameState,\n                  rowLocation,\n                  valueOnChange,\n                  isDaily,\n                  isLumpSum,\n                  combinedValueOnChangeBillyngType,\n                  customerForProtocol,\n                  endDateValidator,\n                  approvalDateValidator\n                ))}\n                formData={formCustomerData}\n                onSubmit={(data: OfferModel) => setformCustomerData(data)}\n                addedFields={offertaCustomFields}\n              />\n            </div>\n          ),\n        }\n      ]}\n      onSelect={handleSelect}\n      selected={selected}\n      button={{ label: props.type === 'view' ? \"Esci\" : \"Salva\", onClick: handleSubmit }}\n    />\n\n    {/* Modale per la nuova commessa */}\n    {showNewTaskModal && (\n      <Window\n        show={showNewTaskModal}\n        title=\"Nuova Commessa\"\n        onClose={() => setShowNewTaskModal(false)}\n        callToAction=\"Salva\"\n        draggable\n        resizable\n        initialHeight={550}\n        initialWidth={800}>\n        <div>\n          <div className={styles.parentForm}>\n            <Form\n              ref={formCommessa}\n              formData={formProjectData}\n              fields={Object.values(getFormCommesseFields(formProjectData, valueOnChange,startValidator,endValidator))}\n              onSubmit={(data: Projects) => setformProjectData(data)}\n            />\n          </div>\n          <div className={styles.buttons}>\n            <Button onClick={() => setShowNewTaskModal(false)}>\n              Annulla\n            </Button>\n            <Button themeColor={\"primary\"} onClick={handleCommessaSubmit}>\n              Salva\n            </Button>\n          </div>\n        </div>\n      </Window>\n    )}\n  </>\n}","import React, { useEffect, useState } from \"react\";\nimport NotificationProviderActions from \"common/providers/NotificationProvider\";\nimport GridTable from \"common/Table\";\nimport { offertaService } from \"../../services/offertaService\";\nimport { fromOfferBEModelToOfferModel } from \"../../adapters/offertaAdapters\";\nimport { OffertaCrud } from \"../../component/OffertaCrud/component\";\nimport { CrudGenericService } from \"../../services/personaleServices\";\n\n\nconst columns = [\n  {\n    key: \"customer_name\",\n    label: \"Cliente\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"accountManager.name\",\n    label: \"Commerciale\",\n    type: \"string\",\n    sortable: true\n  },\n  {\n    key: \"protocol\",\n    label: \"Protocollo\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"title\",\n    label: \"Titolo\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"description\",\n    label: \"Descrizione\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"creation_date\",\n    label: \"Data creazione\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n];\n\nconst mapColumnKey: { [key: string]: string } = {\n  \"customer_name\": \"Customer.name\",\n  \"accountManager.name\": \"AccountManager.Person.lastName\",\n  \"protocol\": \"project_code\",\n  \"title\": \"name\",\n  \"description\": \"other_details\",\n  \"creation_date\": \"date_created\"\n};\n\n// Filter mapping function\nconst mapFilterFields = (filter: any | null): any => {\n  if (!filter || !filter.filters) {\n    return { logic: \"or\", filters: [] };\n  }\n\n  const mappedFilters = filter.filters.map((f) => {\n    if (\"field\" in f) {\n      const fd = f as any;\n      return { ...fd, field: mapColumnKey[fd.field as string] || fd.field };\n    } else {\n      const cf = f as any;\n      return mapFilterFields(cf);\n    }\n  });\n  return { ...filter, filters: mappedFilters };\n};\nexport default function OffertePage() {\n\n\n  const [initialWidthWindow, setInitialWidthWindow] = useState(window.innerWidth);\n  const [initialHeightWindow, setInitialHeightWindow] = useState(window.innerHeight)\n\n  useEffect(() => {\n    const handleResize = () => {\n      setInitialWidthWindow(window.innerWidth);\n      setInitialHeightWindow(window.innerHeight)\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n\n  const loadData = async (\n    pagination: any,\n    filter: any,\n    sorting: any[],\n    term?: string\n  ) => {\n\n    const include = true;\n    const mappedFilter = mapFilterFields(filter);\n    let mappedSorting = sorting.map((s) => ({\n      ...s,\n      field: mapColumnKey[s.field] || s.field,\n    }));\n\n    if (!(mappedSorting?.length > 0)) mappedSorting = [{field: \"date_created\", dir: \"desc\"}];\n\n    const tableResponse = await offertaService.search(\n      pagination.currentPage,\n      pagination.pageSize,\n      mappedFilter,\n      mappedSorting,\n      term,\n      include\n    );\n\n\n    const adaptedData = tableResponse.data.map(fromOfferBEModelToOfferModel);\n\n    console.log(\"Adapted Data: \", adaptedData);\n    return {\n      data: adaptedData,\n      meta: {\n        total: tableResponse.meta.total,\n      },\n    };\n  };\n\n\n\n  const handleFormSubmit = (\n    type: string,\n    formData: any,\n    refreshTable: any,\n    id: any,\n    closeModal: () => void\n  ) => {\n    let promise: Promise<any> | undefined = undefined;\n  \n    if (type === \"create\") {\n      promise = offertaService.createResource(formData);\n    } else if (type === \"edit\") {\n      promise = offertaService.updateResource(id, formData);\n    } else if (type === \"delete\") {\n      promise = offertaService.deleteResource(id);\n    }\n  \n    if (promise) {\n      promise\n        .then(() => {\n          NotificationProviderActions.openModal(\n            { icon: true, style: \"success\" },\n            \"Operazione avvenuta con successo\"\n          );\n          refreshTable();\n          closeModal();\n        })\n        .catch((error) => {\n          console.error(\"Error during form submission:\", error);\n        });\n    }\n  };\n  \n\n  return (\n    <GridTable\n      writePermissions={[\"WRITE_SALES_OFFER\"]}\n      filterable={true}\n      sortable={true}\n      getData={loadData}\n      columns={columns}\n      pageable={true}\n      resizableWindow={true}\n      initialHeightWindow={initialHeightWindow}\n      initialWidthWindow={initialWidthWindow}\n      resizable={true}\n      addedFilters={[\n        {\n          name: \"accountManager_id\",\n          label: \"Commerciale\",\n          type: \"filter-autocomplete\",\n          indexPosition: 1,\n          options: {\n              getData: (term: string) => Promise.resolve(\n                CrudGenericService.searchCommerciale(term).then(res => {\n                  if(res) return res.map(r => ({id: r.id, name: `${r.Person.firstName} ${r.Person.lastName} (${r.email})`}));\n                  else return [];\n                })\n              ),\n              getValue: (v: any) => v?.id\n          }\n        },\n        {\n          name: \"Project.Activities.PersonActivities.person_id\",\n          label: \"Dipendente assegnato\",\n          type: \"filter-autocomplete\",\n          options: {\n              getData: (term: string) => Promise.resolve(\n                CrudGenericService.searchAccount(term).then(res => {\n                  if(res) return res.map(r => ({id: r.person_id, name: `${r.firstName} ${r.lastName} (${r.email})`}));\n                  else return [];\n                })\n              ),\n              getValue: (v: any) => v?.id\n          }\n        }\n      ]}\n      actions={(row) => {\n\n        const actions: string[] = [\"create\"];\n\n        if (row?.thereisProject) {\n          actions.push(\"show\", \"edit\");\n        }\n        \n        else {\n          actions.push(\"show\", \"edit\", \"delete\");\n        }\n        \n        return actions;\n      }}\n\n      formCrud={(\n        row: any,\n        type: string,\n        closeModalCallback: any,\n        refreshTable: any\n      ) => (\n        <>\n          <OffertaCrud\n            row={row}\n            type={type}\n            closeModalCallback={closeModalCallback}\n            refreshTable={refreshTable}\n            onSubmit={handleFormSubmit}\n          />\n        </>\n      )}\n    />\n  );\n}\n","import BaseHttpService from \"common/services/BaseHTTPService\";\nimport client from \"common/services/BEService\";\n\nclass ProgettoService extends BaseHttpService {\n  getTableName() {\n    return \"projects\";\n  }\n\n  getProjectByCustomer = async (\n    customerId: number,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean,\n    filtering?:any,\n    sorting?:any\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/projects/findByCustomer/${customerId}`,\n        {filtering,sorting},\n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getProjectWorkedDays = async (\n    projectId: number,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean\n  ) => {\n   \n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.get(\n        `api/v1/projects/getWorkedDays/${projectId}`,\n        {\n          params,\n        }\n      );\n      return response.data;\n    \n  };\n\n  getProjectById = async (\n    projectId: number,\n    include?: boolean\n  ) => {\n    \n      const params = {\n        include,\n      };\n\n      const response = await client.get(\n        `api/v1/projects/${projectId}`,\n        {\n          params,\n        }\n      );\n      return response.data;\n   \n  };\n\n  getGridModel = async () => {\n    \n      const params = {};\n\n      const response = await client.get(\n        `api/v1/projects/models`,\n        {\n          params,\n        }\n      );\n      return response.data;\n   \n  };\n\n  getProjectExpensesCreateDtoModel = async () => {\n    \n      const response = await client.get(\n        `api/v1/projectExpenses/dtoModels/create`,\n        {}\n      );\n      return response.data;\n    \n  }\n\n  getCreateDTOModel = async () => {\n    \n      const response = await client.get(\n        `api/v1/projects/dtoModels/create`,\n        {}\n      );\n      return response.data;\n    \n  }\n\n  getUpdateDTOModel = async () => {\n   \n      const response = await client.get(\n        `api/v1/projects/dtoModels/update`,\n        {}\n      );\n      return response.data;\n    \n  }\n\n  deleteProject = async (\n    id: number\n  ) => {\n    \n      const response = await client.delete(\n        `api/v1/projects/delete/${id}`\n      );\n      return response.data;\n   \n  };\n\n  getExpensesByProjectId = async (\n    projectId: number,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean,\n    filtering?: any,\n    sorting?: any,\n  ) => {\n    \n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `/api/v1/projectExpenses/find/${projectId}`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    \n  };\n\n  getProjectExpensesTypes = (text: string) => {\n    return client.get(`api/v1/projectExpenses/getExpenseTypes?term=${text}`).then(res => res.data);\n  }\n\n  createProjectExpense = async (\n    project_id: number,\n    description: string,\n    amount: number,\n    payment_date: string,\n    projectExpensesType_id: number,\n    files: any[],\n  ) => {\n   \n      const params = [{\n        project_id,\n        description,\n        amount,\n        payment_date,\n        projectExpensesType_id,\n        Attachment: files\n      }];\n\n      const response = await client.post(\n        `api/v1/projectExpenses/create/${project_id}`,\n        params,\n        {}\n      );\n      return response.data;\n   \n  };\n\n  updateProjectExpense = async (\n    id: number,\n    description: string,\n    amount: number,\n    payment_date: string,\n    projectExpensesType_id: number,\n    files: any[],\n  ) => {\n   \n      const params = [{\n        id,\n        description,\n        amount,\n        payment_date,\n        projectExpensesType_id,\n        Attachment: files\n      }];\n\n      const response = await client.patch(\n        `api/v1/projectExpenses/update`,\n        params,\n        {}\n      );\n      return response.data;\n    \n  };\n\n  deleteProjectExpense = async (\n    id: number\n  ) => {\n   \n      const response = await client.delete(\n        `/api/v1/projectExpenses/delete/${id}`\n      );\n      return response.data;\n   \n  };\n}\n\nexport const progettoService = new ProgettoService();\n","import * as React from \"react\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\n\nexport const columns = [\n  {\n    key: \"AccountManager\",\n    label: \"Commerciale\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"offer_name\",\n    label: \"Titolo offerta\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"start_date\",\n    label: \"Data inizio\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"end_date\",\n    label: \"Data fine\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"amount\",\n    label: \"Importo\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.amount)}</td>\n    }\n  },\n  {\n    key: \"sal_total\",\n    label: \"Sal\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.sal_total)}</td>\n    }\n  },\n  {\n    key: \"bill_total\",\n    label: \"Sal Fatturato\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.bill_total)}</td>\n    }\n  },\n];\n\nexport const SalColumns = [\n  {\n    key: \"month\",\n    label: \"Mese\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"year\",\n    label: \"Anno\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"activity_id\",\n    label: \"ID Attivit\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"amount\",\n    label: \"Importo\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"Bill\",\n    label: \"Fatturazione\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"SalState\",\n    label: \"Stato SAL\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"notes\",\n    label: \"Note\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"rate\",\n    label: \"Tariffa\",\n    type: \"int\",\n    sortable: true,\n    filter: \"numeric\",\n  },\n];\n\nexport const attivitaColumns = [\n  {\n    key: \"description\",\n    label: \"Descrizione\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"start_date\",\n    label: \"Data inizio\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"end_date\",\n    label: \"Data fine\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"ActivityType.description\",\n    label: \"Tipo\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n];\n\nexport const attivitaAssegnazioneColumns = [\n  {\n    key: \"Person.firstName\",\n    label: \"Nome\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"Person.lastName\",\n    label: \"Cognome\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"start_date\",\n    label: \"Data inizio\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"end_date\",\n    label: \"Data fine\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"expectedDays\",\n    label: \"Giorni previsti\",\n    type: \"int\",\n    sortable: true,\n    filter: \"numeric\",\n  },\n]\n\nexport const costiCommessaColumns = [\n  {\n    key: \"description\",\n    label: \"Descrizione\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  },\n  {\n    key: \"amount\",\n    label: \"Importo\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"payment_date\",\n    label: \"Data pagamento\",\n    type: \"date\",\n    sortable: true,\n    filter: \"date\",\n  },\n  {\n    key: \"ProjectExpensesType.description\",\n    label: \"Tipo\",\n    type: \"string\",\n    sortable: false,\n    filter: \"text\",\n  }\n]","import withField from \"common/hoc/Field\";\nimport withAutoComplete from \"common/hoc/AutoComplete\";\nimport { offertaService } from \"../../services/offertaService\";\nimport React from \"react\";\n\n\nconst getOfferte = (filterP: string) => {\n    return offertaService.searchOfferte(filterP).then((res) => {\n        if (res && res.data) {\n            return res.data.map(r => ({ id: r.id, name: r.name }));\n        }\n        return [];\n    });\n}\n\nexport const AutoCompleteOfferte = withField(withAutoComplete(getOfferte))\n\nconst OfferData = (props:any)=>{\n\n    return <>\n        <div className=\"k-form-field\" >\n            <label className=\"k-label\">Offerta di riferimento</label>\n            <input type=\"text\" value={props.value.name} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n        <div className=\"k-form-field\">\n            <label className=\"k-label\">Cliente</label>\n            <input type=\"text\" value={props.value.Customer.name} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n        <div className=\"k-form-field\" >\n            <label className=\"k-label\">Tipo Offerta</label>\n            <input type=\"text\" value={props.value.ProjectType.description} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n        <div className=\"k-form-field\" >\n            <label className=\"k-label\">Anno Competenza</label>\n            <input type=\"text\" value={props.value.year} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n        {\n            props.value.approval_date && <div className=\"k-form-field\" >\n            <label className=\"k-label\">Data approazione offerta</label>\n            <input type=\"text\" value={new Date(props.value.approval_date).toLocaleDateString()} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n        }\n        \n        <div className=\"k-form-field\" >\n            <label className=\"k-label\">Giorni Offerta</label>\n            <input type=\"text\" value={props.value.days} disabled className=\"k-input k-input-md k-rounded-md k-input-solid\" />\n        </div>\n    </>\n}\n\nexport const formFields = {\n    \"offerte-selector\": AutoCompleteOfferte,\n    \"offerta-form\":OfferData\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./style.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from \"react\";\nimport { progettoService } from \"../../../services/progettoServices\";\nimport DynamicForm from \"common/Form\";\n\nimport styles from './style.module.scss';\nexport interface DatiOrdineModalProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n  addedFields: any;\n  fields: any;\n}\n\nconst DatiOrdineModal = (props: DatiOrdineModalProps) => {\n  const [data, setData] = useState<any | undefined>(undefined);\n\n  useEffect(() => {\n\n    progettoService.getProjectWorkedDays(props.dataItem.id)\n    .then(giorniLavorati=>{\n      progettoService.getProjectById(\n        props.dataItem.id,\n        true\n      ).then(res => setData({...res,workedDays:giorniLavorati}));\n    })\n\n    \n  }, []);\n\n  return (\n    <div className={styles.form}>\n      <h3>Dettagli per {props.dataItem.offer_name}</h3>\n      {data ? <DynamicForm\n        style={{display:'grid',gridTemplateColumns:'1fr 1fr 1fr 1fr', gap : 20}}\n        submitText={\"Salva\"}\n        customDisabled={false}\n        formData={{\n          ...data,\n          offer_id: { id: data.offer_id, name: data.Offer.name }\n        }}\n        fields={Object.values(props.fields).filter((e: any) => {\n          if(e.name === 'amount'  && data.Offer.ProjectType.billing_type!==\"LumpSum\")\n            return false;\n          if(e.name === 'rate'  && data.Offer.ProjectType.billing_type!==\"Daily\" )\n            return false \n\n          return true;\n          \n          \n        })/*.map((e: any) => {\n          if(e.name === 'amount'){\n            debugger;\n            e.conditions = data.Offer.ProjectType.billing_type===\"LumpSum\" || data.Offer.ProjectType.billing_type=== \"None\";\n          }else if(e.name === 'rate'){\n            e.conditions = data.Offer.ProjectType.billing_type===\"Daily\"  || data.Offer.ProjectType.billing_type===\"None\";\n          }\n          return e;\n        })*/}\n        addedFields={props.addedFields}\n        showSubmit={true}\n        extraButton={true}\n        extraBtnAction={props.closeModal}\n        onSubmit={(dataItem: { [name: string]: any }) => {\n          props.handleFormSubmit(dataItem, props.refreshTable, dataItem.id, props.closeModal, false);\n        }}\n      /> : null}\n    </div>\n  );\n}\n\nexport default DatiOrdineModal;","import BaseHttpService from \"common/services/BaseHTTPService\";\nimport client from \"common/services/BEService\";\n\nclass AttivitaService extends BaseHttpService {\n  getTableName() {\n    return \"activities\";\n  }\n\n  getGridModel = async () => {\n    try {\n      const params = {};\n\n      const response = await client.get(\n        `api/v1/activities/models`,\n        {\n          params,\n        }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getAssignGridModel = async () => {\n    try {\n      const params = {};\n\n      const response = await client.get(\n        `api/v1/crud/personactivity/models`,\n        {\n          params,\n        }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getActivityById = async (\n    id: number,\n    include?: boolean\n  ) => {\n    try {\n      const response = await client.get(\n        `api/v1/activities/${id}?include=true`,\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getActivitiesByProject = async (\n    projectId: number,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean,\n    filtering?: any,\n    sorting?: any,\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/activities/getByProject/${projectId}`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getRelatedPersonActivities = async (\n    activity_id: number,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean,\n    filtering?: any,\n    sorting?: any,\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/activities/getRelatedPersonActivities/${activity_id}`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  deleteActivity = async (\n    id: number\n  ) => {\n    try {\n      const response = await client.delete(\n        `api/v1/activities/delete/${id}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getActivityTypes = async () => {\n    try {\n      const response = await client.get(\n        `api/v1/activities/getActivityTypes`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  addEmployee = async (\n    person_id: number,\n    activity_id: number,\n    start_date: string,\n    end_date: string,\n    expectedDays: number,\n  ) => {\n    try {\n      const params = {\n        person_id,\n        activity_id,\n        start_date,\n        end_date,\n        expectedDays,\n      };\n\n      const response = await client.post(\n        `api/v1/activities/addEmployee`,\n        params,\n        {}\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  updateEmployee = async (\n    person_id: number,\n    activity_id: number,\n    start_date: string,\n    end_date: string,\n    expectedDays: number,\n    person_activity_id:number\n  ) => {\n    const resourceData = {\n      person_id,\n      activity_id,\n      start_date,\n      end_date,\n      expectedDays,\n      person_activity_id\n    }\n    try {\n      const response = await client.patch(\n        `api/v1/activities/updateEmployee`,\n        resourceData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error updating resource:\", error);\n      throw error;\n    }\n  };\n\n  removeEmployee = async (\n    person_id: number,\n    activity_id: number,\n    person_activity_id: number,\n  ) => {\n\n    const params = {\n      person_id,\n      activity_id,\n      person_activity_id\n    }\n\n    try {\n      const response = await client.delete(\n        `api/v1/activities/removeEmployee`,\n        { data:params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n}\n\nexport const attivitaService = new AttivitaService();","import withField from \"common/hoc/Field\";\nimport withAutoComplete from \"common/hoc/AutoComplete\";\nimport { CrudGenericService } from \"../../../services/personaleServices\";\nimport { attivitaService } from \"../../../services/attivitaService\";\n\n\nconst getManager = (filterP: string) => {\n    return CrudGenericService.searchCommerciale(filterP).then((res) => {\n        if (res) return res.map(r => ({id: r.id, name: `${r.Person.firstName} ${r.Person.lastName} (${r.email})`}));\n        else return [];\n    });\n}\n\nconst getActivityTypes = () => {\n    return attivitaService.getActivityTypes().then((res) => {\n        if (res) {\n            return res.map(a => ({ id: a.id, name: a.description }));\n        }\n\n        return [];\n    });\n}\n\nexport const AutoCompleteManager = withField(withAutoComplete(getManager));\nexport const AutoCompleteActivityType = withField(withAutoComplete(getActivityTypes));\n\nexport const formFields = {\n    \"manager-selector\": AutoCompleteManager,\n    \"activity-type-selector\": AutoCompleteActivityType,\n};\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from \"react\";\nimport { attivitaService } from \"../../../../services/attivitaService\";\nimport DynamicForm from \"common/Form\";\n\nexport interface AttivitaCrudProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n  addedFields: any;\n  fields: any;\n}\n\nconst AttivitaCrud = (props: AttivitaCrudProps) => {\n  const [data, setData] = useState<any[] | undefined>(undefined);\n\n  useEffect(() => {\n    attivitaService.getActivityById(\n      props.dataItem.id,\n      true\n    ).then(res => {\n      setData({\n        ...res,\n        activityType_id: { id: res.activityType_id, name: res.ActivityType?.description || '' },\n        activityManager_id: { id: res.activityManager_id, name: res.ActivityManager.Person.firstName + \" \" + res.ActivityManager.Person.lastName }\n      })\n    });\n  }, []);\n\n  return (\n    <div>\n      <h3>Dettagli per {props.dataItem.description}</h3>\n      {data ? <DynamicForm\n        submitText={\"Salva\"}\n        customDisabled={false}\n        formData={data}\n        fields={Object.values(props.fields)}\n        addedFields={props.addedFields}\n        showSubmit={true}\n        extraButton={true}\n        extraBtnAction={props.closeModal}\n        onSubmit={(dataItem: { [name: string]: any }) => {\n          props.handleFormSubmit(dataItem, props.refreshTable, props.closeModal, true);\n        }}\n      /> : null}\n    </div>\n  );\n}\n\nexport default AttivitaCrud;","import withField from \"common/hoc/Field\";\nimport withAutoComplete from \"common/hoc/AutoComplete\";\nimport { CrudGenericService } from \"../../../../../services/personaleServices\";\n\n\nconst getDataUtente = (filterP: string) => {\n    return CrudGenericService.searchAccount(filterP).then((res) => {\n        if (res) {\n            return res.map(r => ({ id: r.person_id, name: r.firstName + ' ' + r.lastName }));\n        }\n        return []\n    });\n}\n\nexport const AutoCompletePerson = withField(withAutoComplete(getDataUtente))\n\nexport const formFields = {\n    \"account-selector\": AutoCompletePerson,\n};\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from \"react\";\nimport DynamicForm from \"common/Form\";\n\nexport interface AssignCrudProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n  addedFields: any;\n  fields: any;\n}\n\nconst AssignCrud = (props: AssignCrudProps) => {\n  const [data, setData] = useState<any | undefined>(undefined);\n\n  useEffect(() => {\n    if (props.dataItem) {\n      setData({\n        ...props.dataItem,\n        person_id: { id: props.dataItem.Person.id, name: props.dataItem.Person.firstName + \" \" + props.dataItem.Person.lastName },\n      })\n    }\n  }, [props.dataItem]);\n\n  return (\n    <div>\n      <h3>Dettagli per {data ? data.Person.firstName + \" \" + data.Person.lastName : \"\"}</h3>\n      {data ? <DynamicForm\n        submitText={\"Salva\"}\n        customDisabled={false}\n        formData={data}\n        fields={Object.values(props.fields).filter((e: any) => {\n          return e.name !== \"id\"\n        }).map((e: any) => {\n          return {\n            ...e,\n            disabled: e.name === \"person_id\" || e.name === \"activity_id\"\n          }\n        })}\n        addedFields={props.addedFields}\n        showSubmit={true}\n        extraButton={true}\n        extraBtnAction={props.closeModal}\n        onSubmit={(dataItem: { [name: string]: any }) => {\n          props.handleFormSubmit(dataItem, props.refreshTable, props.closeModal, true);\n        }}\n      /> : null}\n    </div>\n  );\n}\n\nexport default AssignCrud;","export const assignForm = {\n    \"account-selector\": {\n      \"name\": \"person_id\",\n      \"type\": \"account-selector\",\n      \"label\": \"Impiegato\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"start_date\": {\n      \"name\": \"start_date\",\n      \"type\": \"date\",\n      \"label\": \"Data inizio\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"end_date\": {\n      \"name\": \"end_date\",\n      \"type\": \"date\",\n      \"label\": \"Data fine\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"expectedDays\": {\n      \"name\": \"expectedDays\",\n      \"type\": \"number\",\n      \"label\": \"Giorni stimati\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true\n    }\n  }","import React, { useEffect, useState } from \"react\";\nimport DynamicForm from \"common/Form\";\nimport GridTable from \"common/Table\";\nimport Button from \"common/Button\";\nimport RapportinoCalendar from \"hr/RapportinoCalendar\";\nimport NotificationProviderActions from \"common/providers/NotificationProvider\";\nimport {\n  detailSectionIcon,\n  calendarIcon,\n  trashIcon\n} from \"common/icons\";\nimport { formFields } from \"./customFields\";\nimport styles from \"./styles.module.scss\";\nimport { attivitaService } from \"../../../../../services/attivitaService\";\nimport { attivitaAssegnazioneColumns } from \"../../../../ProgettoCrud/config\";\nimport AssignCrud from \"./AssignCrud/component\";\nimport { assignForm } from \"../../../../ProgettoCrud/forms/assign\";\n\nconst determineFieldType = (\n  value: any\n):\n  | \"number\"\n  | \"text\"\n  | \"email\"\n  | \"date\"\n  | \"time\"\n  | \"textarea\"\n  | \"password\"\n  | \"checkbox\"\n  | \"select\" => {\n  if (value.toLocaleLowerCase() === \"boolean\") return \"checkbox\";\n  if (value.toLocaleLowerCase() === \"number\" || value.toLocaleLowerCase() === \"float\" || value.toLocaleLowerCase() === \"int\") return \"number\";\n  if (value.toLocaleLowerCase() === \"string\") {\n    if (value.toLocaleLowerCase().includes(\"@\")) return \"email\";\n    return \"text\";\n  }\n  if (value.toLocaleLowerCase() === \"date\" || value.toLocaleLowerCase() === \"datetime\") return \"date\";\n  if (value.toLocaleLowerCase() === \"projectstate\") return \"select\";\n  return \"text\";\n};\n\nconst AssigningTable = (props: { activity_id: number }) => {\n  //const [innerCRUDFields, setInnerCRUDFields] = useState<any>({});\n\n  const loadData = async (pagination: any, filter: any, sorting: any[]) => {\n    const include = true;\n    let correctFilters = JSON.parse(JSON.stringify(filter));\n\n    const tableResponse = await attivitaService.getRelatedPersonActivities(\n      props.activity_id,\n      pagination.currentPage,\n      pagination.pageSize,\n      include,\n      filter,\n      sorting\n    );\n\n\n    const mappedResponse = tableResponse?.data.map(d => {\n      return {\n        ...d,\n        fullName: d.Person.firstName + \" \" + d.Person.lastName\n      }\n    });\n\n    return {\n      data: mappedResponse,\n      meta: { total: tableResponse?.meta?.total },\n    };\n  };\n/* \n  const loadModel = async () => {\n    try {\n      const resources = await attivitaService.getAssignGridModel();\n      if (!resources) {\n        throw new Error(\"No resources found\");\n      }\n\n      const newModel: any = {};\n      resources\n        .forEach((item: any) => {\n          const name = item.name === \"person_id\" ? 'account-selector' : item.name;\n          newModel[name] = {\n            name: item.name,\n            type: item.name === \"person_id\" ? 'account-selector' : determineFieldType(item.type),\n            label: item.name === \"person_id\" ? \"Impiegato\" : item.name.charAt(0).toUpperCase() + item.name.slice(1),\n            value: item.name === \"activity_id\" ? props.activity_id : \"\",\n            disabled: item.readOnly || item.name === \"activity_id\",\n            required: item.required,\n            options: [],\n            showLabel: true\n          };\n        });\n        debugger;\n      setInnerCRUDFields(newModel);\n    } catch (error) {\n      console.error(\"Error loading fields:\", error);\n      setInnerCRUDFields({});\n    }\n  };\n\n  useEffect(() => {\n    loadModel();\n  }, []); */\n\n  const handleFormSubmit = (\n    formData: any,\n    refreshTable: any,\n    closeModal: () => void,\n    isCreate?: boolean,\n  ) => {\n    let promise: Promise<any> | undefined = undefined;\n    if (!isCreate) {\n      promise = attivitaService.updateEmployee(\n        formData.person_id.id,\n        formData.activity_id,\n        formData.start_date.toISOString ? formData.start_date.toISOString() : formData.start_date,\n        formData.end_date.toISOString ? formData.end_date.toISOString() : formData.end_date,\n        parseInt(formData.expectedDays),\n        formData.id\n      );\n    } else {\n      promise = attivitaService.addEmployee(\n        formData.person_id.id,\n        formData.activity_id,\n        formData.start_date.toISOString ? formData.start_date.toISOString() : formData.start_date,\n        formData.end_date.toISOString ? formData.end_date.toISOString() : formData.end_date,\n        parseInt(formData.expectedDays)\n      );\n    }\n\n    if (promise) {\n      promise.then(() => {\n        NotificationProviderActions.openModal(\n          { icon: true, style: \"success\" },\n          \"Operazione avvenuta con successo\"\n        );\n        refreshTable();\n        closeModal();\n      });\n    }\n  };\n\n  return (\n    <GridTable\n      filterable={true}\n      pageable={true}\n      sortable={true}\n      getData={loadData}\n      columns={attivitaAssegnazioneColumns}\n      createLabel={\"Nuova assegnazione\"}\n      resizableWindow={true}\n      initialHeightWindow={800}\n      draggableWindow={true}\n      initialWidthWindow={900}\n      resizable={true}\n      actions={() => [\"create\"]}\n      formCrud={(row, type, closeModalCallback, refreshTable) => {\n        return (\n          <div>\n            <DynamicForm\n              submitText={\"Salva\"}\n              customDisabled={false}\n              formData={{ activity_id: props.activity_id }}\n              fields={Object.values(assignForm)}\n              addedFields={formFields}\n              showSubmit={true}\n              extraButton={true}\n              extraBtnAction={closeModalCallback}\n              onSubmit={(dataItem: { [name: string]: any }) => {\n                handleFormSubmit(dataItem, refreshTable, closeModalCallback, true);\n              }}\n            />\n          </div>\n        );\n      }}\n      customRowActions={[\n        {\n          icon: calendarIcon,\n          tooltip: \"Rapportino\",\n          modalContent: (dataItem, closeModal, refreshTable) => {\n            return <RapportinoCalendar forcePerson={{ id: dataItem.person_id, name: \"\" }} />\n          },\n        },\n        {\n          icon: detailSectionIcon,\n          tooltip: \"Modifica\",\n          modalContent: (dataItem, closeModal, refreshTable) => {\n            return <AssignCrud\n              dataItem={dataItem}\n              closeModal={closeModal}\n              refreshTable={refreshTable}\n              addedFields={formFields}\n              fields={assignForm}\n              handleFormSubmit={(dataItem, refreshTable, closeModal) => handleFormSubmit(dataItem, refreshTable, closeModal, false)}\n            />\n          },\n        },\n        {\n          icon: trashIcon,\n          tooltip: \"Elimina\",\n          modalContent: (dataItem, closeModal, refreshTable) => (\n            <div>\n              L'operazione  irreversibile.\n              <div className={styles.buttonsContainer}>\n                <Button onClick={() => closeModal()}>Annulla</Button>\n                <Button themeColor={\"error\"} onClick={async () => {\n                  await attivitaService.removeEmployee(dataItem.person_id, dataItem.activity_id,dataItem.id);\n                  refreshTable();\n                  closeModal();\n                }}>\n                  Elimina\n                </Button>\n              </div>\n            </div>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport default AssigningTable;\n","export const activityForm = {\n    /* \"id\": {\n      \"name\": \"id\",\n      \"type\": \"number\",\n      \"label\": \"Id\",\n      \"value\": \"\",\n      \"disabled\": true,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": true\n    }, */\n    \"manager-selector\": {\n      \"name\": \"activityManager_id\",\n      \"type\": \"manager-selector\",\n      \"label\": \"Responsabile\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    },\n    \"activity-type-selector\": {\n      \"name\": \"activityType_id\",\n      \"type\": \"activity-type-selector\",\n      \"label\": \"Tipo attivit\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    },\n    \"description\": {\n      \"name\": \"description\",\n      \"type\": \"text\",\n      \"label\": \"Descrizione\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    },\n    \"start_date\": {\n      \"name\": \"start_date\",\n      \"type\": \"date\",\n      \"label\": \"Data inizio\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    },\n    \"end_date\": {\n      \"name\": \"end_date\",\n      \"type\": \"date\",\n      \"label\": \"Data fine\",\n      \"value\": \"\",\n      \"disabled\": false,\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    },\n    /* \"project_id\": {\n      \"name\": \"project_id\",\n      \"type\": \"number\",\n      \"label\": \"Project_id\",\n      \"value\": 9,\n      \"disabled\": true,\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true,\n      \"readOnly\": false\n    }, */\n    \n    \n   \n  };","import GridTable from \"common/Table\";\nimport Button from \"common/Button\";\nimport DynamicForm from \"common/Form\";\nimport React, { useEffect, useState } from \"react\";\nimport { attivitaService } from \"../../../services/attivitaService\";\nimport { attivitaColumns } from \"../../ProgettoCrud/config\";\nimport {\n  detailSectionIcon,\n  trashIcon\n} from \"common/icons\";\nimport { formFields } from \"./customFields\";\nimport styles from \"./styles.module.scss\";\nimport AttivitaCrud from \"./AttivitaCrud/component\";\nimport AssigningTable from \"./AttivitaCrud/AssigningTable/component\";\nimport { activityForm } from \"../../ProgettoCrud/forms/activity\";\n\nconst determineFieldType = (\n  value: any\n):\n  | \"number\"\n  | \"text\"\n  | \"email\"\n  | \"date\"\n  | \"time\"\n  | \"textarea\"\n  | \"password\"\n  | \"checkbox\"\n  | \"select\" => {\n  if (value.toLocaleLowerCase() === \"boolean\") return \"checkbox\";\n  if (value.toLocaleLowerCase() === \"number\" || value.toLocaleLowerCase() === \"float\" || value.toLocaleLowerCase() === \"int\") return \"number\";\n  if (value.toLocaleLowerCase() === \"string\") {\n    if (value.toLocaleLowerCase().includes(\"@\")) return \"email\";\n    return \"text\";\n  }\n  if (value.toLocaleLowerCase() === \"date\" || value.toLocaleLowerCase() === \"datetime\") return \"date\";\n  if (value.toLocaleLowerCase() === \"projectstate\") return \"select\";\n  return \"text\";\n};\n\nexport interface AttivitaModalProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n}\n\nconst AttivitaModal = (props: AttivitaModalProps) => {\n\n  //const [innerCRUDFields, setInnerCRUDFields] = useState<any>({});\n\n/*   const loadModel = async () => {\n    try {\n      const resources = await attivitaService.getGridModel();\n      if (!resources) {\n        throw new Error(\"No resources found\");\n      }\n\n      const newModel: any = {};\n      resources\n        .forEach((item: any) => {\n          const name = item.name === \"activityManager_id\"\n            ? 'manager-selector'\n            : item.name === 'activityType_id'\n              ? 'activity-type-selector'\n              : item.name;\n          newModel[name] = {\n            name: item.name,\n            type: item.name === \"activityManager_id\"\n              ? 'manager-selector'\n              : item.name === \"activityType_id\"\n                ? 'activity-type-selector'\n                : determineFieldType(item.type),\n            label: item.name === \"activityManager_id\"\n              ? \"Commerciale\"\n              : item.name === \"activityType_id\"\n                ? \"Tipo attivit\"\n                : item.name.charAt(0).toUpperCase() + item.name.slice(1),\n            value: item.name === \"project_id\" ? props.dataItem.id : \"\",\n            disabled: item.readOnly || item.name === \"project_id\",\n            required: item.required,\n            options: item.type.toLocaleLowerCase() === \"projectstate\" ? [\"OPEN\", \"CLOSED\", \"INPROGRESS\"] : [],\n            showLabel: true,\n            readOnly: item.readOnly,\n          };\n        });\n\n        debugger;\n      setInnerCRUDFields(newModel);\n    } catch (error) {\n      console.error(\"Error loading fields:\", error);\n      setInnerCRUDFields({});\n    }\n  };\n */\n  /* useEffect(() => {\n    loadModel();\n  }, []);\n */\n  const loadData = async (pagination: any, filter: any, sorting: any[]) => {\n    const tableResponse = await attivitaService.getActivitiesByProject(\n      props.dataItem.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      true,\n      filter,\n      sorting\n    );\n    return {\n      data: tableResponse?.data,\n      meta: {\n        total: tableResponse?.meta?.total,\n      },\n    };\n  };\n\n  const handleFormSubmit = (dataItem: { [name: string]: any }, refreshTable: () => void, closeModalCallback: () => void, isEdit?: boolean) => {\n    if (!isEdit) {\n      attivitaService.createResource(\n        {\n          ...dataItem,\n          activityType_id: dataItem.activityType_id.id,\n          activityManager_id: dataItem.activityManager_id.id\n        }\n      ).then(res => {\n        if (res) {\n          closeModalCallback();\n          refreshTable();\n        }\n      })\n    } else {\n      attivitaService.updateResource(\n        dataItem.id,\n        {\n          ...dataItem,\n          activityType_id: dataItem.activityType_id.id,\n          activityManager_id: dataItem.activityManager_id.id\n        }\n      ).then(res => {\n        if (res) {\n          closeModalCallback();\n          refreshTable();\n        }\n      })\n    }\n  }\n\n  return <GridTable\n    expand={{\n      enabled: true,\n      render: (rowProps) => <AssigningTable activity_id={rowProps.dataItem.id} />,\n    }}\n    filterable={true}\n    sortable={true}\n    createLabel={\"Nuova attivit\"}\n    getData={loadData}\n    columns={attivitaColumns}\n    resizableWindow={true}\n    draggableWindow={true}\n    initialHeightWindow={800}\n    initialWidthWindow={900}\n    resizable={true}\n    pageable={true}\n    actions={() => [\"create\"]}\n    formCrud={(row, type, closeModalCallback, refreshTable) => {\n      return (\n        <div>\n          <DynamicForm\n            submitText={\"Salva\"}\n            customDisabled={false}\n            formData={row}\n            fields={Object.values(activityForm)}\n            addedFields={formFields}\n            showSubmit={true}\n            extraButton={true}\n            extraBtnAction={closeModalCallback}\n            onSubmit={(dataItem: { [name: string]: any }) => {\n              handleFormSubmit({...dataItem, project_id: props.dataItem.id}, refreshTable, closeModalCallback);\n            }}\n          />\n        </div>\n      );\n    }}\n\n    customRowActions={[\n      {\n        icon: detailSectionIcon,\n        tooltip: \"Modifica\",\n        modalContent: (dataItem, closeModal, refreshTable) => {\n          return <AttivitaCrud\n            dataItem={dataItem}\n            closeModal={closeModal}\n            refreshTable={refreshTable}\n            addedFields={formFields}\n            fields={activityForm}\n            handleFormSubmit={(dataItem, refreshTable, closeModal) => handleFormSubmit(dataItem, refreshTable, closeModal, true)}\n          />\n        },\n      },\n      {\n        icon: trashIcon,\n        tooltip: \"Elimina\",\n        modalContent: (dataItem, closeModal, refreshTable) => (\n          <div>\n            L'operazione  irreversibile.\n            <div className={styles.buttonsContainer}>\n              <Button onClick={() => closeModal()}>Annulla</Button>\n              <Button themeColor={\"error\"} onClick={async () => {\n                await attivitaService.deleteActivity(dataItem.id);\n                refreshTable();\n                closeModal();\n              }}>\n                Elimina\n              </Button>\n            </div>\n          </div>\n        ),\n      },\n    ]}\n  />\n}\n\nexport default AttivitaModal;","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from \"react\";\nimport DynamicForm from \"common/Form\";\nimport { progettoService } from \"../../../../services/progettoServices\";\n\nexport interface CostiCommessaCrudProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n  addedFields?: any;\n  fields: any[];\n}\n\nconst CostiCommessaCrud = (props: CostiCommessaCrudProps) => {\n  \n  const [data, setData] = useState<any[] | undefined>(undefined);\n\n  const addExistingFile = (fields: any[]) => {\n\n    const file =  props.dataItem.file;\n\n    const fields_with_file = fields.map(field => {\n\n      if (field.name === \"file\" && file) field.existingFile = [{name: file.file_name, id: file.uniqueIdentifier}];\n      return field;\n\n    });\n\n    return fields_with_file;\n\n  };\n\n  useEffect(() => {\n    setData({\n      ...props.dataItem,\n      projectExpensesType_id: { id: props.dataItem.projectExpensesType_id, name: props.dataItem.ProjectExpensesType.description }\n    })\n  }, []);\n\n  return (\n    <div>\n      <h3>Dettagli per {props.dataItem.description}</h3>\n      {data ? <DynamicForm\n        submitText={\"Salva\"}\n        customDisabled={false}\n        formData={data}\n        fields={addExistingFile(Object.values(props.fields))}\n        addedFields={props.addedFields}\n        showSubmit={true}\n        extraButton={true}\n        extraBtnAction={props.closeModal}\n        onSubmit={(dataItem: { [name: string]: any }) => {\n          props.handleFormSubmit(dataItem, props.refreshTable, props.closeModal, true);\n        }}\n      /> : null}\n    </div>\n  );\n}\n\nexport default CostiCommessaCrud;","\nimport withField from \"common/hoc/Field\"\nimport withAutoComplete from \"common/hoc/AutoComplete\"\nimport { progettoService } from \"../../../services/progettoServices\";\n\nconst getDataProjectExpensesType = (filterP: string) => {\n    return progettoService.getProjectExpensesTypes(filterP).then((res) => {\n        if (res) {\n            return res.map(p => ({ id: p.id, name: p.description }));\n        }\n        return [];\n    });\n}\n\nexport const projectExpensesCustomFields = {\n    \"project-type-selector\": withField(withAutoComplete(getDataProjectExpensesType))\n}\n\n","import GridTable from \"common/Table\";\nimport Button from \"common/Button\";\nimport DynamicForm from \"common/Form\";\nimport React, { useEffect, useState } from \"react\";\nimport { attivitaService } from \"../../../services/attivitaService\";\nimport { attivitaColumns, costiCommessaColumns } from \"../../ProgettoCrud/config\";\nimport {\n  detailSectionIcon,\n  trashIcon\n} from \"common/icons\";\nimport styles from \"./styles.module.scss\";\nimport CostiCommessaCrud from \"./CostiCommessaCrud/component\";\nimport { progettoService } from \"../../../services/progettoServices\";\nimport { projectExpensesCustomFields } from \"./customfields\";\n\nconst determineFieldType = (\n  value: any\n):\n  | \"number\"\n  | \"text\"\n  | \"email\"\n  | \"date\"\n  | \"time\"\n  | \"textarea\"\n  | \"password\"\n  | \"checkbox\"\n  | \"select\" => {\n  if (value.toLocaleLowerCase() === \"boolean\") return \"checkbox\";\n  if (value.toLocaleLowerCase() === \"number\" || value.toLocaleLowerCase() === \"float\" || value.toLocaleLowerCase() === \"int\") return \"number\";\n  if (value.toLocaleLowerCase() === \"string\") {\n    if (value.toLocaleLowerCase().includes(\"@\")) return \"email\";\n    return \"text\";\n  }\n  if (value.toLocaleLowerCase() === \"date\" || value.toLocaleLowerCase() === \"datetime\") return \"date\";\n  if (value.toLocaleLowerCase() === \"projectstate\") return \"select\";\n  return \"text\";\n};\n\nexport interface CostiCommessamodalProps {\n  dataItem: any;\n  closeModal: Function;\n  refreshTable: Function;\n  handleFormSubmit: Function;\n}\n\nconst CostiCommessamodal = (props: CostiCommessamodalProps) => {\n\n  const [innerCRUDFields, setInnerCRUDFields] = useState<any>({});\n\n  const loadModel = async () => {\n    try {\n      const resources = await progettoService.getProjectExpensesCreateDtoModel();\n      if (!resources) {\n        throw new Error(\"No resources found\");\n      }\n\n      const newModel: any = {};\n      const labelMap = new Map([\n        [\"description\", \"Descrizione\"],\n        [\"amount\", \"Importo\"],\n        [\"payment_date\", \"Data pagamento\"],\n        [\"projectExpensesType_id\", \"Tipologia spesa\"],\n        [\"Attachment\", \"Allegato\"]\n      ]);\n      resources\n        /* .filter((item: any) => !excludedKeys.includes(item.name)) */\n        .forEach((item: any) => {\n          const name = item.name === \"projectExpensesType_id\"\n            ? 'project-type-selector'\n            : item.name === \"Attachment\"\n              ? 'file'\n              : item.name;\n          newModel[name] = {\n            name: item.name === \"Attachment\"\n              ? \"file\"\n              : item.name,\n            type: item.name === \"projectExpensesType_id\"\n              ? 'project-type-selector'\n              : item.name === \"Attachment\"\n                ? \"uploadSingleFile\"\n                : determineFieldType(item.type),\n            label: labelMap.get(item.name) || item.name,\n            value: \"\",\n            disabled: item.readOnly,\n            required: item.required,\n            options: [],\n            showLabel: true,\n            readOnly: item.readOnly,\n          };\n        });\n\n      setInnerCRUDFields(newModel);\n    } catch (error) {\n      console.error(\"Error loading fields:\", error);\n      setInnerCRUDFields({});\n    }\n  };\n\n  useEffect(() => {\n    loadModel();\n  }, []);\n\n  const loadData = async (pagination: any, filter: any, sorting: any[]) => {\n    const tableResponse = await progettoService.getExpensesByProjectId(\n      props.dataItem.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      true,\n      filter,\n      sorting\n    );\n    return {\n      data: tableResponse?.data,\n      meta: {\n        total: tableResponse?.meta?.total,\n      },\n    };\n  };\n\n  const handleFormSubmit = (dataItem: { [name: string]: any }, refreshTable: () => void, closeModalCallback: () => void, isEdit?: boolean) => {\n    if (!isEdit) {\n      progettoService.createProjectExpense(\n        props.dataItem.id,\n        dataItem.description,\n        parseInt(dataItem.amount),\n        dataItem.payment_date,\n        dataItem.projectExpensesType_id.id,\n        dataItem.file\n      ).then(res => {\n        if (res) {\n          closeModalCallback();\n          refreshTable();\n        }\n      })\n    } else {\n      progettoService.updateProjectExpense(\n        dataItem.id,\n        dataItem.description,\n        parseInt(dataItem.amount),\n        dataItem.payment_date,\n        dataItem.projectExpensesType_id.id,\n        dataItem.file\n      ).then(res => {\n        if (res) {\n          closeModalCallback();\n          refreshTable();\n        }\n      })\n    }\n  }\n\n  return <GridTable\n    filterable={true}\n    sortable={true}\n    getData={loadData}\n    columns={costiCommessaColumns}\n    resizableWindow={true}\n    draggableWindow={true}\n    initialHeightWindow={800}\n    initialWidthWindow={900}\n    resizable={true}\n    pageable={true}\n    actions={() => [\"create\"]}\n    formCrud={(row, type, closeModalCallback, refreshTable) => {\n      return (\n        <div>\n          <DynamicForm\n            submitText={\"Salva\"}\n            customDisabled={false}\n            formData={{ project_id: props.dataItem.id }}\n            fields={Object.values(innerCRUDFields).filter((e: any) => {\n              return !(e.readOnly || e.name === \"id\")\n            }).map((e: any) => {\n              return {\n                ...e,\n                disabled: e.name === \"project_id\",\n              }\n            })}\n            showSubmit={true}\n            extraButton={true}\n            extraBtnAction={closeModalCallback}\n            onSubmit={(dataItem: { [name: string]: any }) => {\n              handleFormSubmit(dataItem, refreshTable, closeModalCallback);\n            }}\n            addedFields={projectExpensesCustomFields}\n          />\n        </div>\n      );\n    }}\n\n    customRowActions={[\n      {\n        icon: detailSectionIcon,\n        tooltip: \"Modifica\",\n        modalContent: (dataItem, closeModal, refreshTable) => {\n          return <CostiCommessaCrud\n            dataItem={dataItem}\n            closeModal={closeModal}\n            refreshTable={refreshTable}\n            fields={Object.values(innerCRUDFields).map((f: any) => {\n              return {\n                ...f,\n                existingFile: f.name === \"files\" ? dataItem.files && dataItem.files.length ? dataItem.files.map(p=>({name:p.file_name,id:f.uniqueIdentifier})) : undefined : undefined,\n              }\n            })}\n            addedFields={projectExpensesCustomFields}\n            handleFormSubmit={(dataItem, refreshTable, closeModal) => handleFormSubmit(dataItem, refreshTable, closeModal, true)}\n          />\n        },\n      },\n      {\n        icon: trashIcon,\n        tooltip: \"Elimina\",\n        modalContent: (dataItem, closeModal, refreshTable) => (\n          <div>\n            L'operazione  irreversibile.\n            <div className={styles.buttonsContainer}>\n              <Button onClick={() => closeModal()}>Annulla</Button>\n              <Button themeColor={\"error\"} onClick={async () => {\n                await progettoService.deleteProjectExpense(dataItem.id);\n                refreshTable();\n                closeModal();\n              }}>\n                Elimina\n              </Button>\n            </div>\n          </div>\n        ),\n      },\n    ]}\n  />\n}\n\nexport default CostiCommessamodal;","export const progettoForm = {\n    \"Offer\":{\n        \"name\":\"Offer\",\n        \"type\":\"offerta-form\",\n        noContainer:true\n    },\n    \"workedDays\": {\n      \"name\": \"workedDays\",\n      \"type\": \"number\",\n      \"label\": \"Giorni lavorati\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true,\n      disabled:true\n    },\n    /* \"offerte-selector\": {\n      \"name\": \"offer_id\",\n      \"type\": \"offerte-selector\",\n      \"label\": \"Offerta\",\n      \"value\": \"\",\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true\n    }, */\n    \"ProjectState\": {\n      \"name\": \"ProjectState\",\n      \"type\": \"select\",\n      \"label\": \"Stato\",\n      \"value\": \"\",\n      \"required\": true,\n      \"options\": [\n        \"OPEN\",\n        \"CLOSED\",\n        \"INPROGRESS\"\n      ],\n      \"showLabel\": false\n    },\n    \"start_date\": {\n      \"name\": \"start_date\",\n      \"type\": \"date\",\n      \"label\": \"Data inizio\",\n      \"value\": \"\",\n      \"required\": true,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"end_date\": {\n      \"name\": \"end_date\",\n      \"type\": \"date\",\n      \"label\": \"Data fine\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"rate\": {\n      \"name\": \"rate\",\n      \"type\": \"number\",\n      \"label\": \"Tariffa\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true,\n    },\n    \"amount\": {\n      \"name\": \"amount\",\n      \"type\": \"number\",\n      \"label\": \"Importo\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"orderNum\": {\n      \"name\": \"orderNum\",\n      \"type\": \"text\",\n      \"label\": \"Numero Ordine\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": true\n    },\n    \"waitingForOrder\": {\n      \"name\": \"waitingForOrder\",\n      \"type\": \"checkbox\",\n      \"label\": \"In attesa dell'ordine\",\n      \"value\": \"\",\n      \"required\": false,\n      \"options\": [],\n      \"showLabel\": false\n    }\n  }","import React, { useState } from \"react\";\nimport DynamicForm from \"common/Form\";\nimport { progettoService } from \"../../services/progettoServices\";\nimport { CrudGenericService } from \"../../services/personaleServices\";\nimport GridTable from \"common/Table\";\nimport Button from \"common/Button\";\nimport NotificationProviderActions from \"common/providers/NotificationProvider\";\nimport { columns } from \"./config\";\nimport { detailSectionIcon, bookIcon, rowsIcon, trashIcon} from \"common/icons\";\nimport { formFields } from \"./customFields\";\nimport styles from \"./styles.module.scss\";\nimport DatiOrdineModal from \"../Modals/DatiOrdineModal/component\";\nimport AttivitaModal from \"../Modals/AttivitaModal/component\";\nimport CostiCommessaModal from \"../Modals/CostiCommessaModal/component\";\nimport { progettoForm } from \"./forms/progetto\";\n\n\n\nconst ProjectTable = (props: { customer: number, currentFilter: any }) => {\n\n  const [overrideParentFilters, setOverrideParentFilters] = useState<boolean>();\n\n  const loadData = async (pagination: any, filter: any, sorting: any[]) => {\n\n    const include = true;\n    let correctFilters = JSON.parse(JSON.stringify(filter));\n    const currentDate = new Date();\n\n    const dateFilters = [\n      {\n        field: \"start_date\",\n        value: new Date(currentDate.getFullYear() - 1, 0).toISOString(),\n        operator: \"gte\"\n      },\n      {\n        field: \"start_date\",\n        value: new Date(currentDate.getFullYear(), 12).toISOString(),\n        operator: \"lt\"\n      }\n    ];\n\n    if (!correctFilters) {\n      correctFilters = { logic: \"and\", filters: [...dateFilters] };\n    }\n    \n    else if (!correctFilters.filters.some(filter => filter.field === \"start_date\")) {\n      correctFilters.logic = \"and\";\n      correctFilters.filters.push(...dateFilters);\n    }\n\n    if (props.currentFilter && props.currentFilter.filters?.length > 0 && !overrideParentFilters) {\n      const personFilter = props.currentFilter.filters.find(filter => filter.field === \"person_id\");\n      if (personFilter) correctFilters.filters.push(personFilter);\n    }\n\n    const tableResponse = await progettoService.getProjectByCustomer(\n      props.customer,\n      pagination.currentPage,\n      pagination.pageSize,\n      include,\n      correctFilters,\n      sorting\n    );\n\n    return {\n      data: tableResponse?.data,\n      meta: tableResponse?.meta,\n    };\n  };\n\n  const defaultSort = [\n    {\n      field: \"start_date\",\n      dir: \"desc\"\n    }\n  ];\n\n \n  const handleFormSubmit = (\n    formData: any,\n    refreshTable: any,\n    id: any,\n    closeModal: () => void,\n    isCreate?: boolean,\n  ) => {\n    \n    let newFormData = {\n      ...formData,\n    };\n\n    newFormData[\"offer_id\"] = newFormData[\"offer_id\"]?.id;\n    if (newFormData[\"rate\"]) {\n      newFormData[\"rate\"] = parseInt(newFormData[\"rate\"]);\n    }\n    if (newFormData[\"amount\"]) {\n      newFormData[\"amount\"] = parseInt(newFormData[\"amount\"]);\n    }\n    if (newFormData[\"workedDays\"]) {\n      newFormData[\"workedDays\"] = parseInt(formData.Offer.days);\n    }\n\n    let promise: Promise<any> | undefined = undefined;\n    if (!isCreate) {\n      promise = progettoService.updateResource(id, newFormData);\n    } else {\n      promise = progettoService.createResource(newFormData);\n    }\n\n    if (promise) {\n      promise.then(() => {\n        NotificationProviderActions.openModal(\n          { icon: true, style: \"success\" },\n          \"Operazione avvenuta con successo\"\n        );\n        refreshTable();\n        closeModal();\n      });\n    }\n  };\n\n  return (\n    <GridTable\n      filterable={true}\n      pageable={true}\n      sortable={true}\n      sorting={defaultSort}\n      getData={loadData}\n      columns={columns}\n      onFilterSubmit={() => setOverrideParentFilters(true)}\n      addedFilters={[\n        {\n          name: \"person_id\",\n          label: \"Dipendente assegnato\",\n          type: \"filter-autocomplete\",\n          options: {\n              getData: (term: string) => Promise.resolve(\n                CrudGenericService.searchAccount(term).then(res => {\n                  if(res) return res.map(r => ({id: r.person_id, name: `${r.firstName} ${r.lastName} (${r.email})`}));\n                  else return [];\n                })\n              ),\n              getValue: (v: any) => v?.id\n          }\n        }\n      ]}\n      resizableWindow={true}\n      initialHeightWindow={1000}\n      draggableWindow={true}\n      initialWidthWindow={1200}\n      resizable={true}\n      actions={() => []}\n      formCrud={(row, type, closeModalCallback, refreshTable) => {\n        return (\n          <div>\n            <DynamicForm\n              submitText={\"Salva\"}\n              customDisabled={false}\n              formData={row}\n              fields={Object.values(progettoForm)/* .filter((e: any) => {\n                return e.name !== \"id\" && e.name !== \"date_created\" &&\n                  e.name !== \"date_modified\" &&\n                  e.name !== \"user_created\" &&\n                  e.name !== \"user_modified\"\n              }) .map((e: any) => {\n                return {\n                  ...e,\n                  disabled: false\n                }\n              })*/}\n              addedFields={formFields}\n              showSubmit={true}\n              extraButton={true}\n              extraBtnAction={closeModalCallback}\n              onSubmit={(dataItem: { [name: string]: any }) => {\n                handleFormSubmit(dataItem, refreshTable, dataItem.id, closeModalCallback, true);\n              }}\n            />\n          </div>\n        );\n      }}\n      customRowActions={[\n        {\n          icon: detailSectionIcon,\n          tooltip: \"Dati Ordine\",\n          modalContent: (dataItem, closeModal, refreshTable) => {\n            return <DatiOrdineModal\n              dataItem={dataItem}\n              closeModal={closeModal}\n              refreshTable={refreshTable}\n              addedFields={formFields}\n              fields={progettoForm}\n              handleFormSubmit={handleFormSubmit}\n            />\n          },\n        },\n       /*  {\n          icon: dollarIcon,\n          tooltip: \"SAL\",\n          modalContent: (dataItem, closeModal, refreshTable) => {\n            return <SalModal\n              dataItem={dataItem}\n              closeModal={closeModal}\n              refreshTable={refreshTable}\n              handleFormSubmit={handleFormSubmit}\n            />\n          },\n        }, */\n        {\n          icon: rowsIcon,\n          tooltip: \"Attivit\",\n          modalContent: (dataItem, closeModal, refreshTable) => {\n            return <AttivitaModal\n              dataItem={dataItem}\n              closeModal={closeModal}\n              refreshTable={refreshTable}\n              handleFormSubmit={handleFormSubmit}\n            />\n          },\n        },\n        {\n          icon: bookIcon,\n          tooltip: \"Costi Commessa\",\n          modalContent: (dataItem, closeModal, refreshTable) => (\n            <CostiCommessaModal\n              dataItem={dataItem}\n              closeModal={closeModal}\n              refreshTable={refreshTable}\n              handleFormSubmit={handleFormSubmit}\n            />\n          ),\n        },\n        {\n          icon: trashIcon,\n          tooltip: \"Elimina\",\n          modalContent: (dataItem, closeModal, refreshTable) => (\n            <div>\n              L'operazione  irreversibile.\n              <div className={styles.buttonsContainer}>\n                <Button onClick={() => closeModal()}>Annulla</Button>\n                <Button themeColor={\"error\"} onClick={async () => {\n                  await progettoService.deleteProject(dataItem.id);\n                  refreshTable();\n                  closeModal();\n                }}>\n                  Elimina\n                </Button>\n              </div>\n            </div>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport default ProjectTable;\n","import * as React from \"react\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\n\nexport const columnsCustomer = [\n  {\n    key: \"name\",\n    label: \"Cliente\",\n    type: \"string\",\n    sortable: true,\n    filter: \"text\",\n  },\n  {\n    key: \"amount_total\",\n    label: \"Totale importo\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.amount_total)}</td>\n    }\n  },\n  {\n    key: \"sal_total\",\n    label: \"Totale Sal\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.sal_total)}</td>\n    }\n  },\n  {\n    key: \"bill_total\",\n    label: \"Totale Sal Fatturato\",\n    type: \"custom\",\n    sortable: true,\n    filter: \"text\",\n    render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.bill_total)}</td>\n    }\n  },\n];\n","import React, { useState } from \"react\";\nimport GridTable from \"common/Table\";\nimport { customerService } from \"../../services/clienteService\";\nimport { CrudGenericService } from \"../../services/personaleServices\";\nimport ProjectTable from \"../../component/ProgettoCrud/component\";\nimport { columnsCustomer } from \"./config\";\n\nexport default function ProgettiPage() {\n\n  const [currentFilter, setCurrentFilter] = useState<any>();\n\n  const yearFilter = [\n    {\n      name: \"fromYear\",\n      label: \"Anno da\",\n      type: \"number\"\n    },\n    {\n      name: \"toYear\",\n      label: \"Anno a\",\n      type: \"number\"\n    }\n  ];\n\n  const loadData = async (pagination: any, filter: any, sorting: any[]) => {\n\n    const yearFilterNames = yearFilter.map(filter => filter.name);\n    const currentFilters = (filter?.filters || []).map(filter => filter.field);\n\n    if (!yearFilterNames.some(name => currentFilters.includes(name))) {\n\n      const currentDate = new Date();\n\n      const dateFilters = [\n        {\n          field: \"fromYear\",\n          operator: \"eq\",\n          value: currentDate.getFullYear() - 1\n        },\n        {\n          field: \"toYear\",\n          operator: \"eq\",\n          value: currentDate.getFullYear()\n        }\n      ];\n\n      if (!filter) filter = {};\n      filter.logic = \"AND\";\n      filter.filters = [...(filter.filters || []), ...dateFilters];\n    }\n\n    const tableResponse = await customerService.getHasProject(pagination.currentPage,pagination.pageSize,filter,sorting,undefined,true);\n    setCurrentFilter(filter);\n\n    return {\n      data: tableResponse?.data,\n      meta: {\n        total: tableResponse?.meta?.total,\n      },\n    };\n  };\n\n\n  return (\n    <GridTable\n      writePermissions={[\"WRITE_SALES_PROJECT\"]}\n      expand={{\n        enabled: true,\n        render: (rowProps) => <ProjectTable customer={rowProps.dataItem.id} currentFilter={currentFilter} />,\n      }}\n      filterable={true}\n      sortable={true}\n      getData={loadData}\n      columns={columnsCustomer}\n      addedFilters = {[\n        ...yearFilter, \n        {\n          name: \"person_id\",\n          label: \"Dipendente assegnato\",\n          type: \"filter-autocomplete\",\n          options: {\n              getData: (term: string) => Promise.resolve(\n                CrudGenericService.searchAccount(term).then(res => {\n                  if(res) return res.map(r => ({id: r.person_id, name: `${r.firstName} ${r.lastName} (${r.email})`}));\n                  else return [];\n                })\n              ),\n              getValue: (v: any) => v?.id\n          }\n        }\n      ]}\n      resizableWindow={true}\n      draggableWindow={true}\n      initialHeightWindow={800}\n      initialWidthWindow={900}\n      resizable={true}\n      pageable={true}\n    />\n  );\n}\n","import BaseHttpService from \"common/services/BaseHTTPService\"\nimport client from \"common/services/BEService\";\n\nclass SalService extends BaseHttpService {\n\n  getTableName() {\n    return 'sal'\n  }\n\n  getGridModel = async () => {\n    try {\n      const params = {};\n\n      const response = await client.get(\n        `api/v1/sal/models`,\n        {\n          params,\n        }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  findSal = async (\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    include?: boolean\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/sal/findSal`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getSal = async (\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.get(`api/v1/sal/`, {\n        params,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  getSalByProject = async (\n    projectId: number,\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    include?: boolean\n  ) => {\n    \n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/sal/getSalFromProject/${projectId}`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    \n  };\n\n  getSalFromProject = async (\n    projectId: number,\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    include?: boolean\n  ) => {\n    \n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/sal/getSalFromProject/${projectId}`,\n        { filtering: { other_filters: filtering }, sorting },\n        { params }\n      );\n      return response.data;\n    \n  };\n\n  getSalRTBFromProject = async (\n    projectId: number,\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    include?: boolean\n  ) => {\n    \n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/bills/getReadyToBillFromProject/${projectId}`,\n        { filtering: { other_filters: filtering }, sorting },\n        { params }\n      );\n      return response.data;\n    \n  };\n\n\n  getCustomersWithSal = (\n    pageNum: number,\n    pageSize: number,\n    filtering?: any,\n    sorting?: Array<any>,\n    include?: boolean) =>{\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      return  client.post(\n        `/api/v1/sal/draftsByCustomer`,\n        { filtering:this.transformFilters(filtering), sorting },\n        { params }\n      ).then(response=>response.data);\n    }\n  \n    getProjectsWithSal = (\n      customerID:number,\n      pageNum: number,\n      pageSize: number,\n      filtering?: any,\n      sorting?: Array<any>,\n      include?: boolean) =>{\n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        return  client.post(\n          `/api/v1/sal/draftsByProject/${customerID}`,\n          { filtering: { other_filters: filtering }, sorting },\n          { params }\n        ).then(response=>response.data);\n    }\n\n    getActivitiesWithSal = (\n      project:number,\n      pageNum: number,\n      pageSize: number,\n      filtering?: any,\n      sorting?: Array<any>,\n      include?: boolean) =>{\n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        return  client.post(\n          `/api/v1/sal/draftsByActivity/${project}`,\n          { filtering, sorting },\n          { params }\n        ).then(response=>response.data);\n    }\n\n    getAllocationsWithSal = (\n      activity:number,\n      pageNum: number,\n      pageSize: number,\n      filtering?: any,\n      sorting?: Array<any>,\n      include?: boolean) =>{\n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        return  client.post(\n          `/api/v1/sal/draftsByPersonActivity/${activity}`,\n          { filtering:this.transformFilters(filtering), sorting },\n          { params }\n        ).then(response=>response.data);\n    }\n\n    getPersonWithSal = (\n      person:number,\n      pageNum: number,\n      pageSize: number,\n      filtering?: any,\n      sorting?: Array<any>,\n      include?: boolean) =>{\n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        return  client.post(\n          `/api/v1/sal/salByPersonActivity/${person}`,\n          { filtering, sorting },\n          { params }\n        ).then(response=>response.data);\n    }\n\n  getReadyToBillByCustomer = ( pageNum: number,\n    pageSize: number,\n    filtering?: any,\n    sorting?: Array<any>,\n    include?: boolean) =>{\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      return  client.post(\n        `/api/v1/bills/getReadyToBillByCustomer`,\n        { filtering:this.transformFilters(filtering),\n           sorting },\n        { params }\n      ).then(response=>response.data);\n    }\n\n    getReadyToBillByProject = ( customerId:number,pageNum: number,\n      pageSize: number,\n      filtering?: any,\n      sorting?: Array<any>,\n      include?: boolean) =>{\n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        return  client.post(\n          `/api/v1/bills/getReadyToBillByProject/${customerId}`,\n          { filtering: { other_filters: filtering }, sorting },\n          { params }\n        ).then(response=>response.data);\n    }\n\n    getHistoryBillCustomer = async (\n      pageNum: number,\n      pageSize: number,\n      filtering: any,\n      sorting: Array<any>,\n      include?: boolean\n    ) => {\n      \n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n  \n        const response = await client.post(\n          `/api/v1/bills/getBillByCustomer`,\n          { filtering:this.transformFilters(filtering), sorting },\n          { params }\n        );\n        return response.data;\n      \n    };\n\n    getHistoryBillFromCustomer = async (\n      customer_id: number,\n      pageNum: number,\n      pageSize: number,\n      filtering: any,\n      sorting: Array<any>,\n      include?: boolean\n    ) => {\n      \n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n\n        const response = await client.post(\n          `/api/v1/bills/getBillByProject/${customer_id}`,\n          { filtering: {other_filters: filtering}, sorting },\n          { params }\n        );\n        return response.data;\n      \n    };\n    \n    getHistoryBillFromProject = async (\n      project_id: number,\n      pageNum: number,\n      pageSize: number,\n      filtering: any,\n      sorting: Array<any>,\n      include?: boolean\n    ) => {\n      \n        const params = {\n          pageNum,\n          pageSize,\n          include,\n        };\n\n        filtering.filters = filtering?.filters?.filter(filter => filter.value !== \"\");\n\n        const response = await client.post(\n          `/api/v1/bills/getBillFromProject/${project_id}`,\n          { filtering: { other_filters: filtering }, sorting },\n          { params }\n        );\n        return response.data;\n      \n    };\n\n    getSalWorkedDays = (projectId:number, month:number,year:number)=>{\n      return client.get('api/v1/sal/getPersonalWorkedDays',{ params: { project_id:projectId,month,year } });\n    }\n\n    createBill =  (resourceData: any) => {\n      return client.post(\n        `/api/v1/bills/create`,\n        resourceData\n      ).then(res=>res.data)\n      \n    };\n\n    updateBill = async (\n      id: number,\n      resourceData: any\n    ) => {\n      return client.patch(\n          `/api/v1/bills/update/${id}`,\n          resourceData\n        ).then(res=>res.data)\n    };\n\n    deleteBill = async (\n      id: number\n    ) => {\n      return client.delete(\n          `/api/v1/bills/delete/${id}`,\n        ).then(res=>res.data)\n    };\n\n    searchCustomer (text:string) {\n      return client.get(`api/v1/customers?term=${text}`).then(res => res.data.data)\n   };\n\n   transformFilters(obj: any): Record<string, any> | null {\n    if (!obj || !obj.filters || !Array.isArray(obj.filters)) {\n      return null;\n    }\n  \n    return obj.filters.reduce((acc, filter) => {\n      if (filter.field && filter.value !== undefined) {\n        if(filter.id==='year' && typeof filter.value === 'string'){\n          acc[filter.field] = parseInt(filter.value);\n        }else{\n          acc[filter.field] = filter.value;\n        }\n        \n      }\n      return acc;\n    }, {} as Record<string, any>);\n  }\n}\n\nexport const salService = new SalService();","import withField from \"common/hoc/Field\";\nimport YearMonthPicker from \"common/YearMonthPicker\";\nimport React from \"react\";\nimport { MoneyInputSal } from \"./MoneyInput\";\n\n\nfunction YearMonthSalField(props){\n    return <YearMonthPicker {...props} />\n}\n\nexport const customFieldsSal = {\n    \"yearmonthsal-selector\":withField(YearMonthSalField),\n    \"moneysal-selector\":withField(MoneyInputSal),\n}\n\n\nfunction requiredValidator (name: string, value: any, validator?: (value: any) => string) {\n    if (!value && value !== 0) return `Il campo ${name}  obbligatorio.`;\n    else if (validator) validator(value);\n}\n\n\nexport const getFormFields=(values,onChange,type,project,otherSal?)=>{\n\n    return [\n    {\n        name: \"monthyear\",\n        label: \"Mese/Anno\",\n        type: \"yearmonthsal-selector\",\n        //value: getDateFromData(values.year,values.month),\n        valueOnChange:onChange,\n        required: true,\n        disabled:type === \"view\" || values.SalState==='BILLING_OK' || values.SalState==='BILLED',\n        options:{\n            disabled:otherSal?otherSal.map(os=>({...os,month:os.month-1})):[]\n        }\n    },\n    {\n        name: \"money\",\n        label: \"s\",\n        type: \"moneysal-selector\",\n        value: values,\n        required: true,\n        showLabel:false,\n        disabled:type === \"view\" || values.SalState==='BILLING_OK' || values.SalState==='BILLED',\n        options:{\n            project,\n            sal:values\n        }\n    },\n    {\n        name:  values.SalState ==='BILLING_OK' ? \"amount\" : \"amountBill\",\n        label: \"Importo Fattura\",\n        type: \"number\",\n        value: values.SalState ==='BILLING_OK' ? values.amount : values.amountBill,\n        required: true,\n        disabled:type === \"view\",\n        conditions:(formData)=>formData.SalState==='BILLING_OK' || formData.SalState === 'BILLED',\n        validator: (value: any) => requiredValidator(\"Importo Fattura\", value)\n    },\n    {\n        name: \"billing_date\",\n        label: \"Data Fattura\",\n        type: \"date\",\n        value: values.billing_date,\n        required: true,\n        disabled:type === \"view\",\n        conditions:(formData)=>formData.SalState==='BILLING_OK' || formData.SalState === 'BILLED',\n        validator: (value: any) => requiredValidator(\"Data Fattura\", value)\n    },\n    {\n        name: \"billing_number\",\n        label: \"Numero Fattura\",\n        type: \"text\",\n        value: values.billing_number,\n        required: true,\n        disabled:type === \"view\",\n        conditions:(formData)=>formData.SalState==='BILLING_OK' || formData.SalState === 'BILLED',\n        validator: (value: any) => requiredValidator(\"Numero Fattura\", value)\n    },\n    {\n        name: \"baf_number\",\n        label: \"Numero BAF\",\n        type: \"text\",\n        value: values.baf_number,\n        disabled:type === \"view\",\n        conditions:(formData)=>formData.SalState==='BILLING_OK' || formData.SalState === 'BILLED',\n    },\n    {\n        name: \"billToPerson\",\n        label: \"Acronimi\",\n        type: \"text\",\n        value: values.billToPerson,\n        required: false,\n        disabled: true,\n        conditions:(formData)=> formData.SalState === 'BILLED'\n    },\n    {\n        name: \"advancePayment\",\n        label: \"Anticipata\",\n        type: \"text\",\n        value: values.advancePayment,\n        required: false,\n        disabled:type === \"view\",\n        conditions:(formData)=>formData.SalState==='BILLING_OK' || formData.SalState === 'BILLED',\n    },\n    {\n        name: \"notes\",\n        label: \"Note\",\n        type: \"textarea\",\n        value: values.notes || \"\",\n        disabled:type === \"view\"\n    }\n]}","import React, { useEffect, useState } from \"react\";\nimport InputText from \"common/InputText\"\nimport Accordion from \"common/Accordion\"\nimport { salService } from \"../../services/salService\";\nimport Button from 'common/Button';\nimport { calendarIcon } from 'common/icons'\nimport Modal from 'common/Modal';\nimport RapportinoCalendar from \"hr/RapportinoCalendar\";\n\ntype MoneyInputSalProps=any & {options:{project:any,sal:any}}\n\nexport function MoneyInputSal(props:MoneyInputSalProps)\n{\n    const [workingDays,setWorkingDays] = useState<number>();\n    const [person,setPerson] = useState<Array<any>>();\n    const [acronyms, setAcronyms] = useState<string[]>();\n    const [effectiveDays,setEffectiveDays] = useState<number | undefined>(props.value?.actualDays);\n    const [effectiveDaysPristine,setEffectiveDaysPristine] = useState<boolean>(!!props.value?.actualDays);\n    const [finalAmount,setFinalAmount] = useState<number | undefined>(props.value?.amount);\n    \n    const [rapportinoViewParam,setRapportinoViewParam] = useState<{\n        person:{\n            id:number,\n            name:string\n        },\n        date:Date\n    }>()\n\n    useEffect(()=>{\n\n        if(props.options.sal && props.options.sal.monthyear && props.options.project){\n            //setEffectiveDaysPristine(false)\n            salService.getSalWorkedDays(props.options.project.id,props.options.sal.monthyear.getMonth()+1,props.options.sal.monthyear.getFullYear())\n            .then(res=>{\n                if(res.data){\n                    const person = res.data.map(d=>{\n                        return {\n                            ...d.person,\n                            detail:d.detail,\n                            total:d.detail.reduce((accumulator, currentValue) => {\n                                return accumulator + ((currentValue.minutes / 60) + (currentValue.hours) / 8)\n                              },0)\n                        }\n                    });\n                    const allPersonSum = person.reduce((accumulator, currentValue) => {\n                        return accumulator + currentValue.total\n                      },0);\n                    const allAcronyms = person.map(singlePerson => singlePerson.billAcronym);\n                    setAcronyms(allAcronyms);\n                    setWorkingDays(allPersonSum ? Number(allPersonSum.toFixed(2)): 0);\n                    setPerson(person);\n                }\n            })\n        }\n    },[props.options.sal,props.options.project]);\n\n    useEffect(()=>{\n    \n        if(!effectiveDaysPristine){\n            setEffectiveDays(workingDays);\n        }\n    },[workingDays])\n\n    useEffect(()=>{\n        props.onChange({value:{\n            effectiveDays,\n            finalAmount\n        }});\n\n        setFinalAmount(props.options.project.rate * (effectiveDays || 0));\n    },[effectiveDays])\n\n    useEffect(()=>{\n        props.onChange({value:{\n            effectiveDays,\n            finalAmount\n        }})\n    },[finalAmount]);\n\n    useEffect(()=>{\n        props.onChange({value:{\n            acronyms\n        }})\n    },[acronyms]);\n\n    if(!props.options.project || !props.options.sal || !props.options.sal.monthyear){\n        return <span>Seleziona anno mese</span>\n    }\n\n    return <div>\n        {\n            person && person.length ? <Accordion title=\"Dettaglio lavoro dipendente\" defaultOpened={false} >\n                <div className=\"k-grid k-grid-md\">\n                    <table className=\"k-table k-grid-header-table k-table-md\">\n                        <thead className=\"k-table-thead\">\n                            <tr className=\"k-table-row\">\n                                <th className=\"k-table-th k-header\">Nominativo</th>\n                                <th className=\"k-table-th k-header\">Acronimo</th>\n                                <th className=\"k-table-th k-header\">Giorni</th>\n                                <th className=\"k-table-th k-header\">Rapportino</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"k-table-tbody\">\n                            {person.map(p=><tr className=\"k-table-row\" key={p.id}>\n                                <td className=\"k-table-td\">{p.first_name} {p.last_name}</td>\n                                <td className=\"k-table-td\">{p.billAcronym}</td>\n                                <td className=\"k-table-td\">{p.total ? Number(p.total.toFixed(2)): 0} Giorni</td>\n                                <td className=\"k-table-td\"><div>\n                                <Button\n                                    type=\"button\"\n                                    svgIcon={calendarIcon}\n                                    themeColor={\"outline\"}\n                                    onClick={() => {\n                                        setRapportinoViewParam({\n                                            date:new Date(props.options.sal.monthyear),\n                                            person:{\n                                                name:p.first_name + ' ' + p.last_name,\n                                                id:p.id\n                                            }\n                                        })\n                                    }}\n                                >\n                                    \n                                </Button>\n                                </div></td>\n                                </tr>)}\n                        </tbody>\n                    </table>\n                </div>\n                \n            </Accordion>:null\n\n        }\n        {\n            props.options.project.Offer.ProjectType.code === \"CONS\"?\n            <div>\n                <InputText label=\"Giorni Lavorati Sal\"  type=\"number\" value={workingDays} disabled /> \n                <InputText label=\"Giorni Effettivi Sal\" onChange={(e)=>{\n                    setEffectiveDaysPristine(true);\n                    let v = e.target.value && e.target.value.length ? parseFloat(e.target.value) : undefined;\n                    setEffectiveDays(v ? Number(v.toFixed(2)): undefined);\n                   \n                }} required type=\"number\" value={effectiveDays} disabled={props.disabled} />\n                <InputText label=\"Tariffa Sal\" type=\"number\" value={props.options.project.rate} disabled />\n            </div>\n            :null\n        }\n        \n        <InputText required label=\"Importo Sal\" type=\"number\" value={finalAmount} onChange={(e)=>{\n            let v = e.target.value && e.target.value.length?parseFloat(e.target.value):undefined;\n            setFinalAmount(v ? Number(v.toFixed(2)): undefined);\n        }} disabled={props.disabled} />\n        \n        {rapportinoViewParam && <Modal title={\"Rapportino di \" + rapportinoViewParam.person.name }\n            isOpen={rapportinoViewParam}\n            onClose={() => setRapportinoViewParam(undefined)}\n            width=\"100%\"\n            height=\"100%\">\n                <RapportinoCalendar forcePerson={{ id: rapportinoViewParam.person.id, name: rapportinoViewParam.person.name }} forceDate={rapportinoViewParam.date} />\n        </Modal>}\n    </div>\n\n}\n\n\n","import React, { PropsWithRef, useEffect, useRef, useState } from \"react\";\nimport { customFieldsSal, getFormFields } from \"./form\";\nimport Form from 'common/Form';\nimport { salService } from \"../../services/salService\";\nimport NotificationActions from 'common/providers/NotificationProvider';\nimport Button from 'common/Button';\nimport {fileAddIcon, stampIcon} from 'common/icons';\n\ntype SalCrudProps = {\n    project:any,\n    otherSal?:Array<any>,\n    row: any;\n    type: string;\n    closeModalCallback: () => void;\n    refreshTable: () => void;\n    onNext:()=>Promise<any>\n  };\n\n  const getDateFromData= (year?:number,month?:number)=>{\n    if(year && month){\n        return new Date(year,month-1,1)\n    }\n    return null\n}\nexport function SalCrud(props:PropsWithRef<SalCrudProps>){\n\n    const formSal = useRef<any>();\n    const [formSalData,setFormSalData] = useState<any>(props.row);\n\n    const onChange = (fieldName:string,val:any)=>{\n      setFormSalData((prev)=>{\n        return {...prev,[fieldName]:val}\n      });\n    }\n\n    const handleSubmit = () => {\n\n        let action= Promise.resolve();\n\n        const mappedObj = {\n          year:formSal.current.values.monthyear.getFullYear(),\n          month:formSal.current.values.monthyear.getMonth()+1,\n          notes:formSal.current.values.notes,\n          project_id:props.project.id,\n          amount:formSal.current.values.money.finalAmount,\n          actualDays:formSal.current.values.money.effectiveDays,\n          SalState:'PENDING'\n        };\n\n        if(props.type==='create'){\n          action = salService.createResource(mappedObj);\n        } \n        \n        else if(props.type==='edit'){\n\n          const billData= {\n            amount: formSal.current.values.amount ? parseFloat(formSal.current.values.amount) : undefined,\n            billing_date: formSal.current.values.billing_date,\n            billing_number: formSal.current.values.billing_number,\n            advancePayment: formSal.current.values.advancePayment,\n            acronyms: formSal.current.values.money.acronyms,\n            baf_number: formSal.current.values.baf_number,\n            sal_id:formSalData.id\n          };\n\n          if(formSalData.SalState==='BILLING_OK'){\n            if(!formSalData.Bill) action = salService.createBill(billData);\n            else action = salService.updateBill(formSalData.Bill.id,billData);\n          }\n          \n          else if (formSalData.SalState === \"BILLED\") {\n            billData.amount = formSal.current.values.amountBill ? parseFloat(formSal.current.values.amountBill) : undefined;\n            action = salService.updateBill(formSalData.Bill.id, billData);\n          }\n\n          else if (formSalData.SalState === \"PENDING\") {\n            action = salService.updateResource(formSalData.id, mappedObj);\n          }\n          \n        }\n\n        return action.then(res=>{\n          NotificationActions.openModal(\n            { icon: true, style: \"success\" },\n            \"Operazione avvenuta con successo \"\n          );\n        })\n    }\n\n    useEffect(()=>{\n      if(props.type==='delete'){\n        if (formSalData.SalState === \"BILLED\") {\n          NotificationActions.openConfirm('Sei sicuro di rimuovere la fattura?',\n            () => {\n             salService.deleteBill(props.row.Bill.id).then(()=>{\n                NotificationActions.openModal(\n                  { icon: true, style: \"success\" },\n                  \"Operazione avvenuta con successo \"\n                );\n                props.closeModalCallback();\n                props.refreshTable();\n              })\n      \n            },\n            'Cancella fattura'\n          );\n        }\n        else {\n          const message = formSalData.SalState === \"BILLING_OK\" \n            ? \"Sei sicuro di voler revocare l'ok a fatturare?\"\n            : 'Sei sicuro di rimuovere il SAL?'\n          ;\n          NotificationActions.openConfirm(message,\n            () => {\n             salService.deleteResource(props.row.id).then(()=>{\n                NotificationActions.openModal(\n                  { icon: true, style: \"success\" },\n                  \"Operazione avvenuta con successo \"\n                );\n                props.closeModalCallback();\n                props.refreshTable();\n              })\n      \n            },\n            'Cancella SAL'\n          );\n        }\n      }\n    },[props.type])\n\n    const mappedData = {\n      ...formSalData,\n      money:formSalData,\n      amountBill: formSalData.Bill?.amount,\n      billToPerson: formSalData.Bill?.BillToPerson?.map(billToPerson => billToPerson.Person.billAcronym).join(\", \"),\n      advancePayment: formSalData.Bill?.advancePayment,\n      billing_number: formSalData.Bill?.billing_number,\n      billing_date: formSalData.Bill?.billing_date,\n      baf_number: formSalData.Bill?.baf_number\n    }\n\n    if(!mappedData.monthyear){\n      if( mappedData.year && mappedData.month){\n        mappedData.monthyear=getDateFromData(mappedData.year,mappedData.month);\n      } else if(props.project.lastSal){\n        const d=  new Date(props.project.lastSal);\n\n        mappedData.monthyear =getDateFromData(d.getFullYear(),d.getMonth()+2);\n      }else if(props.project.start_date){\n        const d=  new Date(props.project.start_date);\n\n        mappedData.monthyear =getDateFromData(d.getFullYear(),d.getMonth()+1);\n      }\n    }\n\n    \n\n    return <>{\n      props.type!='delete'?<><Form\n              ref={formSal}\n              addedFields={customFieldsSal}\n              fields={getFormFields(mappedData,onChange,props.type,props.project,props.otherSal)}\n              formData={mappedData}\n              onSubmit={()=>handleSubmit().then(()=>{\n                props.refreshTable();\n                props.closeModalCallback();\n              })}\n              submitText=\"Salva\"\n              showSubmit={props.type!='view' && formSalData.SalState !== \"BILLING_OK\"}\n          />\n          {\n            props.type!=='create' && props.type!='delete' && props.type!='view' && <div style={{display:'flex',justifyContent:'flex-end',marginTop:10}}>\n              <Button disabled={props.row.SalState==='BILLED'} svgIcon={\n                props.row.SalState==='PENDING'?fileAddIcon:stampIcon\n              } onClick={()=>{\n                handleSubmit().then(props.onNext).then(()=>{\n                  props.refreshTable();\n                  props.closeModalCallback();\n                });\n              }}>{props.row.SalState==='PENDING'?'Invia a fatturare':props.row.SalState==='BILLING_OK'?'Conferma Fattura':'Fatturato'}</Button>\n              </div>\n          }\n          </>\n          :<div>delete</div>}\n          </>\n}","import React,{ createContext, PropsWithChildren, useState, Dispatch, SetStateAction } from \"react\";\n\n\ntype OpenedSalTable = {\n    customers:number[],\n    projects:number[]\n  }\n\nconst SalContext = createContext<{\n  draft:OpenedSalTable,\n  billing:OpenedSalTable,\n  filters:any,\n  addOpen:(type:'draft' | 'billing', tableType: 'customers'| 'projects',value:number) => void,\n  removeOpen:(type:'draft' | 'billing', tableType: 'customers'| 'projects',value:number) => void,\n  setFilters:(filters:any)=>void\n}>({\n  draft:{\n    customers:[],\n    projects:[]\n  },\n  billing:{\n    customers:[],\n    projects:[]\n  },\n  filters:{},\n  addOpen:() => {},\n  removeOpen:() => {},\n  setFilters:()=>{}\n});\n \n\n const SalProvider = (props:PropsWithChildren) => {\n   \n    const [draft,setDraft] = useState<OpenedSalTable>({\n        customers:[],\n        projects:[]\n    });\n\n    const [billing,setBilling] = useState<OpenedSalTable>({\n        customers:[],\n        projects:[]\n    });\n\n    const [filters,setFilters] = useState<any>({})\n\n    const handleAdd = (type:'draft' | 'billing', tableType: 'customers'| 'projects',value:number) => {\n       \n        if(type==='draft'){\n        const newData=[...draft[tableType],value]\n        setDraft((prev)=>{\n            return {...prev,[tableType]:newData}\n        });\n       }else if(type==='billing'){\n        const newData=[...billing[tableType],value];\n        setBilling((prev)=>{\n            return {...prev,[tableType]:newData}\n        });\n       }\n    }\n\n    const handleRemove = (type:'draft' | 'billing', tableType: 'customers'| 'projects',value:number) => {\n       \n        if(type==='draft'){\n        const newData=draft[tableType].filter(p=>p!=value);\n        setDraft((prev)=>{\n            return {...prev,[tableType]:newData}\n        });\n       }else if(type==='billing'){\n        const newData=billing[tableType].filter(p=>p!=value);\n        setBilling((prev)=>{\n            return {...prev,[tableType]:newData}\n        });\n       }\n    }\n\n    return (\n      <SalContext.Provider value={{ \n        \n        addOpen:handleAdd,\n        removeOpen:handleRemove,\n        billing,\n        draft,\n        filters,\n        setFilters\n        \n        }}>\n        {props.children}     \n      </SalContext.Provider>\n    );\n   };\n\n   export { SalContext, SalProvider };","import React, { PropsWithChildren, useCallback, useContext, useRef, useState } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalCrud } from \"../component\";\nimport Button from 'common/Button';\nimport NotificationActions from 'common/providers/NotificationProvider';\nimport {fileAddIcon} from 'common/icons';\nimport { SalContext } from \"../../../pages/Sal/provider\";\nimport authService from 'common/services/AuthService';\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nexport const SalDraftItem = React.memo((props: PropsWithChildren<{ project: any, refreshParent:()=>void, person:any }>) => {\n\n  const { filters } = useContext(SalContext);\n  const columns = [\n    {\n      key: \"SalState\", label: \"Stato\", type: \"custom\", render: (rowData) => <td>\n        Sal creato in attesa di ok a fatturare\n        {authService.hasPermission(\"WRITE_SALES_SAL\") && <Button size=\"small\" svgIcon={fileAddIcon} onClick={() => {\n          updateToBilling(rowData.id).then(props.refreshParent)\n        }}>Ok a fatturare</Button>}\n      </td>\n    },\n    { key: \"actualDays\", label: \"Giorni Lavorati\", type: \"number\" },\n    { key: \"amount\", label: \"Importo\",type: \"custom\", render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.amount)}</td>\n    } },\n    { key: \"notes\", label: \"Note\", type: \"text\", sortable: true, filter: \"text\" },\n    {\n      key: \"month\", label: \"Mese\", type: \"custom\", sortable: true, filter: \"number\", render: (row) => {\n        const date = new Date(new Date().getFullYear(), row.month - 1, 1);\n        let monthStr = date.toLocaleString('it-IT', { month: 'long' }).toString();\n        monthStr = monthStr.charAt(0).toUpperCase() + monthStr.slice(1).toLowerCase();\n        return <td>{monthStr}</td>;\n      }\n    },\n    { key: \"year\", label: \"Anno\", type: \"number\", sortable: true, filter: \"number\" }\n  ];\n\n  \n  const [rows, setRows] = useState<Array<any>>();\n\n  const updateToBilling = (id)=>{\n    return new Promise((ok,ko)=>{\n      NotificationActions.openConfirm('Sei sicuro di spostare il Sal in stato \"A FATTURARE\" ?',\n        () => {\n          ok(salService.updateResource(id,{SalState:'BILLING_OK'}));\n        },\n        'Conferma operazione',\n        ko\n      )\n    })\n    \n  }\n\n  const loadData = useCallback(async (pagination: any, filter: any, sorting: any[]) => {\n    const include = true;\n    const tableResponse = await salService.getSalFromProject(\n      props.project.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n    setRows(tableResponse.data);\n    return {\n      data: tableResponse.data,\n      meta: { total: tableResponse.meta.model },\n    };\n  }, [props.project.id,filters]);\n\n\n  return (\n    <>\n      <p>Sal di {props.project.Offer.name}</p>\n\n      <GridTable\n        writePermissions={[\"WRITE_SALES_SAL\"]}\n        filterable={true}\n        sortable={true}\n        getData={loadData}\n        columns={columns}\n        resizableWindow={true}\n        initialHeightWindow={800}\n        draggableWindow={true}\n        initialWidthWindow={900}\n        resizable={true}\n        actions={() => [\"show\", \"edit\", \"delete\", \"create\"]}\n        formCrud={(row: any, type: string, closeModalCallback: any, refreshTable: any) => {\n          let otherSal = rows;\n          if (rows && row) {\n            otherSal = rows.filter(s => s.id != row.id);\n          }\n          return (\n            <>\n              <SalCrud\n                otherSal={otherSal}\n                project={props.project}\n                row={row}\n                type={type}\n                closeModalCallback={closeModalCallback}\n                refreshTable={props.refreshParent}\n                onNext={() => updateToBilling(row.id)}\n              />\n            </>\n          )\n        }}\n      />\n    </>\n  );\n});\n\n\n","import React, { PropsWithChildren, useCallback, useContext, useEffect, useRef } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalDraftItem } from \"./SalDraftItem\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\n\nconst columns = [\n  { key: \"Offer.name\", label: \"Offerta\", type: \"string\",sortable: true, filter: \"text\"  },\n  { key: \"Offer.ProjectType.description\", label: \"Tipo progetto\", type: \"string\", sortable: true, filter: \"text\"  },\n  { key: \"Offer.Location.description\", label: \"Sede\", type: \"string\",sortable: true },\n  { key: \"Offer.billing_type\", label: \"Tipo Fatturazione\", sortable: true,type: \"custom\",render:(data)=><td>{\n    data.Offer.billing_type!=='Daily'?'A corpo':'Time material'\n    }</td> },\n  { key: \"amount\", label: \"Importo\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.amount)}</td>\n  }, sortable: true},\n  { key: \"totalBill\", label: \"Totale Sal Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true},\n  { key: \"lastSal\", label: \"Data Ultimo Sal\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"start_date\", label: \"Data Inizio Progetto\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"end_date\", label: \"Data Fine Progetto\", type: \"date\", sortable: true, filter: \"date\" }\n];\n\nexport const SalProjectDraft = React.memo((props: PropsWithChildren<{ customer: any, refreshParent:()=>void }>) => {\n\n  const tableRef= useRef<any>();\n  const { addOpen, removeOpen, draft, filters } = useContext(SalContext);\n\n  const loadData = useCallback(async (pagination, filter, sorting) => {\n    const include = true;\n    const tableResponse = await salService.getProjectsWithSal(\n      props.customer.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n\n    return {\n      data: tableResponse.data.map(td=>({\n        ...td,\n        gridtable_expanded:draft.projects.some(d=>d===td.id)\n      })),\n      meta: { total: tableResponse.meta.total },\n    };\n  }, [props.customer.id,draft.projects,filters]);\n\n\n\n  const renderExpand = useCallback((rowProps) => (\n    <SalDraftItem project={rowProps.dataItem} refreshParent={props.refreshParent} person={undefined} />\n  ), []);\n\n  return (\n    <>\n    <p>Progetti di {props.customer.name}</p>\n    <GridTable\n      expand={{\n        enabled: true,\n        render: renderExpand,\n        onExpandChange:(row:any,expanded:boolean)=>{\n          if(expanded){\n            addOpen(\"draft\",\"projects\",row.id);\n          }else{\n            removeOpen(\"draft\",\"projects\",row.id);\n          }\n        }\n      }}\n      rowStyle={(rowData) => ({\n        background: rowData.oldSal ? 'rgba(255,0,0,0.2)' : rowData.missingSal ? 'rgba(255,209,0,0.2)' : 'rgba(0,255,0,0.2)',\n      })}\n      filterable={true}\n      pageable={true}\n      sortable={true}\n      getData={loadData}\n      columns={columns}\n      resizableWindow={true}\n      initialHeightWindow={800}\n      draggableWindow={true}\n      initialWidthWindow={900}\n      resizable={true}\n      ref={tableRef}\n    />\n    </>\n  );\n});\n\n","import React, { useCallback, useContext, useRef } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalProjectDraft } from \"./ProjectDraft\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\nimport { offertaService } from \"../../../services/offertaService\";\nimport { CrudGenericService } from \"../../../services/personaleServices\";\n\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nconst columns = [\n \n  { key: \"name\", label: \"Ragione sociale\", type: \"string\", sortable: true },\n  { key: \"totalAmount\", label: \"Totale Importo Progetti\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalAmount)}</td>\n  }, sortable: true },\n  { key: \"totalBill\", label: \"Totale SAL Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true }\n];\n\n\n\n\nexport const SalDraft = React.memo(() => {\n\n  const tableRef= useRef<any>();\n  const { addOpen, removeOpen, draft, setFilters } = useContext(SalContext);\n\n  \n  const loadData = useCallback(async (pagination, filter, sorting) => {\n    const include = true;\n\n    const tableResponse = await salService.getCustomersWithSal(\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n    setFilters(filter);\n    return {\n      data: tableResponse.data.map(td=>({\n        ...td,\n        gridtable_expanded:draft.customers.some(d=>d===td.id)\n      })),\n      meta: { total: tableResponse.meta.total },\n    };\n  }, [draft.customers]);\n\n  const renderExpand = useCallback((rowProps) => (\n    <SalProjectDraft customer={rowProps.dataItem} refreshParent={tableRef.current?.refreshTable}  />\n  ), [tableRef.current]);\n\n  return (\n    <GridTable\n      writePermissions={[\"WRITE_SALES_SAL\"]}\n      expand={{\n        enabled: true,\n        render: renderExpand,\n        onExpandChange:(row:any,expanded:boolean)=>{\n          if(expanded){\n            addOpen(\"draft\",\"customers\",row.id);\n          }else{\n            removeOpen(\"draft\",\"customers\",row.id);\n          }\n        }\n      }}\n      rowStyle={(rowData) => ({\n        background: rowData.oldSal ? 'rgba(255,0,0,0.2)' : rowData.missingSal ? 'rgba(255,209,0,0.2)' : 'rgba(0,255,0,0.2)',\n      })}\n      filterable={true}\n      pageable={true}\n      sortable={true}\n      getData={loadData}\n      columns={columns}\n      resizableWindow={true}\n      initialHeightWindow={800}\n      draggableWindow={true}\n      initialWidthWindow={900}\n      resizable={true}\n      ref={tableRef}\n      addedFilters={[\n        {\n          name: \"month\",\n          label: \"Mese\",\n          type: \"filter-autocomplete\",\n          options:{\n            getData:(term:string)=> Promise.resolve([\n              { id: 1, name: \"Gennaio\" },\n              { id: 2, name: \"Febbraio\" },\n              { id: 3, name: \"Marzo\" },\n              { id: 4, name: \"Aprile\" },\n              { id: 5, name: \"Maggio\" },\n              { id: 6, name: \"Giugno\" },\n              { id: 7, name: \"Luglio\" },\n              { id: 8, name: \"Agosto\" },\n              { id: 9, name: \"Settembre\" },\n              { id: 10, name: \"Ottobre\" },\n              { id: 11, name: \"Novembre\" },\n              { id: 12, name: \"Dicembre\" }\n            ].filter(p=>!term || p.name.toLowerCase().indexOf(term.toLowerCase())>=0)),\n            getValue:(v:any)=>v?.id\n          }\n        },\n        {\n          name: \"year\",\n          label: \"Anno\",\n          type: \"number\"\n        },\n        {\n          name: \"offer_id\",\n          label: \"Offerta\",\n          type: \"filter-autocomplete\",\n          options:{\n            getData:(term:string)=> offertaService.searchOfferte(term).then(res=>res.data),\n            getValue:(v:any)=>v?.id\n          }\n        },\n        {\n          name: \"customer_id\",\n          label: \"Cliente\",\n          type: \"filter-autocomplete\",\n          options:{\n            getData:(term:string)=> salService.searchCustomer(term),\n            getValue:(v:any)=>v?.id\n        }   \n        },\n        {\n          name: \"person_id\",\n          label: \"Dipendente(digita un carattere per la ricerca)\",\n          type: \"filter-autocomplete\",\n          options:{\n            getData:(term:string)=> CrudGenericService.searchAccount(term).then(res=> res?res.map(r=>({id:r.person_id,name:r.firstName+ ' '+r.lastName})):[]),\n            getValue:(v:any)=>v?.id\n          },    \n        }\n      ]}\n    />\n    \n  );\n});\n\n","import React, { PropsWithChildren, useCallback, useContext, useState } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalCrud } from \"../component\";\nimport NotificationActions from 'common/providers/NotificationProvider';\nimport {stampIcon} from 'common/icons';\nimport Button from 'common/Button';\nimport authService from 'common/services/AuthService';\nimport { SalContext } from \"../../../pages/Sal/provider\";\n\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nexport const SalRTBItem = React.memo((props: PropsWithChildren<{ project: any, refreshParent:()=>void }>) => {\n  \n  const [rows, setRows] = useState<Array<any>>();\n  const { filters } = useContext(SalContext);\n\n\n  const columns = [\n    { key: \"SalState\", label: \"Stato\", type: \"custom\", render:(rowData)=><td>\n      Ok a fatturare\n      { rowData.Bill && authService.hasPermission(\"WRITE_SALES_SAL\") ? \n      <Button size=\"small\" svgIcon={stampIcon} onClick={() => {\n        updateToBilled(rowData.id)\n      }}>Conferma Fattura Fattura</Button>\n      :null }\n      \n      </td> },\n    { key: \"actualDays\", label: \"Giorni Lavorati\", type: \"number\" },\n    { key: \"amount\", label: \"Importo\",type: \"custom\", render:(dataItem)=>{\n      return <td>{formatNumber(dataItem.amount)}</td>\n    } },\n    { key: \"notes\", label: \"Note\", type: \"text\", sortable: true, filter: \"text\" },\n    { key: \"month\", label: \"Mese\", type: \"custom\", sortable: true, filter: \"number\", render:(row)=>{\n      const date = new Date(new Date().getFullYear(), row.month - 1, 1);  \n      let monthStr = date.toLocaleString('it-IT', { month: 'long' }).toString();\n      monthStr = monthStr.charAt(0).toUpperCase() + monthStr.slice(1).toLowerCase();\n    return <td>{monthStr}</td>;\n    } },\n    { key: \"year\", label: \"Anno\", type: \"number\", sortable: true, filter: \"number\" }\n  ];\n\n  const loadData = useCallback(async (pagination: any, filter: any, sorting: any[]) => {\n    const include = true;\n    const tableResponse = await salService.getSalRTBFromProject(\n      props.project.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n    setRows(tableResponse.data)\n    return {\n      data: tableResponse.data,\n      meta: { total: tableResponse.meta.total },\n    };\n  }, [props.project.id,filters]);\n\n  const updateToBilled = (id)=>{\n    return new Promise((ok,ko)=>{\n      NotificationActions.openConfirm('Sei sicuro di spostare il Sal in stato \"FATTURATO\" ?',\n        () => {\n          ok(salService.updateResource(id,{SalState:'BILLED'}))\n        },\n        'Conferma operazione',\n        ko\n      )\n    })\n    \n  }\n\n\n  return (\n    <>\n    <p>Sal di {props.project.Offer.name}</p>\n    \n    <GridTable\n        writePermissions={[\"WRITE_SALES_SAL\"]}\n        filterable={true}\n        sortable={true}\n        getData={loadData}\n        columns={columns}\n        resizableWindow={true}\n        initialHeightWindow={800}\n        draggableWindow={true}\n        initialWidthWindow={900}\n        resizable={true}\n        actions={() => [\"show\", \"edit\", \"delete\"]}\n        formCrud={(row: any, type: string, closeModalCallback: any, refreshTable: any) => {\n          let otherSal = rows;\n          if (rows && row) {\n            otherSal = rows.filter(s => s.id != row.id);\n          }\n          return (\n            \n              <SalCrud\n                otherSal={otherSal}\n                project={props.project}\n                row={row}\n                type={type}\n                closeModalCallback={closeModalCallback}\n                refreshTable={props.refreshParent}\n                onNext={() => updateToBilled(row.id)}\n              />\n            \n          )\n        }}\n    />\n    </>\n  );\n});\n\n\n","import React, { PropsWithChildren, useCallback, useContext, useRef } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalRTBItem } from \"./SalRTBItem\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nconst columns = [\n  { key: \"Offer.name\", label: \"Offerta\", type: \"string\",sortable: true, filter: \"text\"  },\n  { key: \"Offer.ProjectType.description\", label: \"Tipo progetto\", type: \"string\", sortable: true, filter: \"text\"  },\n  { key: \"Offer.Location.description\", label: \"Sede\", type: \"string\",sortable: true },\n  { key: \"Offer.billing_type\", label: \"Tipo Fatturazione\", sortable: true,type: \"custom\",render:(data)=><td>{\n    data.Offer.billing_type!=='Daily'?'A corpo':'Time material'\n    }</td> },\n  { key: \"amount\", label: \"Importo\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.amount)}</td>\n  }, sortable: true},\n  { key: \"totalBill\", label: \"Totale Sal Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true},\n  { key: \"lastSal\", label: \"Data Ultimo Sal\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"start_date\", label: \"Data Inizio Progetto\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"end_date\", label: \"Data Fine Progetto\", type: \"date\", sortable: true, filter: \"date\" }\n  ]; \nexport const SalRTBProject=React.memo((props: PropsWithChildren<{customer:any, refreshParent:()=>void}>)=>{\n\n  \n  const { addOpen, removeOpen, billing, filters } = useContext(SalContext);\n\n    const loadData = useCallback(async (\n        pagination: any,\n        filter: any,\n        sorting: any[],\n      ) => {\n        const include = true;\n    \n        const tableResponse = await salService.getReadyToBillByProject(\n          props.customer.id,\n          pagination.currentPage,\n          pagination.pageSize,\n          filter,\n          sorting,\n          include,\n        );\n    \n    \n        return {\n          data: tableResponse.data.map(td=>({\n            ...td,\n            gridtable_expanded:billing.projects.some(d=>d===td.id)\n          })),\n          meta: {\n            total: tableResponse.meta.total\n          }\n        }\n    \n      },[filters]);\n\n\n    return <GridTable\n                writePermissions={[\"WRITE_SALES_SAL\"]}\n                expand={{\n                    enabled: true,\n                    render: (rowProps) => <SalRTBItem project={rowProps.dataItem} refreshParent={props.refreshParent}  />,\n                    onExpandChange:(row:any,expanded:boolean)=>{\n                      if(expanded){\n                        addOpen(\"billing\",\"projects\",row.id);\n                      }else{\n                        removeOpen(\"billing\",\"projects\",row.id);\n                      }\n                    }\n                }}\n                filterable={true}\n                pageable={true}\n                sortable={true}\n                getData={loadData}\n                columns={columns}\n                resizableWindow={true}\n                initialHeightWindow={800}\n                draggableWindow={true}\n                initialWidthWindow={900}\n                resizable={true}\n                actions={() => [\n                \n\n            ]}\n    \n  />\n\n})","import React, { useCallback, useContext, useRef } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalRTBProject } from \"./ReadyToBillProject\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\nimport { CrudGenericService } from \"../../../services/personaleServices\";\nimport { offertaService } from \"../../../services/offertaService\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nconst columns = [\n  { key: \"name\", label: \"Ragione sociale\", type: \"string\", sortable: true },\n  { key: \"totalAmount\", label: \"Totale Importo Progetti\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalAmount)}</td>\n  }, sortable: true },\n  { key: \"totalBill\", label: \"Totale SAL Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true }\n  ];  \nexport function SalReadyToBill(){\n  const tableRef= useRef<any>();\n  const { addOpen, removeOpen, billing, filters, setFilters } = useContext(SalContext);\n  \n    const loadData = useCallback(async (\n        pagination: any,\n        filter: any,\n        sorting: any[],\n      ) => {\n        const include = true;\n        const tableResponse = await salService.getReadyToBillByCustomer(\n          pagination.currentPage,\n          pagination.pageSize,\n          filter,\n          sorting,\n          include,\n        );\n        setFilters(filter);\n    \n        return {\n          data: tableResponse.data.map(td=>({\n            ...td,\n            gridtable_expanded:billing.customers.some(d=>d===td.id)\n          })),\n          meta: {\n            total: tableResponse.meta.total\n          }\n        }\n    \n      },[]);\n\n\n    return <GridTable\n              writePermissions={[\"WRITE_SALES_SAL\"]}\n              addedFilters={[\n                      {\n                        name: \"month\",\n                        label: \"Mese\",\n                        type: \"filter-autocomplete\",\n                        options:{\n                          getData:(term:string)=> Promise.resolve([\n                            { id: 1, name: \"Gennaio\" },\n                            { id: 2, name: \"Febbraio\" },\n                            { id: 3, name: \"Marzo\" },\n                            { id: 4, name: \"Aprile\" },\n                            { id: 5, name: \"Maggio\" },\n                            { id: 6, name: \"Giugno\" },\n                            { id: 7, name: \"Luglio\" },\n                            { id: 8, name: \"Agosto\" },\n                            { id: 9, name: \"Settembre\" },\n                            { id: 10, name: \"Ottobre\" },\n                            { id: 11, name: \"Novembre\" },\n                            { id: 12, name: \"Dicembre\" }\n                          ].filter(p=>!term || p.name.toLowerCase().indexOf(term.toLowerCase())>=0)),\n                          getValue:(v:any)=>v?.id\n                        }\n                      },\n                      {\n                        name: \"year\",\n                        label: \"Anno\",\n                        type: \"number\"\n                      },\n                      {\n                        name: \"offer_id\",\n                        label: \"Offerta\",\n                        type: \"filter-autocomplete\",\n                        options:{\n                          getData:(term:string)=> offertaService.searchOfferte(term).then(res=>res.data),\n                          getValue:(v:any)=>v?.id\n                        }\n                      },\n                      {\n                        name: \"customer_id\",\n                        label: \"Cliente\",\n                        type: \"filter-autocomplete\",\n                        options:{\n                          getData:(term:string)=> salService.searchCustomer(term),\n                          getValue:(v:any)=>v?.id\n                      }   \n                      },\n                      {\n                        name: \"person_id\",\n                        label: \"Dipendente(digita un carattere per la ricerca)\",\n                        type: \"filter-autocomplete\",\n                        options:{\n                          getData:(term:string)=> CrudGenericService.searchAccount(term).then(res=> res?res.map(r=>({id:r.person_id,name:r.firstName+ ' '+r.lastName})):[]),\n                          getValue:(v:any)=>v?.id\n                        },    \n                      }\n                    ]}\n                expand={{\n                    enabled: true,\n                    render: (rowProps) => <SalRTBProject customer={rowProps.dataItem} refreshParent={tableRef.current?.refreshTable} />,\n                    onExpandChange:(row:any,expanded:boolean)=>{\n                      if(expanded){\n                        addOpen(\"billing\",\"customers\",row.id);\n                      }else{\n                        removeOpen(\"billing\",\"customers\",row.id);\n                      }\n                    }\n                  }}\n                filterable={true}\n                pageable={true}\n                sortable={true}\n                getData={loadData}\n                columns={columns}\n                resizableWindow={true}\n                initialHeightWindow={800}\n                draggableWindow={true}\n                initialWidthWindow={900}\n                resizable={true}\n                ref={tableRef}\n                actions={() => [\n                \n\n            ]}\n    \n  />\n}","import React, { PropsWithChildren, useCallback, useContext } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\nimport { SalCrud } from \"../component\";\nimport { omit } from \"lodash\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\n\nconst columns = [\n  { key: \"SalState\", label: \"Stato\", type: \"custom\", render:(rowData)=><td>Sal Fatturato</td> },\n  { key: \"Sal.actualDays\", label: \"Giorni Lavorati\", type: \"number\" },\n  { key: \"amount\", label: \"Importo\",  type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.amount)}</td>\n  } },\n  { key:\"billing_date\", label:\"Data fatturazione\",type:'date',sortable:true,filter:'date'},\n  { key: \"billing_number\", label: \"Numero fattura\", type: \"text\", sortable: true, filter: \"text\" },\n  { key: \"month\", label: \"Mese\", type: \"custom\", sortable: true, filter: \"number\", render:(row)=>{\n    const date = new Date(new Date().getFullYear(), row.Sal.month - 1, 1);  \n    let monthStr = date.toLocaleString('it-IT', { month: 'long' }).toString();\n    monthStr = monthStr.charAt(0).toUpperCase() + monthStr.slice(1).toLowerCase();\n  return <td>{monthStr}</td>;\n  } },\n  { key: \"Sal.year\", label: \"Anno\", type: \"number\", sortable: true, filter: \"number\" }\n];\n\nexport const SalHistoryItem = React.memo((props: PropsWithChildren<{ project: any, refreshParent:()=>void }>) => {\n\n  const { filters } = useContext(SalContext);\n\n  const loadData = useCallback(async (pagination: any, filter: any, sorting: any[]) => {\n    const include = true;\n    const tableResponse = await salService.getHistoryBillFromProject(\n      props.project.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n\n    return {\n      data: tableResponse.data,\n      meta: tableResponse.meta\n    };\n  }, [props.project.id,filters]);\n\n\n\n  return (\n    <>\n    <p>Sal di {props.project.Offer.name}</p>\n    \n    <GridTable\n        filterable={true}\n        sortable={true}\n        getData={loadData}\n        columns={columns}\n        resizableWindow={true}\n        initialHeightWindow={800}\n        draggableWindow={true}\n        initialWidthWindow={900}\n        resizable={true}\n        actions={() => ['show', 'edit', 'delete']}\n        formCrud={(row: any, type: string, closeModalCallback: any, refreshTable: any)=>{\n          \n          return <SalCrud\n                          //otherSal={otherSal}\n                          project={props.project}\n                          row={{...row.Sal, Bill: omit(row, [\"Sal\"])}}\n                          type={type}\n                          closeModalCallback={closeModalCallback}\n                          refreshTable={props.refreshParent}\n                          onNext={() => Promise.resolve()}\n                        />\n        }}\n    />\n    </>\n  );\n});\n\n\n","import React, { PropsWithChildren, useCallback, useContext } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalHistoryItem } from \"./SalHistoryItem\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nconst columns = [\n  { key: \"Offer.name\", label: \"Offerta\", type: \"string\",sortable: true, filter: \"text\"  },\n  { key: \"Offer.ProjectType.description\", label: \"Tipo progetto\", type: \"string\", sortable: true, filter: \"text\"  },\n  { key: \"Offer.Location.description\", label: \"Sede\", type: \"string\",sortable: true },\n  { key: \"Offer.billing_type\", label: \"Tipo Fatturazione\", sortable: true,type: \"custom\",render:(data)=><td>{\n    data.Offer.billing_type!=='Daily'?'A corpo':'Time material'\n    }</td> },\n  { key: \"amount\", label: \"Importo\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.amount)}</td>\n  }, sortable: true},\n  { key: \"totalBill\", label: \"Totale Sal Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true},\n  { key: \"lastBill\", label: \"Data Ultima Fattura\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"start_date\", label: \"Data Inizio Progetto\", type: \"date\", sortable: true, filter: \"date\" },\n  { key: \"end_date\", label: \"Data Fine Progetto\", type: \"date\", sortable: true, filter: \"date\" },\n];\nexport const SalHistoryProject = React.memo((props: PropsWithChildren<{ customer: any, refreshParent:()=>void }>) => {\n\n  const { filters } = useContext(SalContext);\n\n  const loadData = useCallback(async (\n    pagination: any,\n    filter: any,\n    sorting: any[],\n  ) => {\n    \n    const include = true;\n\n    const tableResponse = await salService.getHistoryBillFromCustomer(\n      props.customer.id,\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n\n\n    return {\n      data: tableResponse.data,\n      meta:tableResponse.meta\n      \n    }\n\n  },[filters]);\n\n  const renderExpand = useCallback((rowProps) => (\n    <SalHistoryItem project={rowProps.dataItem} refreshParent={props.refreshParent} />\n  ), []);\n\n\n  return <GridTable\n    expand={{\n      enabled: true,\n      render: renderExpand,\n    }}\n    filterable={true}\n    pageable={true}\n    sortable={true}\n    getData={loadData}\n    columns={columns}\n    resizableWindow={true}\n    initialHeightWindow={800}\n    draggableWindow={true}\n    initialWidthWindow={900}\n    resizable={true}\n    actions={() => [\n     // 'show'\n    ]}\n\n  />\n\n})","import React, { useCallback, useContext, useRef } from \"react\";\nimport { salService } from \"../../../services/salService\";\nimport GridTable from \"common/Table\";\nimport { SalHistoryProject } from \"./HistoryProject\";\nimport { SalContext } from \"../../../pages/Sal/provider\";\nimport { CrudGenericService } from \"../../../services/personaleServices\";\nimport { offertaService } from \"../../../services/offertaService\";\n\nfunction formatNumber(num) {\n  if(typeof num != 'number') return num;\n  return new Intl.NumberFormat(\"it-IT\", { style: \"currency\", currency: \"EUR\" }).format(num);\n}\nconst columns = [\n  { key: \"name\", label: \"Ragione sociale\", type: \"string\", sortable: true },\n  { key: \"totalAmount\", label: \"Totale Importo Progetti\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalAmount)}</td>\n  }, sortable: true },\n  { key: \"totalBill\", label: \"Totale SAL Fatturato\", type: \"custom\", render:(dataItem)=>{\n    return <td>{formatNumber(dataItem.totalBill)}</td>\n  }, sortable: true }\n];\n\nexport const SalHistoryCustomer = React.memo(() => {\n\n  const { setFilters } = useContext(SalContext);\n   const tableRef= useRef<any>();\n\n  const loadData = useCallback(async (pagination, filter, sorting) => {\n    const include = true;\n    const tableResponse = await salService.getHistoryBillCustomer(\n      pagination.currentPage,\n      pagination.pageSize,\n      filter,\n      sorting,\n      include,\n    );\n    setFilters(filter);\n    return {\n      data: tableResponse.data,\n      meta: tableResponse.meta\n    };\n  }, []);\n\n  const renderExpand = useCallback((rowProps) => (\n    <SalHistoryProject customer={rowProps.dataItem} refreshParent={tableRef.current?.refreshTable}/>\n  ), []);\n\n  return (\n    <GridTable\n    writePermissions={[\"WRITE_SALES_SAL\"]}\n      expand={{\n        enabled: true,\n        render: renderExpand,\n      }}\n      ref={tableRef}\n      filterable={true}\n      pageable={true}\n      sortable={true}\n      getData={loadData}\n      columns={columns}\n      resizableWindow={true}\n      initialHeightWindow={800}\n      draggableWindow={true}\n      initialWidthWindow={900}\n      resizable={true}\n      addedFilters={[\n              {\n                name: \"month\",\n                label: \"Mese\",\n                type: \"filter-autocomplete\",\n                options:{\n                  getData:(term:string)=> Promise.resolve([\n                    { id: 1, name: \"Gennaio\" },\n                    { id: 2, name: \"Febbraio\" },\n                    { id: 3, name: \"Marzo\" },\n                    { id: 4, name: \"Aprile\" },\n                    { id: 5, name: \"Maggio\" },\n                    { id: 6, name: \"Giugno\" },\n                    { id: 7, name: \"Luglio\" },\n                    { id: 8, name: \"Agosto\" },\n                    { id: 9, name: \"Settembre\" },\n                    { id: 10, name: \"Ottobre\" },\n                    { id: 11, name: \"Novembre\" },\n                    { id: 12, name: \"Dicembre\" }\n                  ].filter(p=>!term || p.name.toLowerCase().indexOf(term.toLowerCase())>=0)),\n                  getValue:(v:any)=>v?.id\n                }\n              },\n              {\n                name: \"year\",\n                label: \"Anno\",\n                type: \"number\"\n              },\n              {\n                name: \"offer_id\",\n                label: \"Offerta\",\n                type: \"filter-autocomplete\",\n                options:{\n                  getData:(term:string)=> offertaService.searchOfferte(term).then(res=>res.data),\n                  getValue:(v:any)=>v?.id\n                }\n              },\n              {\n                name: \"customer_id\",\n                label: \"Cliente\",\n                type: \"filter-autocomplete\",\n                options:{\n                  getData:(term:string)=> salService.searchCustomer(term),\n                  getValue:(v:any)=>v?.id\n              }   \n              },\n              {\n                name: \"billing_number\",\n                label: \"Numero fattura\",\n                type: \"string\"\n              },\n              {\n                name: \"person_id\",\n                label: \"Dipendente(digita un carattere per la ricerca)\",\n                type: \"filter-autocomplete\",\n                options:{\n                  getData:(term:string)=> CrudGenericService.searchAccount(term).then(res=> res?res.map(r=>({id:r.person_id,name:r.firstName+ ' '+r.lastName})):[]),\n                  getValue:(v:any)=>v?.id\n                },    \n              }\n            ]}\n    />\n  );\n});\n\n","import React, { useState } from \"react\";\nimport Tab from \"common/Tab\";\nimport { SalDraft } from \"../../component/SalCrud/Draft/component\";\nimport { SalReadyToBill } from \"../../component/SalCrud/ReadyToBill/component\";\nimport { SalHistoryCustomer } from \"../../component/SalCrud/History/component\";\nimport { SalProvider } from \"./provider\";\n\nexport default function SalPage(){\n\n    const [selected,setSelected] = useState<number>(0);\n\n    const handleSelect = (e: any) => {\n        setSelected(e.selected);\n    };\n    \n\n    return <SalProvider>\n    <Tab\n    renderAllContent={false}\n    tabs={\n      [\n        {\n          title: \"Draft\",\n          children: (\n            <SalDraft />\n          ),\n        },\n        {\n            title: \"Da fatturare\",\n            children: (\n              <SalReadyToBill />\n            ),\n          },\n          {\n            title: \"Storico\",\n            children: (\n              <SalHistoryCustomer />\n            ),\n          },\n      ]\n    }\n    onSelect={handleSelect}\n    selected={selected}\n    \n  />\n  </SalProvider>\n}","\nimport BaseHttpService from \"common/services/BaseHTTPService\";\nimport client from \"common/services/BEService\";\nclass CS extends BaseHttpService {\n\n  getTableName() {\n    return 'customers';\n  }\n\n  /* getHasProject() {\n    return client.post('api/v1/customers/findCustomersProjects');\n  }\n */\n  getHasProject = async (\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    term?: string,\n    include?: boolean\n  ) => {\n    try {\n      const params:any = {\n        pageNum,\n        pageSize,\n        include,\n      };\n      if (typeof term === \"string\" && term.trim() !== \"\") {\n        params.term = term;\n      }\n\n      const queryParams:any = {};\n      if(filtering){\n        queryParams.filtering=filtering\n      }\n      if(sorting){\n        queryParams.sorting=sorting\n      }\n      if(include){\n        queryParams.include=true\n      }\n  \n      const response = await client.post(\n        'api/v1/customers/findCustomersProjects',\n        queryParams, \n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n  \n\n}\n\nexport const customerService = new CS();\n","import BaseHttpService from \"common/services/BaseHTTPService\"\nimport client from \"common/services/BEService\";\nimport { mapBillingTypeName, mapOutcomeTypeName } from \"../adapters/offertaAdapters\";\nclass OffertaService extends BaseHttpService {\n\n  getTableName() {\n    return 'offers'\n  }\n\n\n  getProjectType(term: string) {\n    return client.get('/api/v1/crud/projecttype?term=' + term)\n  }\n\n  getBillingType(term: string) {\n\n    return client.get('/api/v1/offers/billingTypes').then(res => {\n      return res.data.map(p => ({ id: p, name: mapBillingTypeName(p) })).filter(p => !term || !term.length || p.name.toLowerCase().indexOf(term.toLocaleLowerCase()) >= 0);\n    })\n  }\n\n  getOutcomeType(term: string) {\n\n    return client.get('/api/v1/offers/outcomeTypes').then(res => {\n      return res.data.map(p => ({ id: p, name: mapOutcomeTypeName(p) })).filter(p => !term || !term.length || p.name.toLowerCase().indexOf(term.toLocaleLowerCase()) >= 0);\n    })\n  }\n\n  async getProtocol (customer_code: string) {\n    const response = await client.get(`/api/v1/offers/getProtocol?customer_code=${customer_code}`);\n    const protocol = response.data;\n    return protocol;\n  }\n\n  fetchResources = async (\n    resourceType: string,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.get(`api/v1/crud/${resourceType}`, {\n        params,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n  getDownloadFile = async (\n    id: string\n  ) => {\n    try {\n\n      const response = await client.get(\n        `api/v1/files/stream/${id}`, {\n        responseType: 'blob',\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n  async getFilesByIds(uniqueIdentifiers: string) {\n    const response = await client.get(`api/v1/files/get/${uniqueIdentifiers}`);\n    return response.data;\n  } catch(error) {\n    console.error(\"Error fetching resources:\", error);\n    throw error;\n  }\n\n  searchOfferte = (text: string) => {\n    return client.get(`api/v1/offers/?term=${text}`).then(res => res.data);\n  }\n};\n\nexport const offertaService = new OffertaService();\n","import client from \"common/services/BEService\";\n\nclass CrudGenericServiceC {\n  getAccounts = async (\n    pageNum: number,\n    pageSize: number,\n    filtering: any,\n    sorting: Array<any>,\n    include?: boolean\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.post(\n        `api/v1/accounts`,\n        { filtering, sorting },\n        { params }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  fetchResources = async (\n    resourceType: string,\n    pageNum?: number,\n    pageSize?: number,\n    include?: boolean\n  ) => {\n    try {\n      const params = {\n        pageNum,\n        pageSize,\n        include,\n      };\n\n      const response = await client.get(`api/v1/crud/${resourceType}`, {\n        params,\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n\n  fetchmodel = async (\n  ) => {\n    try {\n\n      const response = await client.get(`api/v1/accounts/models`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n\n  createResource = async (resourceData: any) => {\n    try {\n      const response = await client.post(\n        `/api/v1/accounts/create`,\n        resourceData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error creating resource:\", error);\n      throw error;\n    }\n  };\n\n  fetchResource = async (resourceType: string, id: number) => {\n    try {\n      const response = await client.get(`crud/${resourceType}/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resource:\", error);\n      throw error;\n    }\n  };\n  getCV = async (\n    id: number\n  ) => {\n    try {\n\n      const response = await client.get(\n        `api/v1/files/stream/${id}`, {\n        responseType: 'blob',\n      });\n      return response.data;\n    } catch (error) {\n      console.error(\"Error fetching resources:\", error);\n      throw error;\n    }\n  };\n\n  updateResource = async (\n    id: number,\n    resourceData: any\n  ) => {\n    try {\n      const response = await client.patch(\n        `api/v1/accounts/update/${id}`,\n        resourceData\n      );\n      return response.data;\n    } catch (error) {\n      console.error(\"Error updating resource:\", error);\n      throw error;\n    }\n  };\n\n  deleteResource = async (id: number) => {\n    try {\n      const response = await client.delete(`api/v1/accounts/delete/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error deleting resource:\", error);\n      throw error;\n    }\n  };\n\n  searchCommerciale = (text: string) => {\n    return client.get(`api/v1/accounts/findCOM?search=${text}`).then(res => res.data);\n  }\n\n  searchAccount = (text: string) => {\n    return client.get(`api/v1/accounts/findByName?search=${text}`).then(res => res.data);\n  }\n\n}\n\nexport const CrudGenericService = new CrudGenericServiceC();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.VD1s_Nuv4v2stm74z4RD:first-child > :first-child > * {\n        display: flex;\n        justify-content: center;\n    }\n    \n    .TnBIPr90dnjNA5GqtAyZ:first-child {\n    max-width:none;\n\n    & > :first-child > * {\n        display: grid;\n        /*grid-template-rows: repeat(6, 1fr);*/\n        grid-template-columns: repeat(3, 1fr);\n        gap: 2% 10%;\n    }\n    & form{\n        max-width: 100% !important;\n    }\n }\n \n .qqZ98aYpvjQoZO9smyjZ{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap:20px;\n    align-items: center;\n    font-size: 20px;\n     & > div {\n        display: flex;\n        gap:20px;\n     }\n }\n\n /* .checkboxContainer:first-child > :first-child > * > input:checked{\n    background-color: #E1F5FE;\n    color: #0497B8 !important;\n    padding: 0.5rem !important;\n    border-radius: 4px !important;\n  } */\n \n  .vV673Kqzsa8LkcB11EwH  {\n    & div[dir=\"ltr\"]  input[aria-checked=\"true\"] {\n        background-color: #E1F5FE;\n        background-color: #0497B8 !important;\n        padding: 0.5rem !important;\n        border-radius: 4px !important;\n    }\n    &  div[dir=\"ltr\"].WU9ruK3zWj3lCjRbn2kS {\n        background-color: #E1F5FE !important;\n        color: #0497B8 !important;\n        padding: 0.5rem !important;\n        border-radius: 4px !important;\n      }\n  }\n \n `, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/ClienteCrud/style.module.scss\"],\"names\":[],\"mappings\":\"AAAA;QACQ,aAAa;QACb,uBAAuB;IAC3B;;IAEA;IACA,cAAc;;IAEd;QACI,aAAa;QACb,sCAAsC;QACtC,qCAAqC;QACrC,WAAW;IACf;IACA;QACI,0BAA0B;IAC9B;CACH;;CAEA;IACG,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,QAAQ;IACR,mBAAmB;IACnB,eAAe;KACd;QACG,aAAa;QACb,QAAQ;KACX;CACJ;;CAEA;;;;;KAKI;;EAEH;IACE;QACI,yBAAyB;QACzB,oCAAoC;QACpC,0BAA0B;QAC1B,6BAA6B;IACjC;IACA;QACI,oCAAoC;QACpC,yBAAyB;QACzB,0BAA0B;QAC1B,6BAA6B;MAC/B;EACJ\",\"sourcesContent\":[\".parentTab:first-child > :first-child > * {\\n        display: flex;\\n        justify-content: center;\\n    }\\n    \\n    .parentForm:first-child {\\n    max-width:none;\\n\\n    & > :first-child > * {\\n        display: grid;\\n        /*grid-template-rows: repeat(6, 1fr);*/\\n        grid-template-columns: repeat(3, 1fr);\\n        gap: 2% 10%;\\n    }\\n    & form{\\n        max-width: 100% !important;\\n    }\\n }\\n \\n .formDelete{\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    gap:20px;\\n    align-items: center;\\n    font-size: 20px;\\n     & > div {\\n        display: flex;\\n        gap:20px;\\n     }\\n }\\n\\n /* .checkboxContainer:first-child > :first-child > * > input:checked{\\n    background-color: #E1F5FE;\\n    color: #0497B8 !important;\\n    padding: 0.5rem !important;\\n    border-radius: 4px !important;\\n  } */\\n \\n  .checkboxContainer  {\\n    & div[dir=\\\"ltr\\\"]  input[aria-checked=\\\"true\\\"] {\\n        background-color: #E1F5FE;\\n        background-color: #0497B8 !important;\\n        padding: 0.5rem !important;\\n        border-radius: 4px !important;\\n    }\\n    &  div[dir=\\\"ltr\\\"].checked {\\n        background-color: #E1F5FE !important;\\n        color: #0497B8 !important;\\n        padding: 0.5rem !important;\\n        border-radius: 4px !important;\\n      }\\n  }\\n \\n \"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"parentTab\": `VD1s_Nuv4v2stm74z4RD`,\n\t\"parentForm\": `TnBIPr90dnjNA5GqtAyZ`,\n\t\"formDelete\": `qqZ98aYpvjQoZO9smyjZ`,\n\t\"checkboxContainer\": `vV673Kqzsa8LkcB11EwH`,\n\t\"checked\": `WU9ruK3zWj3lCjRbn2kS`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.aSMrZJBgi5sSEnSnIMqs{\n    display: flex;\n    gap:10px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/Modals/AttivitaModal/AttivitaCrud/AssigningTable/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,QAAQ;AACZ\",\"sourcesContent\":[\".buttonsContainer{\\n    display: flex;\\n    gap:10px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"buttonsContainer\": `aSMrZJBgi5sSEnSnIMqs`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `._sadmAhAE3nT928aSEnQ {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 16px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/Modals/AttivitaModal/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,yBAAyB;EACzB,QAAQ;EACR,gBAAgB;AAClB\",\"sourcesContent\":[\".buttonsContainer {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 8px;\\n  margin-top: 16px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"buttonsContainer\": `_sadmAhAE3nT928aSEnQ`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.YUl0DySQVXzk8yaZlt1S {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 16px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/Modals/CostiCommessaModal/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,yBAAyB;EACzB,QAAQ;EACR,gBAAgB;AAClB\",\"sourcesContent\":[\".buttonsContainer {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 8px;\\n  margin-top: 16px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"buttonsContainer\": `YUl0DySQVXzk8yaZlt1S`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.ZD0yrfwLjAdgE9J8iPEg > form > fieldset > div{\n    margin-top: 0 !important;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/Modals/DatiOrdineModal/style.module.scss\"],\"names\":[],\"mappings\":\"AAAA;IACI,wBAAwB;AAC5B\",\"sourcesContent\":[\".form > form > fieldset > div{\\n    margin-top: 0 !important;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"form\": `ZD0yrfwLjAdgE9J8iPEg`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.yhfcwEzIzN50fANzi3ag:first-child > :first-child > * {\n        display: flex;\n        justify-content: center;\n    }\n    \n    .Qe4aPnPas4qUsgONiB3U:first-child {\n    max-width:none;\n\n    & > :first-child > * {\n        display: grid;\n        /*grid-template-rows: repeat(6, 1fr);*/\n        grid-template-columns: repeat(3, 1fr);\n        gap: 2% 10%;\n    }\n    & form{\n        max-width: 100% !important;\n    }\n }\n \n .SxyGIrL50wHtkoeTCGPL{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap:20px;\n    align-items: center;\n    font-size: 20px;\n     & > div {\n        display: flex;\n        gap:20px;\n     }\n }\n\n /* .checkboxContainer:first-child > :first-child > * > input:checked{\n    background-color: #E1F5FE;\n    color: #0497B8 !important;\n    padding: 0.5rem !important;\n    border-radius: 4px !important;\n  } */\n \n  .JOVzFx9ldcIUevQCYdPj  {\n    & div[dir=\"ltr\"]  input[aria-checked=\"true\"] {\n        background-color: #E1F5FE;\n        background-color: #0497B8 !important;\n        padding: 0.5rem !important;\n        border-radius: 4px !important;\n    }\n    &  div[dir=\"ltr\"].AcMrIjIoRvZJxbArlt9p {\n        background-color: #E1F5FE !important;\n        color: #0497B8 !important;\n        padding: 0.5rem !important;\n        border-radius: 4px !important;\n      }\n  }\n \n .a12iKD4KgJ2LlXm_5rF6{\n    display:flex;\n    justify-content: center;\n }\n\n .Bm3wOvSwJhBqwHedbzRW{\n    display:flex;\n    justify-content: end;\n    gap:20px\n }`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/OffertaCrud/style.module.scss\"],\"names\":[],\"mappings\":\"AAAA;QACQ,aAAa;QACb,uBAAuB;IAC3B;;IAEA;IACA,cAAc;;IAEd;QACI,aAAa;QACb,sCAAsC;QACtC,qCAAqC;QACrC,WAAW;IACf;IACA;QACI,0BAA0B;IAC9B;CACH;;CAEA;IACG,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,QAAQ;IACR,mBAAmB;IACnB,eAAe;KACd;QACG,aAAa;QACb,QAAQ;KACX;CACJ;;CAEA;;;;;KAKI;;EAEH;IACE;QACI,yBAAyB;QACzB,oCAAoC;QACpC,0BAA0B;QAC1B,6BAA6B;IACjC;IACA;QACI,oCAAoC;QACpC,yBAAyB;QACzB,0BAA0B;QAC1B,6BAA6B;MAC/B;EACJ;;CAED;IACG,YAAY;IACZ,uBAAuB;CAC1B;;CAEA;IACG,YAAY;IACZ,oBAAoB;IACpB;CACH\",\"sourcesContent\":[\".parentTab:first-child > :first-child > * {\\n        display: flex;\\n        justify-content: center;\\n    }\\n    \\n    .parentForm:first-child {\\n    max-width:none;\\n\\n    & > :first-child > * {\\n        display: grid;\\n        /*grid-template-rows: repeat(6, 1fr);*/\\n        grid-template-columns: repeat(3, 1fr);\\n        gap: 2% 10%;\\n    }\\n    & form{\\n        max-width: 100% !important;\\n    }\\n }\\n \\n .formDelete{\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    gap:20px;\\n    align-items: center;\\n    font-size: 20px;\\n     & > div {\\n        display: flex;\\n        gap:20px;\\n     }\\n }\\n\\n /* .checkboxContainer:first-child > :first-child > * > input:checked{\\n    background-color: #E1F5FE;\\n    color: #0497B8 !important;\\n    padding: 0.5rem !important;\\n    border-radius: 4px !important;\\n  } */\\n \\n  .checkboxContainer  {\\n    & div[dir=\\\"ltr\\\"]  input[aria-checked=\\\"true\\\"] {\\n        background-color: #E1F5FE;\\n        background-color: #0497B8 !important;\\n        padding: 0.5rem !important;\\n        border-radius: 4px !important;\\n    }\\n    &  div[dir=\\\"ltr\\\"].checked {\\n        background-color: #E1F5FE !important;\\n        color: #0497B8 !important;\\n        padding: 0.5rem !important;\\n        border-radius: 4px !important;\\n      }\\n  }\\n \\n .loader{\\n    display:flex;\\n    justify-content: center;\\n }\\n\\n .buttons{\\n    display:flex;\\n    justify-content: end;\\n    gap:20px\\n }\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"parentTab\": `yhfcwEzIzN50fANzi3ag`,\n\t\"parentForm\": `Qe4aPnPas4qUsgONiB3U`,\n\t\"formDelete\": `SxyGIrL50wHtkoeTCGPL`,\n\t\"checkboxContainer\": `JOVzFx9ldcIUevQCYdPj`,\n\t\"checked\": `AcMrIjIoRvZJxbArlt9p`,\n\t\"loader\": `a12iKD4KgJ2LlXm_5rF6`,\n\t\"buttons\": `Bm3wOvSwJhBqwHedbzRW`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.BjdKFPkFCAEZFmTZE7ow {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 16px;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/ProgettoCrud/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,yBAAyB;EACzB,QAAQ;EACR,gBAAgB;AAClB\",\"sourcesContent\":[\".buttonsContainer {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 8px;\\n  margin-top: 16px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"buttonsContainer\": `BjdKFPkFCAEZFmTZE7ow`\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["sedeAdapter","apiResponse","data","map","country","label","description","value","id","fromOfferBEModelToOfferModel","offerBE","_offerBE$Customer","_offerBE$AccountManag","_offerBE$AccountManag2","protocol","project_code","title","name","end_date","deadline_date","Date","undefined","other_details","rate","amount","NoCollective","noCollective","customer_id","customer_name","Customer","customer","creation_date","date_created","approval_date","accountManager_id","accountManager","AccountManager","Person","firstName","lastName","project_type_id","project_type","ProjectType","location_id","billing_type","mapBillingTypeName","outcome_type","OutcomeType","mapOutcomeTypeName","existingFile","files","year","thereIsFile","Array","isArray","length","days","thereisProject","Project","fromOfferModelToOfferBEModel","offerModel","_offerModel$end_date","_offerModel$customer","_offerModel$location","_offerModel$accountMa","_offerModel$project_t","_offerModel$outcome_t","_offerModel$approval_","_offerModel$start_dat","_offerModel$end_dateP","attachment","create","f","_objectSpread","property","deletedFiles","Attachment","toISOString","parseFloat","toString","location","getFullYear","Number","ProjectData","start_date","end_dateP","orderNum","waitingForOrder","adaptToCustomerModel","customer_code","vatNumber","taxCode","web_site","email","phone","phoneNumber","fax","address","zipCode","city","discountPerc","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","ClienteCrud","props","formData","type","onlyLettersValidator","partitaIVAValidator","optionalTelefonoCasaValidator","percentageValidator","optional","emailValidator","formCustomer","useRef","_useState","useState","_useState2","_slicedToArray","selected","setSelected","_useState3","row","_useState4","formCustomerData","setformCustomerData","handleSubmit","customerModel","hasError","current","onSubmit","isValid","values","formattedData","refreshTable","closeModalCallback","React","className","styles","formDelete","Button","onClick","themeColor","Tab","tabs","children","parentForm","Form","ref","fields","Object","test","otherValidator","required","disabled","validator","onSelect","e","button","columns","key","sortable","filter","loadData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","pagination","sorting","tableResponse","_context","prev","next","customerService","search","currentPage","pageSize","sent","abrupt","meta","stop","_x","_x2","_x3","apply","arguments","handleFormSubmit","closeModal","promise","createResource","updateResource","deleteResource","then","NotificationProviderActions","icon","style","error","console","GridTable","writePermissions","filterable","pageable","getData","resizableWindow","initialHeightWindow","draggableWindow","initialWidthWindow","resizable","actions","formCrud","getFormOfferFields","handleDownload","combinedValueOnChangeAttchment","download","name_attachment","rowLocation","valueOnChange","isDaily","isLupsum","combinedValueOnChangeBillyngType","customerForProtocol","endDateValidator","approvalDateValidator","requiredIfDailyValidator","fieldName","concat","conditions","_formData$billing_typ","_formData$billing_typ2","_formData$billing_typ3","showLabel","getFormCommesseFields","startValidator","endValidator","getProtocol","offertaService","offertaCustomFields","withField","withAutoComplete","filterP","getProjectType","res","p","CrudGenericService","searchCommerciale","r","fetchResources","warn","getOutcomeType","getBillingType","display","gridTemplateColumns","InputText","_extends","borderEndEndRadius","borderStartEndRadius","width","borderStartStartRadius","borderEndStartRadius","_callee2","_props$options","_context2","onChange","OffertaCrud","formCommessa","_useState5","_useState6","formProjectData","setformProjectData","_useState7","_useState8","setDownload","_useState9","_useState10","modifiedFields","setModifiedFields","_useState11","_useState12","attachmentNameState","setAttachmentNameState","_useState13","_useState14","sede","setSede","_useState15","_useState16","isLocationDataReady","setIsLocationDataReady","_useState17","_useState18","isrowLocationDataReady","setIsrowLocationDataReady","_useState19","_useState20","setIsDaily","_useState21","_useState22","isLumpSum","setIsLumpSum","_useState23","_useState24","showNewTaskModal","setShowNewTaskModal","_useState25","_useState26","setRowLocation","_useState27","_useState28","setCustomerForProtocol","useEffect","fetchCountryData","sedeResponse","adaptedLocation","t0","locationLabel","getLocationLabel","_formCustomerData$pro","_formCustomerData$bil","handleChangeCustomerProtocol","_ref2","fileId","fileName","updatedBillingType","prevState","_defineProperty","sedi","_sedi$find","find","saveOfferData","NotificationActions","handlePositiveOutcome","useMemo","valueGetter","selectedDate","endDate","parsedEndDate","startDate","parsedStartDate","selectedEndDate","approvalDateValue","approvalDate","selectedApprovalDate","endDateValue","dataToSave","baseData","loader","LoaderComponent","attachmentName","handleDownloadChange","valueOnChangeByllingType","addedFields","Window","show","onClose","callToAction","draggable","initialHeight","initialWidth","buttons","combinedData","mapColumnKey","mapFilterFields","filters","logic","mappedFilters","fd","field","OffertePage","window","innerWidth","setInitialWidthWindow","innerHeight","setInitialHeightWindow","handleResize","addEventListener","removeEventListener","term","_mappedSorting","mappedFilter","mappedSorting","adaptedData","s","dir","log","total","_x4","addedFilters","indexPosition","Promise","resolve","getValue","v","searchAccount","person_id","push","progettoService","_BaseHttpService","ProgettoService","_this","_classCallCheck","_len","args","_key","customerId","pageNum","include","filtering","params","response","client","_x5","_x6","projectId","_x7","_x8","_x9","_x10","_ref3","_callee3","_context3","_x11","_x12","_callee4","_context4","_callee5","_context5","_callee6","_context6","_callee7","_context7","_ref8","_callee8","_context8","_x13","_ref9","_callee9","_context9","_x14","_x15","_x16","_x17","_x18","_x19","text","_ref10","_callee10","project_id","payment_date","projectExpensesType_id","_context10","_x20","_x21","_x22","_x23","_x24","_x25","_ref11","_callee11","_context11","_x26","_x27","_x28","_x29","_x30","_x31","_ref12","_callee12","_context12","_x32","_inherits","_createClass","BaseHttpService","formatNumber","num","Intl","NumberFormat","currency","format","render","dataItem","sal_total","bill_total","attivitaColumns","attivitaAssegnazioneColumns","costiCommessaColumns","formFields","searchOfferte","toLocaleDateString","setData","getProjectWorkedDays","giorniLavorati","getProjectById","workedDays","form","offer_name","DynamicForm","gap","submitText","customDisabled","offer_id","Offer","showSubmit","extraButton","extraBtnAction","attivitaService","AttivitaService","_ref4","_ref5","activity_id","_ref6","expectedDays","person_activity_id","resourceData","getActivityTypes","a","getActivityById","_res$ActivityType","activityType_id","ActivityType","activityManager_id","ActivityManager","assignForm","_tableResponse$meta","mappedResponse","JSON","parse","stringify","getRelatedPersonActivities","d","fullName","isCreate","addEmployee","parseInt","updateEmployee","createLabel","customRowActions","calendarIcon","tooltip","modalContent","RapportinoCalendar","forcePerson","detailSectionIcon","AssignCrud","trashIcon","buttonsContainer","removeEmployee","activityForm","getActivitiesByProject","isEdit","expand","enabled","rowProps","AssigningTable","AttivitaCrud","deleteActivity","file","ProjectExpensesType","file_name","uniqueIdentifier","projectExpensesCustomFields","getProjectExpensesTypes","innerCRUDFields","setInnerCRUDFields","loadModel","resources","newModel","labelMap","getProjectExpensesCreateDtoModel","Error","Map","forEach","item","toLocaleLowerCase","includes","get","readOnly","getExpensesByProjectId","updateProjectExpense","createProjectExpense","CostiCommessaCrud","deleteProjectExpense","progettoForm","noContainer","overrideParentFilters","setOverrideParentFilters","_props$currentFilter$","correctFilters","currentDate","dateFilters","_correctFilters$filte","personFilter","operator","some","currentFilter","getProjectByCustomer","_newFormData$offer_id","newFormData","onFilterSubmit","DatiOrdineModal","rowsIcon","AttivitaModal","bookIcon","CostiCommessaModal","deleteProject","columnsCustomer","amount_total","ProgettiPage","setCurrentFilter","yearFilter","_filter","yearFilterNames","currentFilters","_toConsumableArray","getHasProject","ProjectTable","salService","SalService","other_filters","transformFilters","customerID","project","activity","person","_ref7","_x33","_x34","_x35","_x36","_x37","_filtering$filters","_x38","_x39","_x40","_x41","_x42","_x43","month","_x44","_x45","_x46","obj","reduce","acc","customFieldsSal","YearMonthPicker","_props$value","_props$value2","_props$value3","workingDays","setWorkingDays","setPerson","acronyms","setAcronyms","actualDays","effectiveDays","setEffectiveDays","effectiveDaysPristine","setEffectiveDaysPristine","finalAmount","setFinalAmount","rapportinoViewParam","setRapportinoViewParam","sal","monthyear","getSalWorkedDays","getMonth","detail","accumulator","currentValue","minutes","hours","allPersonSum","allAcronyms","singlePerson","billAcronym","toFixed","Accordion","defaultOpened","first_name","last_name","svgIcon","date","code","target","Modal","isOpen","height","forceDate","requiredValidator","getDateFromData","SalCrud","_formSalData$Bill","_formSalData$Bill2","_formSalData$Bill3","_formSalData$Bill4","_formSalData$Bill5","_formSalData$Bill6","formSal","formSalData","setFormSalData","action","mappedObj","notes","money","SalState","billData","billing_date","billing_number","advancePayment","baf_number","sal_id","Bill","updateBill","createBill","amountBill","deleteBill","message","otherSal","mappedData","billToPerson","BillToPerson","join","lastSal","val","os","justifyContent","marginTop","fileAddIcon","stampIcon","onNext","SalContext","createContext","draft","customers","projects","billing","addOpen","removeOpen","setFilters","SalProvider","setDraft","setBilling","Provider","tableType","newData","SalDraftItem","useContext","rowData","authService","size","updateToBilling","refreshParent","monthStr","toLocaleString","charAt","toUpperCase","slice","toLowerCase","rows","setRows","ok","ko","useCallback","getSalFromProject","model","totalBill","SalProjectDraft","tableRef","_useContext","getProjectsWithSal","td","gridtable_expanded","renderExpand","onExpandChange","expanded","rowStyle","background","oldSal","missingSal","totalAmount","SalDraft","getCustomersWithSal","_tableRef$current","indexOf","searchCustomer","SalRTBItem","updateToBilled","getSalRTBFromProject","SalRTBProject","getReadyToBillByProject","SalReadyToBill","getReadyToBillByCustomer","Sal","SalHistoryItem","getHistoryBillFromProject","omit","SalHistoryProject","getHistoryBillFromCustomer","SalHistoryCustomer","getHistoryBillCustomer","SalPage","renderAllContent","CS","queryParams","trim","OffertaService","resourceType","responseType","_getProtocol","_getFilesByIds","uniqueIdentifiers","CrudGenericServiceC","___CSS_LOADER_EXPORT___","module"],"sourceRoot":""}